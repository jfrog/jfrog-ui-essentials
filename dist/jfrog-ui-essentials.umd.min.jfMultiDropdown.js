(("undefined"!==typeof self?self:this)["webpackJsonpjfrog_ui_essentials"]=("undefined"!==typeof self?self:this)["webpackJsonpjfrog_ui_essentials"]||[]).push([[34],{"5d09":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"jf-multi-dropdown",class:{disabled:e.disabled,"with-text-inputs":e.textInputs,borderless:e.borderless}},[e.label?n("label",[e._v(e._s(e.label)+" "),e.showLabelCounter&&e.selectedItems().length?n("span",[e._v("("+e._s(e.selectedItems().length)+")")]):e._e()]):e._e(),n("div",{staticClass:"main-box",class:{"selected-view":e.selectedItems().length,"no-items":!e.items.length&&e.noItemsMessage,"no-label":!e.label},on:{click:function(t){return e.onClick()}}},[e.showSelected&&!e.selectedItems().length?n("span",[e._v(e._s(e.title))]):e._e(),e.showSelected?e._e():n("span",{staticClass:"title-wrapper"},[e._v("\n            "+e._s(e.title)+"\n            "),n("span",{staticClass:"selected-counter"},[e._v("("+e._s(e.getSelectedCount())+")")])]),e.showSelected&&e.selectedItems().length?n("span",[e._v("\n            "+e._s(e.getSelectedForTitle())+"\n        ")]):e._e(),n("span",{staticClass:"actions"},[e.showSelected&&e.selectedItems().length?n("i",{staticClass:"clear-field",on:{click:function(t){return t.stopPropagation(),e.unSelectAll()}}},[e._v("Ã—")]):e._e(),n("i",{staticClass:"icon-small-arrow-down"})])]),e.opened?n("div",{staticClass:"drop-down-container"},[e.noFilter?e._e():n("div",{staticClass:"filter-container"},[n("form",[n("jf-field",{attrs:{autofocus:!0}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.filterText,expression:"filterText"}],staticClass:"input-text",attrs:{type:"text",autocomplete:"off",name:"items-filter",placeholder:e.filterPlaceholder},domProps:{value:e.filterText},on:{input:function(t){t.target.composing||(e.filterText=t.target.value)}}})])],1)]),e.items.length?n("div",{staticClass:"list-container"},e._l(e.$filterArray(e.items,{text:e.filterText}),(function(t,i){return n("div",{key:i+e.filterText,staticClass:"drop-down-item",class:{"last-selected":i===e.lastSelectedIndex&&!e.filterText,disabled:t.disabled}},[e.singleSelection?e._e():n("label",{staticClass:"jf-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.isSelected,expression:"item.isSelected"}],attrs:{type:"checkbox",disabled:t.disabled},domProps:{checked:Array.isArray(t.isSelected)?e._i(t.isSelected,null)>-1:t.isSelected},on:{change:[function(n){var i=t.isSelected,s=n.target,l=!!s.checked;if(Array.isArray(i)){var c=null,o=e._i(i,c);s.checked?o<0&&e.$set(t,"isSelected",i.concat([c])):o>-1&&e.$set(t,"isSelected",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(t,"isSelected",l)},function(t){return e.onSelection()}]}}),n("span"),t.iconClass?n("i",{staticClass:"item-icon",class:t.iconClass}):e._e(),e._v("\n                        "+e._s(t.text)+"\n                    ")]),e.singleSelection?n("jf-radio-button",{key:t.isSelected,attrs:{text:t.text}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.singleSelectionIndex,expression:"singleSelectionIndex"}],attrs:{type:"radio",disabled:t.disabled},domProps:{value:t.$id,checked:e._q(e.singleSelectionIndex,t.$id)},on:{change:[function(n){e.singleSelectionIndex=t.$id},function(t){return e.onSingleSelection()}]}})]):e._e(),e.textInputs?n("span",{staticClass:"text-input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputTextValue,expression:"item.inputTextValue"}],staticClass:"input-text",attrs:{type:"text",name:"items-filter",placeholder:t.inputPlaceholder||"Free text"},domProps:{value:t.inputTextValue},on:{input:function(n){n.target.composing||e.$set(t,"inputTextValue",n.target.value)}}})]):e._e()],1)})),0):e._e(),e.items.length?n("div",{staticClass:"batch-action-buttons"},[n("button",{staticClass:"btn btn-default pull-right",attrs:{type:"button"},on:{click:function(t){return e.clearSelection()}}},[e._v("\n                    "+e._s(e.singleSelection?"Clear selection":"Clear All")+"\n                ")]),e.singleSelection?e._e():n("button",{staticClass:"btn btn-default pull-right",attrs:{type:"button"},on:{click:function(t){return e.selectAll()}}},[e._v("\n                    Select All\n                ")])]):e._e(),!e.items.length&&e.noItemsMessage?n("div",{staticClass:"list-container"},[n("div",{staticClass:"no-items-message"},[e._v("\n                    "+e._s(e.noItemsMessage)+"\n                ")])]):e._e()]):e._e()])])},s=[],l=(n("7514"),n("ac6a"),n("c707")),c=n.n(l),o=n("dd61"),a=n.n(o),r=n("6cd4"),d=n.n(r),u=n("9380"),f=n.n(u),h=n("2769"),p=n.n(h),m=n("e1f3"),g={name:"jf-multi-dropdown",props:["title","label","filterPlaceholder","noItemsMessage","items","disabled","noSort","dropdownOpened","showSelected","showLabelCounter","noFilter","noSelectedFirst","singleSelection","textInputs","borderless"],"jf@inject":["$scope","$filter","$element"],data:function(){return{opened:null,filterText:null,lastSelectedIndex:null,singleSelectionIndex:-1}},created:function(){var e=this;this.filter=this.$filterArray,this.opened=!1,this.$scope.$watch("jfMultiDropdown.items",(function(t,n){if(t&&e.singleSelection){e.items.forEach((function(e,t){return e.$id=t}));var i=f()(e.items,(function(e){return e.disabled}));i.forEach((function(e){return e.isSelected=!1}));var s=f()(e.items,(function(e){return e.isSelected}));s.length>1&&s.slice(1).forEach((function(e){return e.isSelected=!1})),s.length&&(e.singleSelectionIndex=s[0].$id)}})),this.$scope.$watch("jfMultiDropdown.dropdownOpened",(function(t){if(!0===t){if(!e.items)return;e.opened=!0,e.filterText=""}else!1===t&&(e.opened=!1,e.filterText="")}))},mounted:function(){this.handleOutsideClick()},ng1_legacy:{controllerAs:"jfMultiDropdown"},methods:{sendOpenStateChange:function(){this.$emit("on-open-state-change",{opened:this.opened}),!this.opened&&this.singleSelection},handleOutsideClick:function(){var e=this,t=function(t){var n=!$(t.target).parents(".jf-multi-dropdown").length||$(t.target).parents(".jf-multi-dropdown")[0]!==$(e.$element).find(".jf-multi-dropdown")[0];if(n){var i=!!e.opened;e.opened=!1,i&&e.sendOpenStateChange()}};$(document).on("click",t),this.$scope.$on("$destroy",(function(){$(document).off("click",t)}))},getSelectedForTitle:function(){var e=f()(this.items,(function(e){return e.isSelected}));return e=a()(e,(function(e){return e.selectedText||e.text})),e.join(", ")},onClick:function(){if(!0!==this.disabled){if(!this.items)return;this.opened=!this.opened,this.sendOpenStateChange(),this.filterText=""}},onSingleSelection:function(){var e=this,t=m["a"].getInstance(),n=t.Vue;n.nextTick((function(){e.items.forEach((function(e,t){e.disabled||(e.isSelected=!1)}));var t=p()(e.items,(function(t){return t.$id==e.singleSelectionIndex}));t.isSelected=!0,e.applyChanges()}))},getSelectedCount:function(){var e=f()(this.items,(function(e){return e.isSelected&&!e.isAllToggleCheckbox}));return e.length},applyChanges:function(){var e=this,t=m["a"].getInstance(),n=t.Vue;n.nextTick((function(){var t=f()(e.items,(function(e){return e.isSelected}));e.$emit("on-change",t),e.$forceUpdate()}))},selectedItems:function(){var e=f()(this.items,(function(e){return e.isSelected}));return e=a()(e,"text"),e},sortItems:function(){if(!this.opened&&!this.noSelectedFirst&&this.items){var e=this.noSort?f()(this.items,(function(e){return e.isSelected})):c()(f()(this.items,(function(e){return e.isSelected})),"text"),t=this.noSort?f()(this.items,(function(e){return!e.isSelected})):c()(f()(this.items,(function(e){return!e.isSelected})),"text");this.lastSelectedIndex=e.length-1;var n=e.concat(t);this.items.splice.apply(this.items,[0,this.items.length].concat(n))}},selectAll:function(){this.disabled||(this.filter(this.items,this.filterText).forEach((function(e){e.disabled||(e.isSelected=!0)})),this.applyChanges())},unSelectAll:function(){this.disabled||(this.filter(this.items,this.filterText).forEach((function(e){e.disabled||(e.isSelected=!1)})),this.applyChanges(),this.singleSelectionIndex=-1)},onSelection:function(){this.applyChanges()},clearSelection:function(){this.disabled||(this.textInputs&&d()(this.items,(function(e){e.inputTextValue=""})),this.unSelectAll())}}},S=g,x=n("2877"),v=Object(x["a"])(S,i,s,!1,null,"d5015d4e",null);t["default"]=v.exports}}]);
//# sourceMappingURL=jfrog-ui-essentials.umd.min.jfMultiDropdown.js.map
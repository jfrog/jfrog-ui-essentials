(("undefined"!==typeof self?self:this)["webpackJsonpjfrog_ui_essentials"]=("undefined"!==typeof self?self:this)["webpackJsonpjfrog_ui_essentials"]||[]).push([[34],{"5d09":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"jf-multi-dropdown",class:{disabled:e.disabled,"with-text-inputs":e.textInputs,borderless:e.borderless}},[e.label?i("label",[e._v(e._s(e.label)+" "),e.showLabelCounter&&e.selectedItems().length?i("span",[e._v("("+e._s(e.selectedItems().length)+")")]):e._e()]):e._e(),i("div",{staticClass:"main-box",class:{"selected-view":e.selectedItems().length,"no-items":!e.items.length&&e.noItemsMessage,"no-label":!e.label},on:{click:function(t){return e.onClick()}}},[e.showSelected&&!e.selectedItems().length?i("span",[e._v(e._s(e.title))]):e._e(),e.showSelected?e._e():i("span",{staticClass:"title-wrapper"},[e._v("\n            "+e._s(e.title)+"\n            "),i("span",{staticClass:"selected-counter"},[e._v("("+e._s(e.getSelectedCount())+")")])]),e.showSelected&&e.selectedItems().length?i("span",[e._v("\n            "+e._s(e.getSelectedForTitle())+"\n        ")]):e._e(),i("span",{staticClass:"actions"},[e.showSelected&&e.selectedItems().length?i("i",{staticClass:"clear-field",on:{click:function(t){return t.stopPropagation(),e.unSelectAll()}}},[e._v("Ã—")]):e._e(),i("i",{staticClass:"icon-small-arrow-down"})])]),e.opened?i("div",{staticClass:"drop-down-container"},[e.noFilter?e._e():i("div",{staticClass:"filter-container"},[i("form",[i("jf-field",{attrs:{autofocus:!0}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filterText,expression:"filterText"}],staticClass:"input-text",attrs:{type:"text",autocomplete:"off",name:"items-filter",placeholder:e.filterPlaceholder},domProps:{value:e.filterText},on:{input:function(t){t.target.composing||(e.filterText=t.target.value)}}})])],1)]),e.items.length?i("div",{staticClass:"list-container"},e._l(e.$filterArray(e.items,{text:e.filterText}),(function(t,n){return i("div",{key:n+e.filterText,staticClass:"drop-down-item",class:{"last-selected":n===e.lastSelectedIndex&&!e.filterText,disabled:t.disabled}},[e.singleSelection?e._e():i("label",{staticClass:"jf-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isSelected,expression:"item.isSelected"}],attrs:{type:"checkbox",disabled:t.disabled},domProps:{checked:Array.isArray(t.isSelected)?e._i(t.isSelected,null)>-1:t.isSelected},on:{change:[function(i){var n=t.isSelected,s=i.target,l=!!s.checked;if(Array.isArray(n)){var o=null,c=e._i(n,o);s.checked?c<0&&e.$set(t,"isSelected",n.concat([o])):c>-1&&e.$set(t,"isSelected",n.slice(0,c).concat(n.slice(c+1)))}else e.$set(t,"isSelected",l)},function(t){return e.onSelection()}]}}),i("span"),t.iconClass?i("i",{staticClass:"item-icon",class:t.iconClass}):e._e(),e._v("\n                        "+e._s(t.text)+"\n                    ")]),e.singleSelection?i("jf-radio-button",{key:t.isSelected,attrs:{text:t.text}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.singleSelectionIndex,expression:"singleSelectionIndex"}],attrs:{type:"radio",disabled:t.disabled},domProps:{value:t.$id,checked:e._q(e.singleSelectionIndex,t.$id)},on:{change:[function(i){e.singleSelectionIndex=t.$id},function(t){return e.onSingleSelection()}]}})]):e._e(),e.textInputs?i("span",{staticClass:"text-input-wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputTextValue,expression:"item.inputTextValue"}],staticClass:"input-text",attrs:{type:"text",name:"items-filter",placeholder:t.inputPlaceholder||"Free text"},domProps:{value:t.inputTextValue},on:{input:function(i){i.target.composing||e.$set(t,"inputTextValue",i.target.value)}}})]):e._e()],1)})),0):e._e(),e.items.length?i("div",{staticClass:"batch-action-buttons"},[i("button",{staticClass:"btn btn-default pull-right",attrs:{type:"button"},on:{click:function(t){return e.clearSelection()}}},[e._v("\n                    "+e._s(e.singleSelection?"Clear selection":"Clear All")+"\n                ")]),e.singleSelection?e._e():i("button",{staticClass:"btn btn-default pull-right",attrs:{type:"button"},on:{click:function(t){return e.selectAll()}}},[e._v("\n                    Select All\n                ")])]):e._e(),!e.items.length&&e.noItemsMessage?i("div",{staticClass:"list-container"},[i("div",{staticClass:"no-items-message"},[e._v("\n                    "+e._s(e.noItemsMessage)+"\n                ")])]):e._e()]):e._e()])])},s=[],l=(i("7514"),i("ac6a"),i("e1f3")),o={name:"jf-multi-dropdown",props:["title","label","filterPlaceholder","noItemsMessage","items","disabled","noSort","dropdownOpened","showSelected","showLabelCounter","noFilter","noSelectedFirst","singleSelection","textInputs","borderless"],"jf@inject":["$scope","$filter","$element"],data:function(){return{opened:null,filterText:null,lastSelectedIndex:null,singleSelectionIndex:-1}},created:function(){var e=this;this.filter=this.$filterArray,this.opened=!1,this.$scope.$watch("jfMultiDropdown.items",(function(t,i){if(t&&e.singleSelection){e.items.forEach((function(e,t){return e.$id=t}));var n=_.filter(e.items,(function(e){return e.disabled}));n.forEach((function(e){return e.isSelected=!1}));var s=_.filter(e.items,(function(e){return e.isSelected}));s.length>1&&s.slice(1).forEach((function(e){return e.isSelected=!1})),s.length&&(e.singleSelectionIndex=s[0].$id)}})),this.$scope.$watch("jfMultiDropdown.dropdownOpened",(function(t){if(!0===t){if(!e.items)return;e.opened=!0,e.filterText=""}else!1===t&&(e.opened=!1,e.filterText="")}))},mounted:function(){this.handleOutsideClick()},ng1_legacy:{controllerAs:"jfMultiDropdown"},methods:{sendOpenStateChange:function(){this.$emit("on-open-state-change",{opened:this.opened}),!this.opened&&this.singleSelection},handleOutsideClick:function(){var e=this,t=function(t){var i=!$(t.target).parents(".jf-multi-dropdown").length||$(t.target).parents(".jf-multi-dropdown")[0]!==$(e.$element).find(".jf-multi-dropdown")[0];if(i){var n=!!e.opened;e.opened=!1,n&&e.sendOpenStateChange()}};$(document).on("click",t),this.$scope.$on("$destroy",(function(){$(document).off("click",t)}))},getSelectedForTitle:function(){var e=_.filter(this.items,(function(e){return e.isSelected}));return e=_.map(e,(function(e){return e.selectedText||e.text})),e.join(", ")},onClick:function(){if(!0!==this.disabled){if(!this.items)return;this.opened=!this.opened,this.sendOpenStateChange(),this.filterText=""}},onSingleSelection:function(){var e=this,t=l["a"].getInstance(),i=t.Vue;i.nextTick((function(){e.items.forEach((function(e,t){e.disabled||(e.isSelected=!1)}));var t=_.find(e.items,(function(t){return t.$id==e.singleSelectionIndex}));t.isSelected=!0,e.applyChanges()}))},getSelectedCount:function(){var e=_.filter(this.items,(function(e){return e.isSelected&&!e.isAllToggleCheckbox}));return e.length},applyChanges:function(){var e=this,t=l["a"].getInstance(),i=t.Vue;i.nextTick((function(){var t=_.filter(e.items,(function(e){return e.isSelected}));e.$emit("on-change",t),e.$forceUpdate()}))},selectedItems:function(){var e=_.filter(this.items,(function(e){return e.isSelected}));return e=_.map(e,"text"),e},sortItems:function(){if(!this.opened&&!this.noSelectedFirst&&this.items){var e=this.noSort?_.filter(this.items,(function(e){return e.isSelected})):_.sortBy(_.filter(this.items,(function(e){return e.isSelected})),"text"),t=this.noSort?_.filter(this.items,(function(e){return!e.isSelected})):_.sortBy(_.filter(this.items,(function(e){return!e.isSelected})),"text");this.lastSelectedIndex=e.length-1;var i=e.concat(t);this.items.splice.apply(this.items,[0,this.items.length].concat(i))}},selectAll:function(){this.disabled||(this.filter(this.items,this.filterText).forEach((function(e){e.disabled||(e.isSelected=!0)})),this.applyChanges())},unSelectAll:function(){this.disabled||(this.filter(this.items,this.filterText).forEach((function(e){e.disabled||(e.isSelected=!1)})),this.applyChanges(),this.singleSelectionIndex=-1)},onSelection:function(){this.applyChanges()},clearSelection:function(){this.disabled||(this.textInputs&&_.forEach(this.items,(function(e){e.inputTextValue=""})),this.unSelectAll())}}},c=o,a=i("2877"),r=Object(a["a"])(c,n,s,!1,null,"17e71a6b",null);t["default"]=r.exports}}]);
//# sourceMappingURL=jfrog-ui-essentials.umd.min.jfMultiDropdown.js.map
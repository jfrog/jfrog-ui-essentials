{"version":3,"sources":["webpack://jfrog-ui-essentials/./src/components/JfListSelectionComponent/index.vue?062e","webpack://jfrog-ui-essentials/./src/components/JfListSelectionComponent/index.vue?dbae","webpack://jfrog-ui-essentials/src/components/JfListSelectionComponent/index.vue","webpack://jfrog-ui-essentials/./src/components/JfListSelectionComponent/index.vue?2bbe","webpack://jfrog-ui-essentials/./src/components/JfListSelectionComponent/index.vue","webpack://jfrog-ui-essentials/./src/components/JfListSelectionComponent/index.vue?17dd"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA,0BAA0B,aAAa,0BAA0B,wBAAwB,iBAAiB,gCAAgC,cAAc,aAAa,8EAA8E,6CAA6C,wCAAwC,WAAW,yBAAyB,KAAK,0BAA0B,4BAA4B,QAAQ,EAAE,mCAAmC,kBAAkB,4BAA4B,GAAG,YAAY,iCAAiC,WAAW,yBAAyB,WAAW,2CAA2C,kBAAkB,iEAAiE,uBAAuB,8DAA8D,2FAA2F,KAAK,4BAA4B,6BAA6B,0BAA0B,0DAA0D,oEAAoE,mDAAmD,uHAAuH,4DAA4D,yBAAyB,mCAAmC,IAAI,gDAAgD,OAAO,oCAAoC;AACt+C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmBA;;IAEA,6D;AACA;AAAA,IAAI;;AACJ;AACA;;;;WAEA;AACA;AACA;AACA;;AACA;AACA;;;WAEA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;;;WAEA;AACA;AACA;AACA;AACA;;;WAEA;AACA;AACA;AACA;AACA;;;WAEA;AACA;AACA;AACA;AACA;;;WAEA;AAAA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,OAPA;AAQA;;;WAEA;AACA;AACA;;;;;;AAGA;AACA,2BADA;AAGA,UACA,OADA,EAEA,eAFA,EAGA,mBAHA,EAIA,kBAJA,CAHA;AASA,gBACA,UADA,CATA;AAYA,MAZA,kBAYA;AACA;AACA,sBADA;AAEA,yBAFA;AAGA,wDAHA;AAIA;AAJA;AAMA,GAnBA;AAoBA,SApBA,qBAoBA;AACA;AACA,GAtBA;AAuBA,SAvBA,qBAuBA;AAAA;;AACA;AACA;AACA;AACA;;AACA;;AACA;;AACA;AACA,KAPA;AAQA,GAhCA;AAiCA;AACA,UADA,kBACA,YADA,EACA,cADA,EACA;AACA;AACA;AAAA;AAAA;AACA;;AACA;AACA,KANA;AAOA,cAPA,sBAOA,IAPA,EAOA;AACA;;AACA;AACA;AACA;AADA;AAGA;;AACA;AACA,KAfA;AAgBA,gBAhBA,0BAgBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAxBA;AAyBA,kBAzBA,4BAyBA;AACA;AACA;AACA,KA5BA;AA6BA,mBA7BA,2BA6BA,IA7BA,EA6BA;AACA;AACA;AAAA;AAAA;;AACA;AACA;AACA;;AACA;AACA;;AACA;AACA,KAtCA;AAuCA,eAvCA,uBAuCA,IAvCA,EAuCA;AACA;AACA;AACA;AA1CA;AAjCA,G;;AC9E8U,CAAgB,gJAAG,EAAC,C;;;;;;;;ACAlQ;AACvC;AACL;AACsC;;;AAG1F;AAC6F;AAC7F,gBAAgB,8CAAU;AAC1B,EAAE,2DAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,+G;;;;;;;ACnBf,uC","file":"jfrog-ui-essentials.common.jfListSelection.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1caf69cd&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"jf-list-selection\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterList),expression:\"filterList\"}],staticClass:\"input-text dnd-filter\",attrs:{\"type\":\"text\",\"placeholder\":\"Filter...\"},domProps:{\"value\":(_vm.filterList)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.filterList=$event.target.value},function($event){return _vm.onFilterChange()}]}}),_c('div',{staticClass:\"group-list-wrapper\"},[_c('ul',{staticClass:\"group-list\"},[_c('li',{staticClass:\"group-list-item\",staticStyle:{\"display\":\"none\"}},[_vm._v(\"*\")]),_vm._l((_vm.getPageItems()),function(item,index){return _c('li',_vm._b({key:index,staticClass:\"group-list-item cursor-pointer\",class:{'not-clickable': !item.clickable, 'highlighted': item.highlighted && _vm.highlightSelected},on:{\"dblclick\":function($event){return _vm.onItemClick(item)},\"click\":function($event){_vm.allowSingleClick ? _vm.onItemSelection(item) : null}}},'li',_vm.addToolTip(item),false),[(item.icon_class)?_c('i',_vm._b({staticClass:\"icon pull-left\",class:item.icon_class},'i',_vm.addToolTip(item),false)):_vm._e(),_vm._v(\"\\n                \"+_vm._s(item.name)+\"\\n                \"),_c('i',{staticClass:\"icon icon-arrow pull-right cursor-pointer\",on:{\"click\":function($event){return _vm.onItemSelection(item)}}})])})],2)]),_c('div',[_c('jf-drag-drop-pagination',{attrs:{\"pagination-api\":_vm.paginationApi}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"jf-list-selection\">\n        <input type=\"text\" v-model=\"filterList\" placeholder=\"Filter...\" @input=\"onFilterChange()\" class=\"input-text dnd-filter\">\n        <div class=\"group-list-wrapper\">\n            <ul class=\"group-list\">\n                <li class=\"group-list-item\" style=\"display: none\">*</li>\n                <li class=\"group-list-item cursor-pointer\" v-for=\"(item, index) in getPageItems()\" :key=\"index\" :class=\"{'not-clickable': !item.clickable, 'highlighted': item.highlighted && highlightSelected}\" @dblclick=\"onItemClick(item)\" @click=\"allowSingleClick ? onItemSelection(item) : null\" v-bind=\"addToolTip(item)\">\n                    <i v-if=\"item.icon_class\" :class=\"item.icon_class\" v-bind=\"addToolTip(item)\" class=\"icon pull-left\"></i>\n                    {{item.name}}\n                    <i class=\"icon icon-arrow pull-right cursor-pointer\" @click=\"onItemSelection(item)\"></i>\n                </li>\n            </ul>\n        </div>\n        <div>\n            <jf-drag-drop-pagination :pagination-api=\"paginationApi\"></jf-drag-drop-pagination>\n        </div>\n    </div>\n</template>\n\n<script>\n    import find from 'lodash/find';\n\n    class PaginationApi {\n        constructor(ctrl) {\n            this.ctrl = ctrl;\n        }\n\n        getTotalPages() {\n            if (!this.ctrl.usePagination) {\n                return 0;\n            }\n            return Math.ceil(this.ctrl.filter(this.ctrl.items, this.ctrl.filterList).length / this.ctrl.itemsPerPage);\n        }\n\n        getCurrentPage() {\n            if (this.ctrl.currentPage > this.getTotalPages()) {\n                this.ctrl.currentPage = this.getTotalPages();\n            }\n            if (this.ctrl.currentPage < 1) {\n                this.ctrl.currentPage = 1;\n            }\n            return this.ctrl.currentPage;\n        }\n\n        nextPage() {\n            if (this.ctrl.currentPage < this.getTotalPages()) {\n                this.ctrl.currentPage++;\n            }\n        }\n\n        prevPage() {\n            if (this.ctrl.currentPage > 1) {\n                this.ctrl.currentPage--;\n            }\n        }\n\n        setPage(pageNum) {\n            if (pageNum >= 1 && pageNum <= this.getTotalPages()) {\n                this.ctrl.currentPage = pageNum;\n            }\n        }\n\n        update() {\n            this.ctrl.$timeout(() => {\n                if (this.getCurrentPage() > this.getTotalPages()) {\n                    this.setPage(this.getTotalPages());\n                }\n                if (this.listener) {\n                    this.listener(this.getCurrentPage());\n                }\n            });\n        }\n\n        registerChangeListener(listener) {\n            this.listener = listener;\n        }\n    }\n\n    export default {\n        name: 'jf-list-selection',\n\n        props: [\n            'items',\n            'usePagination',\n            'highlightSelected',\n            'allowSingleClick'\n        ],\n         'jf@inject': [\n            '$timeout',\n        ],\n        data() {\n            return {\n                filterList: null,\n                paginationApi: null,\n                itemsPerPage: this.items && this.items.length || 0,\n                currentPage: 1\n            };\n        },\n        created() {\n            this.paginationApi = new PaginationApi(this);\n        },\n         mounted() {\n            this.$nextTick(()=>{\n                if( !this.$element ) {\n                    return;\n                }\n                let containerHeight = this.$element.find('.group-list-wrapper').innerHeight();\n                let itemHeight = this.$element.find('.group-list-item').outerHeight();\n                this.itemsPerPage = Math.floor(containerHeight / itemHeight);\n            });\n        },\n        methods: {\n            filter(originalList, filterCriteria) {\n                if( filterCriteria ) {\n                    return originalList.filter( item => item.name.toLowerCase().indexOf(filterCriteria) != -1 )\n                }\n                return originalList;\n            },\n            addToolTip(item){\n                let prop = {};\n                if( item.icon_tooltip ) {\n                    prop = {\n                        \"jf-tooltip\":item.icon_tooltip\n                    }\n                }\n                return prop;\n            },\n            getPageItems() {\n                if (!this.usePagination) {\n                    return this.filter(this.items, this.filterList);\n                }\n\n                let start = (this.currentPage - 1) * this.itemsPerPage;\n                let slice = this.filter(this.items, this.filterList).slice(start, start + this.itemsPerPage);\n                return slice;\n            },\n            onFilterChange() {\n                this.paginationApi.setPage(1);\n                this.paginationApi.update();\n            },\n            onItemSelection(item) {\n                if (this.highlightSelected && !item.highlighted) {\n                    let lastHiglighted = find(this.items, i => i.highlighted);\n                    if (lastHiglighted) {\n                        lastHiglighted.highlighted = false;\n                    }\n                    item.highlighted = true;\n                }\n                this.onItemClick(item);\n            },\n            onItemClick(item) {\n                this.$emit('select', item);\n                this.paginationApi.update();\n            }\n        }\n    }\n\n</script>\n\n<style scoped lang=\"less\">\n    @import '../../assets/stylesheets/variables';\n    .jf-list-selection {\n        .cursor-pointer{\n            cursor: pointer;\n        }\n        .grid-pagination {\n            margin: 0 !important;\n        }\n        .not-clickable {\n            cursor: default;\n        }\n\n        i:first-child.icon {\n            padding: 1px 10px 0 5px;\n            font-size: 17px;\n            line-height: 20px;\n        }\n        .group-list-wrapper {\n            border: 1px solid #e9e9e9;\n\n            .group-list {\n                user-select: none;\n                padding: 0;\n                margin-top: 10px;\n                margin-bottom: 10px;\n\n                .group-list-item {\n\n                    display: block;\n                    padding: 10px 15px;\n                    white-space: nowrap;\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n\n                    &:nth-child(odd) {\n                        background-color: @grayGridRow;\n                    }\n                    &:nth-child(even) {\n                        background-color: @white;\n                    }\n\n                    &.highlighted {\n                        //This !important is only necessary temporarily. It is being overridden by another occurrence of .group-list-item.highlighted selector - which should get removed once we clean up\n                        background-color:@grayBGDark !important;\n                    }\n                }\n            }\n        }\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1caf69cd&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1caf69cd&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1caf69cd\",\n  null\n  \n)\n\nexport default component.exports","// extracted by mini-css-extract-plugin"],"sourceRoot":""}
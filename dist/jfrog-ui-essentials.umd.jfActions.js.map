{"version":3,"sources":["webpack://jfrog-ui-essentials/./src/components/JfActionsComponent/index.vue?be1b","webpack://jfrog-ui-essentials/./src/components/JfActionsComponent/index.vue?6669","webpack://jfrog-ui-essentials/./src/components/JfActionsComponent/index.vue?0e43","webpack://jfrog-ui-essentials/src/components/JfActionsComponent/index.vue","webpack://jfrog-ui-essentials/./src/components/JfActionsComponent/index.vue?86d4","webpack://jfrog-ui-essentials/./src/components/JfActionsComponent/index.vue"],"names":[],"mappings":";;;;;AAAA,uC;;;;;;;;ACAA;AAAA;AAAA;;;;;;;;;;;;;ACAA,0BAA0B,aAAa,0BAA0B,wBAAwB,0BAA0B,aAAa,sGAAsG,4BAA4B,sDAAsD,gBAAgB,aAAa,sJAAsJ,+CAA+C,qFAAqF,KAAK,yBAAyB,wCAAwC,UAAU,OAAO,qCAAqC,UAAU,oDAAoD,2DAA2D,WAAW,aAAa,kGAAkG,8BAA8B,aAAa,8BAA8B,4BAA4B,WAAW,2EAA2E,uDAAuD,gBAAgB,aAAa,wMAAwM,qDAAqD,UAAU,sCAAsC,WAAW,KAAK,yBAAyB,wBAAwB,wCAAwC,8BAA8B,oDAAoD,2DAA2D,0BAA0B,YAAY,OAAO,uBAAuB,wBAAwB,0BAA0B,wCAAwC,aAAa,kDAAkD,WAAW,KAAK,yBAAyB,wBAAwB,2CAA2C,qEAAqE,qDAAqD;AACntE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwCA;AAEA;AACA,oBADA;AAEA,UACA,OADA,EAEA,YAFA,EAGA,mBAHA,EAIA,wBAJA,EAKA,wBALA,CAFA;AASA,MATA,kBASA;AACA;AACA,sBADA;AAEA,wBAFA;AAGA,2BAHA;AAIA,+BAJA;AAKA;AACA;AADA,OALA;AAQA,wCARA;AASA,oBATA;AAUA;AAVA;AAYA,GAtBA;AAuBA;AACA,0BADA,oCACA;AACA;AACA;AAHA,GAvBA;AA4BA;AACA,eADA,uBACA,MADA,EACA;AACA;;AACA;AACA,KAJA;AAKA,kBALA,0BAKA,MALA,EAKA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AAbA,GA5BA;AA2CA,SA3CA,qBA2CA;AAAA;;AACA;;AAEA;AACA;AACA;AACA,KAHA,MAGA;AACA;AACA;;AAEA;AACA;AACA,KAFA,EAEA,IAFA;AAIA;AACA;AACA;AACA;AACA,KAJA;AAMA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA,OAJA;AAMA;AACA;;AACA;AACA,OAHA;AAIA;AACA;;AACA;AACA;AACA;AACA,OALA;AAMA;AACA;;AACA;AACA,OAHA;AAIA;AACA;;AACA;AACA;AACA;AACA,WAFA,EAEA,GAFA;AAGA;AACA,OAPA;AAQA;;AAEA;AACA;AACA;AACA;AACA;;AACA;AACA,KANA;;AAQA;AACA;AACA;AACA;AACA;;AACA;AACA,KANA;AAOA,GAnHA;AAqHA,eArHA,2BAqHA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAhIA;AAkIA;AACA,qBADA,6BACA,cADA,EACA;AACA;AACA,KAHA;AAIA,oBAJA,4BAIA,MAJA,EAIA;AACA;AACA,KANA;AAOA,wBAPA,gCAOA,iBAPA,EAOA;AACA;;AACA;AACA,KAVA;AAWA,cAXA,sBAWA,OAXA,EAWA;AACA;;AACA;AACA,KAdA;AAeA,YAfA,oBAeA,SAfA,EAeA,CAfA,EAeA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA7BA;AA8BA,yBA9BA,mCA8BA;AACA,yEACA;AACA;AAAA;AAAA;AACA,KAlCA;AAmCA,mBAnCA,2BAmCA,MAnCA,EAmCA;AAAA;;AACA;AACA;AACA,OAFA,EAEA,EAFA;AAGA,KAvCA;AAwCA,yBAxCA,mCAwCA;AAAA;;AACA;AACA;AACA,OAHA,CAIA;;;AACA;AACA;AACA;AACA;AACA;;AACA;AAAA;;AACA;AACA,OAPA,EALA,CAaA;;AACA;AACA,KAvDA;AAwDA,kBAxDA,4BAwDA;AAAA;;AACA;AACA;;AAEA;AACA;AAAA;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAFA,MAEA;AACA;;AACA;AACA;AACA,OAPA;;AAQA;AACA;AACA;AACA;AA5EA;AAlIA,G;;AC3C8U,CAAgB,oIAAG,EAAC,C;;;;;;;;ACAlQ;AACvC;AACL;AACsC;;;AAG1F;AAC6F;AAC7F,gBAAgB,8CAAU;AAC1B,EAAE,qDAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,yG","file":"jfrog-ui-essentials.umd.jfActions.js","sourcesContent":["// extracted by mini-css-extract-plugin","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2502ded0&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getActiveActionsCount()),expression:\"getActiveActionsCount()\"}],staticClass:\"list-inline\"},[_vm._l((_vm.fixedActions),function(actionObj,index){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(!actionObj.visibleWhen || actionObj.visibleWhen()),expression:\"!actionObj.visibleWhen || actionObj.visibleWhen()\"}],key:index,staticClass:\"action-button\",class:{disabled: actionObj.disabled || (actionObj.disabledWhen && actionObj.disabledWhen())},on:{\"click\":function($event){return _vm.doAction(actionObj,$event)}}},[_c('a',{attrs:{\"href\":actionObj.href,\"download\":\"\"}},[_c('i',{staticClass:\"action-icon icon\",class:actionObj.icon}),_vm._v(\" \"+_vm._s(actionObj.title)+\"\\n            \")])])}),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dynamicActions.length),expression:\"dynamicActions.length\"}],staticClass:\"action-button\"},[_c('span',{staticClass:\"dropdown\",class:{ open: _vm.isDropdownOpen }},[_c('ul',{staticClass:\"dropdown-menu dropdown-menu-right actions-dropdown text-left\"},_vm._l((_vm.dynamicActions),function(actionObj,index){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:((!actionObj.visibleWhen || actionObj.visibleWhen()) && !actionObj.isHidden),expression:\"(!actionObj.visibleWhen || actionObj.visibleWhen()) && !actionObj.isHidden\"}],key:index,staticClass:\"action-item dynamic-action\"},[_c('a',{staticClass:\"action-container\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.doAction(actionObj,$event)}}},[(actionObj.icon)?_c('span',{staticClass:\"action-icon icon\",class:actionObj.icon}):_vm._e(),(actionObj.image && !actionObj.icon)?_c('span',{staticClass:\"action-icon\"},[_c('img',{attrs:{\"src\":actionObj.image}})]):_vm._e(),_c('span',{staticClass:\"action-name\"},[_vm._v(_vm._s(actionObj.title))])])])}),0),_c('a',{staticClass:\"dropdown-toggle actions-more\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.isDropdownOpen = !_vm.isDropdownOpen}}},[_vm._v(\"\\n                    \"+_vm._s(_vm.int_label)+\" \"),_c('i',{staticClass:\"action-icon icon icon-small-arrow-down\"})])])])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <ul class=\"list-inline\" v-show=\"getActiveActionsCount()\">\n            <li v-for=\"(actionObj,index) in fixedActions\" :key=\"index\"\n                @click=\"doAction(actionObj,$event)\"\n                :class=\"{disabled: actionObj.disabled || (actionObj.disabledWhen && actionObj.disabledWhen())}\"\n                class=\"action-button\"\n                v-show=\"!actionObj.visibleWhen || actionObj.visibleWhen()\">\n                <a :href=\" actionObj.href \" download=\"\">\n                    <i class=\"action-icon icon\" :class=\"actionObj.icon\"></i> {{actionObj.title}}\n                </a>\n            </li>\n            <li v-show=\"dynamicActions.length\" class=\"action-button\">\n                <span class=\"dropdown\" :class=\"{ open: isDropdownOpen }\">\n                    <ul class=\"dropdown-menu dropdown-menu-right actions-dropdown text-left\">\n                        <li v-for=\"(actionObj,index) in dynamicActions\" :key=\"index\" class=\"action-item dynamic-action\"\n                            v-show=\"(!actionObj.visibleWhen || actionObj.visibleWhen()) && !actionObj.isHidden\">\n                            <a href=\"#\" class=\"action-container\" @click.prevent=\"doAction(actionObj,$event)\">\n                                <span class=\"action-icon icon\" v-if=\"actionObj.icon\" :class=\"actionObj.icon\"></span>\n                                <span class=\"action-icon\" v-if=\"actionObj.image && !actionObj.icon\">\n                                    <img :src=\"actionObj.image\">\n                                </span>\n                                <span class=\"action-name\">{{actionObj.title}}</span>\n                            </a>\n                        </li>\n                    </ul>\n                    <a href=\"#\" class=\"dropdown-toggle actions-more\" @click.prevent=\"isDropdownOpen = !isDropdownOpen\">\n                        {{int_label}} <i class=\"action-icon icon icon-small-arrow-down\"></i>\n                    </a>\n                </span>\n            </li>\n        </ul>\n        <!--<li ng-repeat=\"action in actions\">-->\n        <!--<a><span class=\"glyphicon glyphicon-refresh\"></span>{{action.name}}</a></li>-->\n        <!--<li><a><span class=\"glyphicon glyphicon-trash\"></span>Delete Content</a></li>-->\n        <!--<li><a><span class=\"glyphicon glyphicon-cloud-upload\"></span>Upload to Bintray</a></li>-->\n    </div>\n\n</template>\n\n<script>\n    import {VueFactory} from \"../../services/VueFactory\";\n\n    export default {\n        name: 'jf-actions',\n        props: [\n            'label',\n            'initMethod',\n            'fixedActionsNames',\n            'disableMouseOverEvents',\n            'showDropDownForOneItem'\n        ],\n        data() {\n            return {\n                fixedActions: [],\n                dynamicActions: [],\n                isDropdownOpen: false,\n                anyActionHasAnIcon: false,\n                actionsList: {\n                    actions: []\n                },\n                int_label: this.label || 'Actions',\n                clicked:false,\n                stayOpened:false\n            };\n        },\n        computed: {\n            hasSingleVisibleAction() {\n                return this.getActiveActionsCount() === 1 && !this.showDropDownForOneItem;\n            }\n        },\n        watch: {\n            actionsList(newVal){\n                console.log(\"in watch for actions\")\n                this._divideActions();\n            },\n            isDropdownOpen(newVal){\n                if (!newVal && this.clicked) {\n                    this.isDropdownOpen = true;\n                    this.clicked = false;\n                    this.stayOpened = true;\n                } else if (!newVal && this.stayOpened) {\n                    this.stayOpened = false;\n                }\n            }\n        },\n        mounted() {\n            let thisComponent = this;\n\n            if (!thisComponent.initMethod || !thisComponent.$parent[thisComponent.initMethod]) {\n                console.error('jfActions: Missing init-method attribute');\n                return;\n            } else {\n                thisComponent.$parent[thisComponent.initMethod](thisComponent);\n            }\n\n            this.intervalId = setInterval(() => {\n                thisComponent._divideActions();\n            }, 2000);\n\n            thisComponent.$watch('hasSingleVisibleAction', (newVal, oldVal) => {\n                if (newVal !== oldVal) {\n                    thisComponent._divideActions();\n                }\n            });\n\n            let dropdownOver = false;\n            let buttonOver = false;\n            let $dropdownElement = thisComponent.$element.find('.actions-more');\n            let $buttonElement = thisComponent.$element.find('.action-button');\n\n\n            if (!thisComponent.disableMouseOverEvents) {\n                $dropdownElement.on('mouseup', () => {\n                    if (!thisComponent.stayOpened) {\n                        thisComponent.clicked = true;\n                    }\n                });\n\n                $dropdownElement.on('mouseenter', () => {\n                    buttonOver = true;\n                    thisComponent._toggleDropdown(true);\n                });\n                $dropdownElement.on('mouseleave', () => {\n                    buttonOver = false;\n                    if (!thisComponent.stayOpened) {\n                        thisComponent._toggleDropdown(dropdownOver);\n                    }\n                });\n                $buttonElement.on('mouseenter', () => {\n                    dropdownOver = true;\n                    thisComponent._toggleDropdown(true);\n                });\n                $buttonElement.on('mouseleave', () => {\n                    dropdownOver = false;\n                    if (!thisComponent.stayOpened) {\n                        setTimeout(() => {\n                            thisComponent._toggleDropdown(buttonOver || dropdownOver);\n                        }, 200);\n                    }\n                });\n            }\n\n            this.showDropdown = () => {\n                this.stayOpened = true;\n                this.clicked = true;\n                buttonOver = true;\n                dropdownOver = true;\n                this._toggleDropdown(true);\n            };\n\n            this.hideDropdown = () => {\n                this.stayOpened = false;\n                this.clicked = false;\n                buttonOver = false;\n                dropdownOver = false;\n                this._toggleDropdown(false);\n            };\n        },\n\n        beforeDestroy() {\n            clearInterval(this.intervalId);\n            if (!this.disableMouseOverEvents) {\n                let $dropdownElement = this.$element.find('.actions-more');\n                let $buttonElement = this.$element.find('.action-button');\n                $dropdownElement.off('mouseup');\n                $dropdownElement.off('mouseenter');\n                $dropdownElement.off('mouseleave');\n                $buttonElement.off('mouseenter');\n                $buttonElement.off('mouseleave');\n            }\n        },\n\n        methods: {\n            setActionsHandler(actionsHandler) {\n                this.actionsHandler = actionsHandler;\n            },\n            setCurrentEntity(entity) {\n                this.currentEntity = entity;\n            },\n            setActionsDictionary(actionsDictionary) {\n                this.actionsDictionary = actionsDictionary;\n                this._transformActionsData();\n            },\n            setActions(actions) {\n                this.actionsList.actions = actions;\n                this._transformActionsData();\n            },\n            doAction(actionObj, e) {\n                if (actionObj.disabled || actionObj.disabledWhen && actionObj.disabledWhen()) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    return;\n                }\n                if (actionObj.name === 'Download' && actionObj.xrayShouldValidate) {\n                    e.preventDefault();\n                }\n                if (this.actionsHandler) {\n                    this.actionsHandler.perform(actionObj, this.currentEntity);\n                } else if (actionObj.action) {\n                    actionObj.action(this.currentEntity);\n                }\n            },\n            getActiveActionsCount() {\n                if (!this.actionsList.actions || !this.actionsList.actions.length)\n                    return 0;\n                return _.filter(this.actionsList.actions, act => !act.visibleWhen || act.visibleWhen()).length;\n            },\n            _toggleDropdown(isOpen) {\n                setTimeout(() => {\n                    this.isDropdownOpen = isOpen;\n                },10);\n            },\n            _transformActionsData() {\n                if (!this.actionsDictionary || !this.actionsList) {\n                    return;\n                }\n                // extend action properties from ACTIONS dictionary\n                this.actionsList.actions.forEach(actionObj => {\n                    if (!this.actionsDictionary[actionObj.name]) {\n                        console.log('Unrecognized action', actionObj.name);\n                        return true;\n                    }\n                    const { Vue } = VueFactory.getInstance();\n                    Vue.util.extend(actionObj, this.actionsDictionary[actionObj.name]);\n                });\n                // Divide actions to fixed and dynamic (dropdown)\n                this._divideActions();\n            },\n            _divideActions() {\n                this.fixedActions = [];\n                this.dynamicActions = [];\n\n                if (this.hasSingleVisibleAction) {\n                    this.fixedActions.push(this.actionsList.actions.find(action => action.visibleWhen()));\n                    return;\n                }\n\n                _.forEach(this.actionsList.actions, actionObj => {\n                    if (_.includes(this.fixedActionsNames, actionObj.name)) {\n                        this.fixedActions.push(actionObj);\n                    } else {\n                        this.dynamicActions.push(actionObj);\n                        this.anyActionHasAnIcon = this.anyActionHasAnIcon || !!actionObj.icon;\n                    }\n                });\n                if (this.fixedActions.length === 0 && this.dynamicActions.length === 1 && !this.showDropDownForOneItem) {\n                    this.fixedActions.push(this.dynamicActions.pop());\n                }\n            },\n\n        }\n    }\n\n</script>\n\n<style scoped lang=\"less\">\n\n    /* An inherited style is causing a small inverted triangle to be displayed */\n    .dropdown-toggle::after {\n        display: none;\n    }\n    .action-button {\n        cursor: pointer;\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2502ded0&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2502ded0&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2502ded0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
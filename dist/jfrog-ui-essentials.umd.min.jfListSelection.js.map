{"version":3,"sources":["webpack://jfrog-ui-essentials/./src/components/JfListSelectionComponent/index.vue?87c3","webpack://jfrog-ui-essentials/./src/components/JfListSelectionComponent/index.vue?0a57","webpack://jfrog-ui-essentials/src/components/JfListSelectionComponent/index.vue","webpack://jfrog-ui-essentials/./src/components/JfListSelectionComponent/index.vue?2bbe","webpack://jfrog-ui-essentials/./src/components/JfListSelectionComponent/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","attrs","domProps","on","$event","target","composing","filterList","onFilterChange","staticStyle","_v","_l","getPageItems","item","index","_b","key","class","clickable","highlighted","highlightSelected","onItemClick","allowSingleClick","onItemSelection","addToolTip","icon_class","_e","_s","paginationApi","staticRenderFns","component"],"mappings":"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","file":"jfrog-ui-essentials.umd.min.jfListSelection.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=d0b81578&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"jf-list-selection\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterList),expression:\"filterList\"}],staticClass:\"input-text dnd-filter\",attrs:{\"type\":\"text\",\"placeholder\":\"Filter...\"},domProps:{\"value\":(_vm.filterList)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.filterList=$event.target.value},function($event){return _vm.onFilterChange()}]}}),_c('div',{staticClass:\"group-list-wrapper\"},[_c('ul',{staticClass:\"group-list\"},[_c('li',{staticClass:\"group-list-item\",staticStyle:{\"display\":\"none\"}},[_vm._v(\"*\")]),_vm._l((_vm.getPageItems()),function(item,index){return _c('li',_vm._b({key:index,staticClass:\"group-list-item cursor-pointer\",class:{'not-clickable': !item.clickable, 'highlighted': item.highlighted && _vm.highlightSelected},on:{\"dblclick\":function($event){return _vm.onItemClick(item)},\"click\":function($event){_vm.allowSingleClick ? _vm.onItemSelection(item) : null}}},'li',_vm.addToolTip(item),false),[(item.icon_class)?_c('i',_vm._b({staticClass:\"icon pull-left\",class:item.icon_class},'i',_vm.addToolTip(item),false)):_vm._e(),_vm._v(\"\\n                \"+_vm._s(item.name)+\"\\n                \"),_c('i',{staticClass:\"icon icon-arrow pull-right cursor-pointer\",on:{\"click\":function($event){return _vm.onItemSelection(item)}}})])})],2)]),_c('div',[_c('jf-drag-drop-pagination',{attrs:{\"pagination-api\":_vm.paginationApi}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"jf-list-selection\">\n        <input type=\"text\" v-model=\"filterList\" placeholder=\"Filter...\" @input=\"onFilterChange()\" class=\"input-text dnd-filter\">\n        <div class=\"group-list-wrapper\">\n            <ul class=\"group-list\">\n                <li class=\"group-list-item\" style=\"display: none\">*</li>\n                <li class=\"group-list-item cursor-pointer\" v-for=\"(item, index) in getPageItems()\" :key=\"index\" :class=\"{'not-clickable': !item.clickable, 'highlighted': item.highlighted && highlightSelected}\" @dblclick=\"onItemClick(item)\" @click=\"allowSingleClick ? onItemSelection(item) : null\" v-bind=\"addToolTip(item)\">\n                    <i v-if=\"item.icon_class\" :class=\"item.icon_class\" v-bind=\"addToolTip(item)\" class=\"icon pull-left\"></i>\n                    {{item.name}}\n                    <i class=\"icon icon-arrow pull-right cursor-pointer\" @click=\"onItemSelection(item)\"></i>\n                </li>\n            </ul>\n        </div>\n        <div>\n            <jf-drag-drop-pagination :pagination-api=\"paginationApi\"></jf-drag-drop-pagination>\n        </div>\n    </div>\n</template>\n\n<script>\n    class PaginationApi {\n        constructor(ctrl) {\n            this.ctrl = ctrl;\n        }\n\n        getTotalPages() {\n            if (!this.ctrl.usePagination) {\n                return 0;\n            }\n            return Math.ceil(this.ctrl.filter(this.ctrl.items, this.ctrl.filterList).length / this.ctrl.itemsPerPage);\n        }\n\n        getCurrentPage() {\n            if (this.ctrl.currentPage > this.getTotalPages()) {\n                this.ctrl.currentPage = this.getTotalPages();\n            }\n            if (this.ctrl.currentPage < 1) {\n                this.ctrl.currentPage = 1;\n            }\n            return this.ctrl.currentPage;\n        }\n\n        nextPage() {\n            if (this.ctrl.currentPage < this.getTotalPages()) {\n                this.ctrl.currentPage++;\n            }\n        }\n\n        prevPage() {\n            if (this.ctrl.currentPage > 1) {\n                this.ctrl.currentPage--;\n            }\n        }\n\n        setPage(pageNum) {\n            if (pageNum >= 1 && pageNum <= this.getTotalPages()) {\n                this.ctrl.currentPage = pageNum;\n            }\n        }\n\n        update() {\n            this.ctrl.$timeout(() => {\n                if (this.getCurrentPage() > this.getTotalPages()) {\n                    this.setPage(this.getTotalPages());\n                }\n                if (this.listener) {\n                    this.listener(this.getCurrentPage());\n                }\n            });\n        }\n\n        registerChangeListener(listener) {\n            this.listener = listener;\n        }\n    }\n\n    export default {\n        name: 'jf-list-selection',\n\n        props: [\n            'items',\n            'usePagination',\n            'highlightSelected',\n            'allowSingleClick'\n        ],\n         'jf@inject': [\n            '$timeout',\n        ],\n        data() {\n            return {\n                filterList: null,\n                paginationApi: null,\n                itemsPerPage: this.items && this.items.length || 0,\n                currentPage: 1\n            };\n        },\n        created() {\n            this.paginationApi = new PaginationApi(this);\n        },\n         mounted() {\n            this.$nextTick(()=>{\n                if( !this.$element ) {\n                    return;\n                }\n                let containerHeight = this.$element.find('.group-list-wrapper').innerHeight();\n                let itemHeight = this.$element.find('.group-list-item').outerHeight();\n                this.itemsPerPage = Math.floor(containerHeight / itemHeight);\n            });\n        },\n        methods: {\n            filter(originalList, filterCriteria) {\n                if( filterCriteria ) {\n                    return originalList.filter( item => item.name.toLowerCase().indexOf(filterCriteria) != -1 )\n                }\n                return originalList;\n            },\n            addToolTip(item){\n                let prop = {};\n                if( item.icon_tooltip ) {\n                    prop = {\n                        \"jf-tooltip\":item.icon_tooltip\n                    }\n                }\n                return prop;\n            },\n            getPageItems() {\n                if (!this.usePagination) {\n                    return this.filter(this.items, this.filterList);\n                }\n\n                let start = (this.currentPage - 1) * this.itemsPerPage;\n                let slice = this.filter(this.items, this.filterList).slice(start, start + this.itemsPerPage);\n                return slice;\n            },\n            onFilterChange() {\n                this.paginationApi.setPage(1);\n                this.paginationApi.update();\n            },\n            onItemSelection(item) {\n                if (this.highlightSelected && !item.highlighted) {\n                    let lastHiglighted = _.find(this.items, i => i.highlighted);\n                    if (lastHiglighted) {\n                        lastHiglighted.highlighted = false;\n                    }\n                    item.highlighted = true;\n                }\n                this.onItemClick(item);\n            },\n            onItemClick(item) {\n                this.$emit('select', item);\n                this.paginationApi.update();\n            }\n        }\n    }\n\n</script>\n\n<style scoped lang=\"less\">\n    @import '../../assets/stylesheets/variables';\n    .jf-list-selection {\n        .cursor-pointer{\n            cursor: pointer;\n        }\n        .grid-pagination {\n            margin: 0 !important;\n        }\n        .not-clickable {\n            cursor: default;\n        }\n\n        i:first-child.icon {\n            padding: 1px 10px 0 5px;\n            font-size: 17px;\n            line-height: 20px;\n        }\n        .group-list-wrapper {\n            border: 1px solid #e9e9e9;\n\n            .group-list {\n                user-select: none;\n                padding: 0;\n                margin-top: 10px;\n                margin-bottom: 10px;\n\n                .group-list-item {\n\n                    display: block;\n                    padding: 10px 15px;\n                    white-space: nowrap;\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n\n                    &:nth-child(odd) {\n                        background-color: @grayGridRow;\n                    }\n                    &:nth-child(even) {\n                        background-color: @white;\n                    }\n\n                    &.highlighted {\n                        //This !important is only necessary temporarily. It is being overridden by another occurrence of .group-list-item.highlighted selector - which should get removed once we clean up\n                        background-color:@grayBGDark !important;\n                    }\n                }\n            }\n        }\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=d0b81578&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=d0b81578&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d0b81578\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
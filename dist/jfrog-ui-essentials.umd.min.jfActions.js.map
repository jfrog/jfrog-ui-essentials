{"version":3,"sources":["webpack://jfrog-ui-essentials/./src/components/JfActionsComponent/index.vue?426f","webpack://jfrog-ui-essentials/./src/components/JfActionsComponent/index.vue?a813","webpack://jfrog-ui-essentials/src/components/JfActionsComponent/index.vue","webpack://jfrog-ui-essentials/./src/components/JfActionsComponent/index.vue?86d4","webpack://jfrog-ui-essentials/./src/components/JfActionsComponent/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","getActiveActionsCount","expression","staticClass","_l","actionObj","index","visibleWhen","key","class","disabled","disabledWhen","on","$event","doAction","attrs","href","icon","_v","_s","title","dynamicActions","open","isDropdownOpen","isHidden","preventDefault","_e","image","int_label","staticRenderFns","component"],"mappings":"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","file":"jfrog-ui-essentials.umd.min.jfActions.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1fe6b283&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getActiveActionsCount()),expression:\"getActiveActionsCount()\"}],staticClass:\"list-inline\"},[_vm._l((_vm.fixedActions),function(actionObj,index){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(!actionObj.visibleWhen || actionObj.visibleWhen()),expression:\"!actionObj.visibleWhen || actionObj.visibleWhen()\"}],key:index,staticClass:\"action-button\",class:{disabled: actionObj.disabled || (actionObj.disabledWhen && actionObj.disabledWhen())},on:{\"click\":function($event){return _vm.doAction(actionObj,$event)}}},[_c('a',{attrs:{\"href\":actionObj.href,\"download\":\"\"}},[_c('i',{staticClass:\"action-icon icon\",class:actionObj.icon}),_vm._v(\" \"+_vm._s(actionObj.title)+\"\\n            \")])])}),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dynamicActions.length),expression:\"dynamicActions.length\"}],staticClass:\"action-button\"},[_c('span',{staticClass:\"dropdown\",class:{ open: _vm.isDropdownOpen }},[_c('ul',{staticClass:\"dropdown-menu dropdown-menu-right actions-dropdown text-left\"},_vm._l((_vm.dynamicActions),function(actionObj,index){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:((!actionObj.visibleWhen || actionObj.visibleWhen()) && !actionObj.isHidden),expression:\"(!actionObj.visibleWhen || actionObj.visibleWhen()) && !actionObj.isHidden\"}],key:index,staticClass:\"action-item dynamic-action\"},[_c('a',{staticClass:\"action-container\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.doAction(actionObj,$event)}}},[(actionObj.icon)?_c('span',{staticClass:\"action-icon icon\",class:actionObj.icon}):_vm._e(),(actionObj.image && !actionObj.icon)?_c('span',{staticClass:\"action-icon\"},[_c('img',{attrs:{\"src\":actionObj.image}})]):_vm._e(),_c('span',{staticClass:\"action-name\"},[_vm._v(_vm._s(actionObj.title))])])])}),0),_c('a',{staticClass:\"dropdown-toggle actions-more\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.isDropdownOpen = !_vm.isDropdownOpen}}},[_vm._v(\"\\n                    \"+_vm._s(_vm.int_label)+\" \"),_c('i',{staticClass:\"action-icon icon icon-small-arrow-down\"})])])])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <ul class=\"list-inline\" v-show=\"getActiveActionsCount()\">\n            <li v-for=\"(actionObj,index) in fixedActions\" :key=\"index\"\n                @click=\"doAction(actionObj,$event)\"\n                :class=\"{disabled: actionObj.disabled || (actionObj.disabledWhen && actionObj.disabledWhen())}\"\n                class=\"action-button\"\n                v-show=\"!actionObj.visibleWhen || actionObj.visibleWhen()\">\n                <a :href=\" actionObj.href \" download=\"\">\n                    <i class=\"action-icon icon\" :class=\"actionObj.icon\"></i> {{actionObj.title}}\n                </a>\n            </li>\n            <li v-show=\"dynamicActions.length\" class=\"action-button\">\n                <span class=\"dropdown\" :class=\"{ open: isDropdownOpen }\">\n                    <ul class=\"dropdown-menu dropdown-menu-right actions-dropdown text-left\">\n                        <li v-for=\"(actionObj,index) in dynamicActions\" :key=\"index\" class=\"action-item dynamic-action\"\n                            v-show=\"(!actionObj.visibleWhen || actionObj.visibleWhen()) && !actionObj.isHidden\">\n                            <a href=\"#\" class=\"action-container\" @click.prevent=\"doAction(actionObj,$event)\">\n                                <span class=\"action-icon icon\" v-if=\"actionObj.icon\" :class=\"actionObj.icon\"></span>\n                                <span class=\"action-icon\" v-if=\"actionObj.image && !actionObj.icon\">\n                                    <img :src=\"actionObj.image\">\n                                </span>\n                                <span class=\"action-name\">{{actionObj.title}}</span>\n                            </a>\n                        </li>\n                    </ul>\n                    <a href=\"#\" class=\"dropdown-toggle actions-more\" @click.prevent=\"isDropdownOpen = !isDropdownOpen\">\n                        {{int_label}} <i class=\"action-icon icon icon-small-arrow-down\"></i>\n                    </a>\n                </span>\n            </li>\n        </ul>\n        <!--<li ng-repeat=\"action in actions\">-->\n        <!--<a><span class=\"glyphicon glyphicon-refresh\"></span>{{action.name}}</a></li>-->\n        <!--<li><a><span class=\"glyphicon glyphicon-trash\"></span>Delete Content</a></li>-->\n        <!--<li><a><span class=\"glyphicon glyphicon-cloud-upload\"></span>Upload to Bintray</a></li>-->\n    </div>\n\n</template>\n\n<script>\n    import filter from 'lodash/filter';\n    import forEach from 'lodash/forEach';\n    import includes from 'lodash/includes';\n    import {VueFactory} from \"../../services/VueFactory\";\n\n    export default {\n        name: 'jf-actions',\n        props: [\n            'label',\n            'initMethod',\n            'fixedActionsNames',\n            'disableMouseOverEvents',\n            'showDropDownForOneItem'\n        ],\n        data() {\n            return {\n                fixedActions: [],\n                dynamicActions: [],\n                isDropdownOpen: false,\n                anyActionHasAnIcon: false,\n                actionsList: {\n                    actions: []\n                },\n                int_label: this.label || 'Actions',\n                clicked:false,\n                stayOpened:false\n            };\n        },\n        computed: {\n            hasSingleVisibleAction() {\n                return this.getActiveActionsCount() === 1 && !this.showDropDownForOneItem;\n            }\n        },\n        watch: {\n            actionsList(newVal){\n                console.log(\"in watch for actions\")\n                this._divideActions();\n            },\n            isDropdownOpen(newVal){\n                if (!newVal && this.clicked) {\n                    this.isDropdownOpen = true;\n                    this.clicked = false;\n                    this.stayOpened = true;\n                } else if (!newVal && this.stayOpened) {\n                    this.stayOpened = false;\n                }\n            }\n        },\n        mounted() {\n            let thisComponent = this;\n\n            if (!thisComponent.initMethod || !thisComponent.$parent[thisComponent.initMethod]) {\n                console.error('jfActions: Missing init-method attribute');\n                return;\n            } else {\n                thisComponent.$parent[thisComponent.initMethod](thisComponent);\n            }\n\n            this.intervalId = setInterval(() => {\n                thisComponent._divideActions();\n            }, 2000);\n\n            thisComponent.$watch('hasSingleVisibleAction', (newVal, oldVal) => {\n                if (newVal !== oldVal) {\n                    thisComponent._divideActions();\n                }\n            });\n\n            let dropdownOver = false;\n            let buttonOver = false;\n            let $dropdownElement = thisComponent.$element.find('.actions-more');\n            let $buttonElement = thisComponent.$element.find('.action-button');\n\n\n            if (!thisComponent.disableMouseOverEvents) {\n                $dropdownElement.on('mouseup', () => {\n                    if (!thisComponent.stayOpened) {\n                        thisComponent.clicked = true;\n                    }\n                });\n\n                $dropdownElement.on('mouseenter', () => {\n                    buttonOver = true;\n                    thisComponent._toggleDropdown(true);\n                });\n                $dropdownElement.on('mouseleave', () => {\n                    buttonOver = false;\n                    if (!thisComponent.stayOpened) {\n                        thisComponent._toggleDropdown(dropdownOver);\n                    }\n                });\n                $buttonElement.on('mouseenter', () => {\n                    dropdownOver = true;\n                    thisComponent._toggleDropdown(true);\n                });\n                $buttonElement.on('mouseleave', () => {\n                    dropdownOver = false;\n                    if (!thisComponent.stayOpened) {\n                        setTimeout(() => {\n                            thisComponent._toggleDropdown(buttonOver || dropdownOver);\n                        }, 200);\n                    }\n                });\n            }\n\n            this.showDropdown = () => {\n                this.stayOpened = true;\n                this.clicked = true;\n                buttonOver = true;\n                dropdownOver = true;\n                this._toggleDropdown(true);\n            };\n\n            this.hideDropdown = () => {\n                this.stayOpened = false;\n                this.clicked = false;\n                buttonOver = false;\n                dropdownOver = false;\n                this._toggleDropdown(false);\n            };\n        },\n\n        beforeDestroy() {\n            clearInterval(this.intervalId);\n            if (!this.disableMouseOverEvents) {\n                let $dropdownElement = this.$element.find('.actions-more');\n                let $buttonElement = this.$element.find('.action-button');\n                $dropdownElement.off('mouseup');\n                $dropdownElement.off('mouseenter');\n                $dropdownElement.off('mouseleave');\n                $buttonElement.off('mouseenter');\n                $buttonElement.off('mouseleave');\n            }\n        },\n\n        methods: {\n            setActionsHandler(actionsHandler) {\n                this.actionsHandler = actionsHandler;\n            },\n            setCurrentEntity(entity) {\n                this.currentEntity = entity;\n            },\n            setActionsDictionary(actionsDictionary) {\n                this.actionsDictionary = actionsDictionary;\n                this._transformActionsData();\n            },\n            setActions(actions) {\n                this.actionsList.actions = actions;\n                this._transformActionsData();\n            },\n            doAction(actionObj, e) {\n                if (actionObj.disabled || actionObj.disabledWhen && actionObj.disabledWhen()) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    return;\n                }\n                if (actionObj.name === 'Download' && actionObj.xrayShouldValidate) {\n                    e.preventDefault();\n                }\n                if (this.actionsHandler) {\n                    this.actionsHandler.perform(actionObj, this.currentEntity);\n                } else if (actionObj.action) {\n                    actionObj.action(this.currentEntity);\n                }\n            },\n            getActiveActionsCount() {\n                if (!this.actionsList.actions || !this.actionsList.actions.length)\n                    return 0;\n                return filter(this.actionsList.actions, act => !act.visibleWhen || act.visibleWhen()).length;\n            },\n            _toggleDropdown(isOpen) {\n                setTimeout(() => {\n                    this.isDropdownOpen = isOpen;\n                },10);\n            },\n            _transformActionsData() {\n                if (!this.actionsDictionary || !this.actionsList) {\n                    return;\n                }\n                // extend action properties from ACTIONS dictionary\n                this.actionsList.actions.forEach(actionObj => {\n                    if (!this.actionsDictionary[actionObj.name]) {\n                        console.log('Unrecognized action', actionObj.name);\n                        return true;\n                    }\n                    const { Vue } = VueFactory.getInstance();\n                    Vue.util.extend(actionObj, this.actionsDictionary[actionObj.name]);\n                });\n                // Divide actions to fixed and dynamic (dropdown)\n                this._divideActions();\n            },\n            _divideActions() {\n                this.fixedActions = [];\n                this.dynamicActions = [];\n\n                if (this.hasSingleVisibleAction) {\n                    this.fixedActions.push(this.actionsList.actions.find(action => action.visibleWhen()));\n                    return;\n                }\n\n                forEach(this.actionsList.actions, actionObj => {\n                    if (includes(this.fixedActionsNames, actionObj.name)) {\n                        this.fixedActions.push(actionObj);\n                    } else {\n                        this.dynamicActions.push(actionObj);\n                        this.anyActionHasAnIcon = this.anyActionHasAnIcon || !!actionObj.icon;\n                    }\n                });\n                if (this.fixedActions.length === 0 && this.dynamicActions.length === 1 && !this.showDropDownForOneItem) {\n                    this.fixedActions.push(this.dynamicActions.pop());\n                }\n            },\n\n        }\n    }\n\n</script>\n\n<style scoped lang=\"less\">\n\n    /* An inherited style is causing a small inverted triangle to be displayed */\n    .dropdown-toggle::after {\n        display: none;\n    }\n    .action-button {\n        cursor: pointer;\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1fe6b283&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1fe6b283&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1fe6b283\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
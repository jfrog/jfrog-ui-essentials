(("undefined"!==typeof self?self:this)["webpackJsonpjfrog_ui_essentials"]=("undefined"!==typeof self?self:this)["webpackJsonpjfrog_ui_essentials"]||[]).push([[40],{"07e1":function(e,t,n){"use strict";n("563d")},"563d":function(e,t,n){},aa43:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{style:e.menu,attrs:{id:"jf-main-nav"},on:{mouseleave:function(t){return e.mouseLeaveMenu(t)},mouseover:function(t){return e.mouseOverMenu()}}},[n("span",{staticClass:"pin-menu",on:{click:function(t){return e.pinMenu()}}},[n("i",{staticClass:"icon-menu-arrow",class:{"menu-arrow-close":e.pinMenuStatus}})]),n("ul",{staticClass:"sidebar-wrapper-inner",on:{click:function(t){return e.closeSubMenu(0,!0,!0)}}},e._l(e.menuItems,(function(t){return t.isHidden?e._e():n("li",{class:{disabled:t.isDisabled,active:t.stateParent|e.includedByState||e.isCurrentItem(t)||e.highLightOnState(t.stateRelated),"icon-arrow-left":t.children},attrs:{"jf-disable-feature":t.feature},on:{click:function(n){n.stopPropagation(),e.itemClick(t)}}},[t.isDisabled?n("a",{staticClass:"menu-item disabled",class:t.customClasses,attrs:{id:t.id}},[n("i",{class:t.icon}),n("span",[e._v(e._s(t.label))])]):e._e(),t.isDisabled||t.children||t.template?e._e():n("a",{staticClass:"menu-item",class:t.customClasses,attrs:{id:t.id},on:{mouseover:function(n){return e.onMouseOverSimpleItem(t)}}},[n("i",{class:t.icon}),n("span",[e._v(e._s(t.label))])]),t.isDisabled||t.children||!t.template?e._e():n("a",{directives:[{name:"jf-dynamic-template",rawName:"v-jf-dynamic-template",value:"item.template",expression:"'item.template'"}],staticClass:"menu-item",class:t.customClasses,attrs:{id:t.id},on:{mouseover:function(n){return e.onMouseOverSimpleItem(t)}}}),!t.isDisabled&&t.children?n("a",{staticClass:"menu-item extended-item",attrs:{href:"",id:t.id},on:{mouseover:function(n){return e.onMouseOverExtendedItem(t)},mouseleave:function(n){return e.onMouseLeaveExtendedItem(t)}}},[n("i",{class:t.icon}),n("span",[e._v(e._s(t.label))])]):e._e(),t.children&&!t.isDisabled?n("div",{directives:[{name:"show",rawName:"v-show",value:e.openSub===t,expression:"openSub === item"}],staticClass:"sub-menu",on:{mouseover:function(t){return e.subMenuOver()},click:function(e){return e.stopPropagation()}}},[void 0!==e.noSearchBox||e.openSub.noSearchBox?e._e():n("div",{staticClass:"searchbox-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.menuSearchQuery,expression:"menuSearchQuery"}],staticClass:"input-text",attrs:{type:"text",id:"menuSearchQuery",placeholder:"Filter Menu...",autocomplete:"off","jf-enter-press":"chooseSingleChoice()"},domProps:{value:e.menuSearchQuery},on:{focus:function(t){return e.openSubMenu()},input:[function(t){t.target.composing||(e.menuSearchQuery=t.target.value)},function(t){return e.checkForSingleChoice()}],keydown:function(t){return e.navigateInMenu(t)}}}),n("span",{staticClass:"clear-input",class:{disabled:!e.menuSearchQuery},on:{click:function(t){e.menuSearchQuery=""}}},[e._v("×")])]),n("div",{staticClass:"masonry",class:{"no-search-box":void 0!==e.noSearchBox||e.openSub.noSearchBox},attrs:{tabindex:"-1"}},[n("div",e._l(e.subMenuItems,(function(t){return t.isHidden?e._e():n("div",{staticClass:"section"},[n("h3",[e._v(e._s(t.label))]),e._l(t.subItems,(function(t){return t.isHidden?e._e():n("span",{attrs:{"jf-disable-feature":t.feature}},[t.isDisabled?n("a",{class:{blocked:t.isDisabled}},[e._v("\n                                    "+e._s(t.label)+"\n                                ")]):e._e(),n("router-link",{attrs:{to:{name:" subItem.state  ({{ subItem.stateParams }})"}}},[t.isDisabled?e._e():n("a",{class:{highlight:e.searchHighlightCheck(t.label),"not-active":!e.searchHighlightCheck(t.label)&&e.menuSearchQuery.length,current:e.isCurrentItem(t)},attrs:{"data-state":t.state,"data-params":t.stateParams,id:"item-"+t.id},on:{click:function(n){return n.preventDefault(),e.subMenuItemClick(t)},keydown:function(t){return e.navigateInMenu(t)}}},[e._v("\n                                    "+e._s(t.label)+"\n                                ")])])],1)}))],2)})),0)])]):e._e()])})),0),e.footerTemplate?n("ng2vue-include",{attrs:{src:"footerTemplate"}}):e._e(),e.footerTemplateHtml?n("div",{domProps:{innerHTML:e._s(e.footerTemplateHtml)}}):e._e()],1)])},s=[],u=(n("ac6a"),n("cadf"),n("456d"),n("7f7f"),n("a481"),n("7514"),n("8a30")),a=n.n(u),r=n("4cfe"),o=n.n(r),h=n("63ea"),l=n.n(h),c=n("2769"),d=n.n(c),m=n("66c7"),f=n.n(m),b=n("2593"),p=n.n(b),v={name:"jf-sidebar",props:["driver","footerTemplate","menuItems","openAdminSize","defaultSubMenuWidth","noSearchBox","defaultSubMenuId"],"jf@inject":["$scope","$state","$timeout","$interval","$window","$rootScope","JFrogEventBus"],data:function(){return{menu:{"transition-duration":".3s"},pinMenuStatus:!0,openSub:{noSearchBox:null},menuSearchQuery:"",subMenuItems:null,footerTemplateHtml:'<div class="img-wrapper"><img  src="/images/jfrog.svg" alt=""></div>'}},created:function(){this.trim=f.a,this.currentTab="Home",this.EVENTS=this.JFrogEventBus.getEventsDefinition(),this.pinMenuStatus=JSON.parse(localStorage.pinMenu||"false"),this.currentFocus=$(":focus"),this.skip=!1,this.$scope.$on("$destroy",(function(){$("body").off("keydown")}))},mounted:function(){var e=this;console.log("MOUNTED!±!#@@!#@!#@!#@!#!@WQ"),this.subMenuWidth=this.defaultSubMenuWidth||this.openAdminSize||"900px",this.defaultSubWidth=this.subMenuWidth,this.defaultSubMenuId=this.defaultSubMenuId||"admin",this.driver||(console.error("jf-sidebar: No driver is provided"),this.driver={}),this.legacyAdminMenuItems=this.driver.getAdminMenuItems?this.driver.getAdminMenuItems():[],this.driver.setMenu&&this.driver.setMenu(this),this.driver.registerEvents&&this.driver.registerEvents(),this.refreshMenu(),this.driver.getFooterData&&this.driver.getFooterData().then((function(t){return e.footerData=t})),this.initSideBar(),this.$forceUpdate()},ng1_legacy:{controllerAs:"jfSidebar"},methods:{initSideBar:function(){var e=this;this.pinMenuStatus?this.$set(this.menu,"width","200px"):this.$set(this.menu,"width","55px"),this.pinMenuStatus?this.$set(this.menu,"transitionDelay",".2s"):this.$set(this.menu,"transitionDelay",".3s"),this.$timeout((function(){return e._trackResize()})),$("body").on("keydown",(function(t){e.driver.onKeyDown&&e.driver.onKeyDown(t),39===t.keyCode&&t.ctrlKey&&t.altKey&&$(".sub-menu").length&&(e.$timeout((function(){var t=d()(e.menuItems,{id:e.defaultSubMenuId});t&&e._setExtendedMenu(t),e.openSubMenu()})),t.preventDefault()),(27===t.keyCode||37===t.keyCode&&t.ctrlKey&&t.altKey)&&e.menu.width===e.subMenuWidth&&$(".sub-menu").length>0&&(e.$timeout((function(){e.menuSearchQuery="",$("#menuSearchQuery").blur(),e.$set(e.menu,"width",e.defaultWidth()),e._updateTabIndex()})),t.preventDefault())}))},isCollapsed:function(){return"55px"===this.menu.width},mouseOverMenu:function(){var e=this;this.mouseIsOver||(this.mouseIsOver=!0,this.menu.width===this.subMenuWidth&&$(".menu-item:hover").length&&$("a.menu-item.extended-item:hover").length<1?o()(this.closeSubMenuDelay)&&!$(".sub-menu:hover").length&&(this.closeSubMenuDelay=this.$timeout((function(){e.closeSubMenu(),delete e.closeSubMenuDelay}),300)):"200px"!=this.menu.width&&!$(".pin-menu:hover").length&&$(".sub-menu:hover").length<1&&o()(this.openMenu)&&(this.openMenu=this.$timeout((function(){var t=$(".sub-menu").length>0&&$("a.menu-item.extended-item:hover").length?e.subMenuWidth:"200px";if(($(".sub-menu:hover").length||$(".menu-item.extended-item:hover").length)&&!o()(e.openMenu))return e.$timeout.cancel(e.openMenu),void delete e.openMenu;e._updateMenuObject(t,".3s","0s")}),2e3)))},mouseLeaveMenu:function(e){e&&e.toElement&&($(e.toElement).hasClass("tooltipster-content")||$(e.toElement.parentElement).hasClass("tooltipster-arrow"))||(this.mouseIsOver=!1,this.menu.width!=this.subMenuWidth&&this._updateMenuObject(this.defaultWidth(),".3s"),this.closeSubMenu(),this._openMenuStop(),this._subMenuDelayStop())},subMenuOver:function(){o()(this.subMenuItemDelayTimer)||(this.$timeout.cancel(this.subMenuItemDelayTimer),delete this.subMenuItemDelayTimer),o()(this.closeSubMenuDelay)||(this.$timeout.cancel(this.closeSubMenuDelay),delete this.closeSubMenuDelay)},_updateMenuObject:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0s",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0s";this.menu={width:e,"transition-duration":t,"transition-delay":n}},isCurrentTab:function(e){return this.currentTab===e.label},setCurrentTab:function(e){this.currentTab===e.label?this.currentTab="":this.currentTab=e.label},refreshMenu:function(){console.log("******* PUSGIN ITEMS!!!!",this._getMenuItems()),this.legacyAdminMenuItems=this.driver.getAdminMenuItems?this.driver.getAdminMenuItems():[]},goToState:function(e){this.driver.onBeforeStateSwitch&&this.driver.onBeforeStateSwitch(e),this.$state.go(e.state,e.stateParams)},_getMenuItems:function(){return this.driver.getMenuItems?this.driver.getMenuItems():[]},defaultWidth:function(){return this.pinMenuStatus?"200px":"55px"},pinMenu:function(){this.pinMenuStatus=!this.pinMenuStatus,console.log("Pinning!",this.pinMenuStatus),localStorage.pinMenu=this.pinMenuStatus,o()(this.openMenu)||this._openMenuStop(),this.$set(this.menu,"transitionDelay","0s"),this.$set(this.menu,"width",this.defaultWidth()),this._trackResize()},_trackResize:function(){var e=this;this.trackResizeInterval&&this.$interval.cancel(this.trackResizeInterval);var t=parseInt($("#jf-content").css("width")),n=t,i=0,s=document.createEvent("Event");s.initEvent("resize",!1,!0),this.trackResizeInterval=this.$interval((function(){var t=parseInt($("#jf-content").css("width"));t===n?i++:i=0,i>=20&&(e.$interval.cancel(e.trackResizeInterval),delete e.trackResizeInterval),n=t,e.$timeout((function(){try{window.dispatchEvent(new Event("resize"))}catch(t){window.dispatchEvent(s)}e.JFrogEventBus.dispatch(e.EVENTS.SIDEBAR_SIZE_CHANGE)}))}),1)},itemClick:function(e){var t=this;this.subMenuCloseDelay&&(this.$timeout.cancel(this.subMenuCloseDelay),delete this.subMenuCloseDelay),e.children?e.children&&(this.isSubMenuOpen()?(this.closeSubMenu(0,!0,!0),this._subMenuDelayStop(),this.openSub!==e&&this.$timeout((function(){t.itemClick(e)}),500)):(this._setExtendedMenu(e),this.openSubMenu())):(this.closeSubMenu(0,!0),"55px"!==this.menu.width&&"200px"!==this.menu.width||(this._openMenuStop(),this._subMenuDelayStop()),e.isDisabled||this.$timeout((function(){return t.goToState(e)}),20))},_setExtendedMenu:function(e){e&&(!0===e.children&&this.legacyAdminMenuItems?(this.subMenuItems=this.legacyAdminMenuItems,this.subMenuWidth=this.defaultSubWidth,this.openSub=e):e.children&&(this.subMenuItems=e.children,this.subMenuWidth=e.subMenuWidth||this.defaultSubWidth,this.openSub=e))},openSubMenu:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.subMenuCloseDelay&&(this.$timeout.cancel(this.subMenuCloseDelay),delete this.subMenuCloseDelay),$(".sub-menu").length>0&&(this._openMenuStop(),this._subMenuDelayStop(),$(":focus").length&&"admin"!=$(":focus")[0].id&&"menuSearchQuery"!=$(":focus")[0].id&&(this.currentFocus=$(":focus")),t&&o()(this.subMenuDelay)?this.subMenuDelay=this.$timeout((function(){e.openSubMenu(),e._setSubMenuFocus(),e._subMenuDelayStop()}),2e3):this.skip||this.menu.width===this.subMenuWidth||(this._updateMenuObject("50px","0.3s","0s"),this.$timeout((function(){return e._setSubMenuFocus()})),o()(this.subMenuDelay)||this._subMenuDelayStop()),this._updateTabIndex())},onMouseOverSimpleItem:function(e){this.closeSubMenu(1800,!0,!0)},onMouseOverExtendedItem:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.isSubMenuOpen()?this.openSub!==e?(this.closeSubMenu(0,!0,!0),this._subMenuDelayStop(),this.$timeout((function(){t.onMouseOverExtendedItem(e,!1)}),500)):this.openSubMenu(!0):(this._setExtendedMenu(e),this.openSubMenu(n))},onMouseLeaveExtendedItem:function(e){this._subMenuDelayStop(),this.subMenuItemDelay=!0,this.closeSubMenu(1800,!0,!0)},isSubMenuOpen:function(){return $("#jf-main-nav").css("width")===this.subMenuWidth},clickOffMenu:function(){$(".sub-menu").length>0&&!$(".menu-item:hover").length&&("55px"!=this.menu.width||!this.pinMenuStatus&&"200px"!=this.menu.width)&&("55px"==this.menu.width||$(".sub-menu:hover").length||(this._updateMenuObject(this.defaultWidth(),".3s"),this.menuSearchQuery="",this._updateTabIndex()))},closeSubMenu:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e)return this.subMenuCloseDelay&&(this.$timeout.cancel(this.subMenuCloseDelay),delete this.subMenuCloseDelay),void(this.subMenuCloseDelay=this.$timeout((function(){t.subMenuCloseDelay&&(t.$timeout.cancel(t.subMenuCloseDelay),delete t.subMenuCloseDelay),t.closeSubMenu(0,n,i)}),e));!n&&($(".sub-menu:hover").length||$(".menu-item.extended-item:hover").length||$(".sub-menu").find("a").is(":focus")||$("#menuSearchQuery").is(":focus")&&$("#menuSearchQuery").val().length>0)||(this.subMenuItemDelay?this.subMenuItemDelayTimer=this.$timeout((function(){t.subMenuItemDelay=!1,delete t.subMenuItemDelayTimer,$(".sub-menu:hover").length||$(".tooltipster-content:hover").length||$(".tooltipster-arrow:hover").length||t.closeSubMenu(e,n,i)}),100):(i&&$("#jf-main-nav:hover").length?this.$set(this.menu,"width","200px"):this.$set(this.menu,"width",this.defaultWidth()),this.currentFocus.length&&this.currentFocus[0].focus(),$("#menuSearchQuery").blur(),$(".masonry").scrollTop(0),this.menuSearchQuery="",this._updateTabIndex()))},_openMenuStop:function(){this.$timeout.cancel(this.openMenu),delete this.openMenu},_subMenuDelayStop:function(){this.$timeout.cancel(this.subMenuDelay),delete this.subMenuDelay},_setSubMenuFocus:function(){$(".sub-menu:hover").length||($("#menuSearchQuery").focus(),$("#jf-main-nav").scrollLeft(0))},_updateTabIndex:function(){if(this.menu.width!=this.subMenuWidth)$(".sub-menu").find("a,input").attr("tabindex",-1),$(".sub-menu").find("a,input").blur();else{var e=$(".sub-menu").find("a.highlight");e.length?($(".sub-menu").find("input").removeAttr("tabindex"),$(".sub-menu").find("a.highlight").removeAttr("tabindex"),$(".sub-menu").find("a:not(.highlight)").attr("tabindex",-1)):$(".sub-menu").find("a,input").removeAttr("tabindex")}$("#jf-main-nav").scrollLeft(0)},searchHighlightCheck:function(e){if(this.menuSearchQuery){var t=e.toLowerCase().replace(/ /g,""),n=this.menuSearchQuery.toLowerCase().replace(/ /g,"");return!!a()(t,n)}},checkForSingleChoice:function(){$("#jf-main-nav").scrollLeft(0),this.$timeout((function(){$(".single-choice").removeClass("single-choice");var e=$(".masonry").find(".highlight");1==e.length&&e.addClass("single-choice")}),50)},chooseSingleChoice:function(){var e=$(".single-choice");if(!e.length)return!1;this.driver.onBeforeStateSwitch&&this.driver.onBeforeStateSwitch({state:e.data("state"),stateParams:e.data("params")}),this.$state.go(e.data("state"),e.data("params")),this.menuSearchQuery="",this._updateMenuObject(this.defaultWidth(),".3s"),this._updateTabIndex()},subMenuItemClick:function(e){var t=this;this.menuSearchQuery="",this._updateMenuObject(this.defaultWidth(),".3s"),this._updateTabIndex(),this.skip=!0,this.$timeout((function(){t.skip=!1}),400),this.driver.onBeforeStateSwitch&&this.driver.onBeforeStateSwitch(e),this.$state.go(e.state,e.stateParams)},navigateInMenu:function(e){var t=e.keyCode,n=$(".sub-menu").find(".highlight"),i=$(".sub-menu").find("a:focusable");switch(t){case 38:if($(e.currentTarget).is(":input"))return;if($(".highlight").length)n.eq($.inArray($(".highlight:focus")[0],n)-1).focus();else{if(!i.length)return;i.eq($.inArray($(":focus")[0],i)-1).focus()}break;case 40:if($(e.currentTarget).is(":input"))n.length?n[0].focus():$(".sub-menu").find("a").first(":focusable").focus();else if($(".highlight").length)$.inArray($(".highlight:focus")[0],n)===n.length-1?n[0].focus():n.eq($.inArray($(".highlight:focus")[0],n)+1).focus();else{if(!i.length)return;$.inArray($(":focus")[0],i)===i.length-1?i[0].focus():i.eq($.inArray($(":focus")[0],i)+1).focus()}break;case 8:if(this.focusedElement&&!$("#menuSearchQuery").is(":focus"))return void e.preventDefault();break}},isCurrentItem:function(e){var t=a()(this.$state.current.name,e.state);if(t&&e.stateParams){var n=p()(this.$state.params,Object.keys(e.stateParams));t=l()(n,e.stateParams)}return t},highLightOnState:function(e){if(!e)return!1;var t=this.$state.current.name;return e.indexOf(t)>-1}}},M=v,S=(n("07e1"),n("2877")),g=Object(S["a"])(M,i,s,!1,null,"7d1ff3be",null);t["default"]=g.exports}}]);
//# sourceMappingURL=jfrog-ui-essentials.umd.min.jfSidebar.js.map
(("undefined"!==typeof self?self:this)["webpackJsonpjfrog_ui_essentials"]=("undefined"!==typeof self?self:this)["webpackJsonpjfrog_ui_essentials"]||[]).push([[51],{"0590":function(e,t,i){},7036:function(e,t,i){"use strict";i("0590")},bf3a:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"jf-tree",class:e.viewPaneName+"-pane",staticStyle:{clear:"both"},attrs:{tabindex:"0"}},[e.viewPane?i("div",{staticClass:"jf-tree-container",style:{height:e.getPageHeight()+"px",overflow:e.isEmpty()||!e.api.dataGettersSet?"visible":"hidden"}},[i("div",{staticClass:"tree-items-container",style:{transform:"translate(0, "+-e.getTranslate()+"px)"}},[i("div",{staticClass:"scroll-faker-container",style:{transform:"translate(0, "+e.getTranslate()+"px)",right:0,height:e.getPageHeight()+"px"}},[i("div",{directives:[{name:"init",rawName:"v-init",value:e.initScrollFaker(),expression:"initScrollFaker()"}],staticClass:"scroll-faker",style:{height:(e.getTotalScrollHeight()>e.maxFakeScrollHeight?e.maxFakeScrollHeight:e.getTotalScrollHeight())+"px"}})]),i("div",{staticClass:"h-scroll-wrapper",style:{height:e.getPageHeight()+e.getTranslate()+"px"},on:{mousewheel:function(t){return t.preventDefault(),e.onMouseWheel(t)}}},[i("div",{staticClass:"h-scroll-content"},e._l(e.viewPane._getPageData(),(function(t,a){return i("jf-tree-item",{key:a,attrs:{tree:e.jfTree,"item-id":a,data:t}})})),1)])]),e.api.dataGettersSet?e._e():i("div",{staticClass:"missing-data-setters"},[e._v("\n                "+e._s("jf-tree: Data getters was not set (call setDataDriver())")+"\n            ")]),e.isEmpty()?i("div",{staticClass:"empty-tree-placeholder"},[e._v("\n                "+e._s(e.api.emptyTreeText||"This tree is empty !")+"\n            ")]):e._e(),e.noFilterResults?i("div",{staticClass:"empty-tree-placeholder filter-no-results"},[e._v("\n                Current filter has no results. "),i("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.clearFilter()}}},[e._v("Clear filter")])]):e._e()]):e._e()])])},r=[],n=i("d225"),l=i("b0b4"),s=(i("7514"),i("ac6a"),{name:"jf-tree",props:{api:{},viewPaneName:{default:"default"}},"jf@inject":["$scope","$element","$timeout","$compile","$rootScope"],data:function(){return{viewPane:null,maxFakeScrollHeight:1e6,noFilterResults:null,virtualScrollIndex:0,virtScrollDisplacement:0,currentPage:0,refreshHack:{count:1}}},created:function(){var e=this;this.cellScopes=[],this.$scope.$watch("jfTree.api",(function(t){e.api&&e.api._setDirectiveController(e),e.api&&!e.paginationApi&&(e.paginationApi=new o(e),e.paginationApi.registerChangeListener((function(){e.refresh(!1)})))})),this.$scope.$on("$destroy",(function(){e.cellScopes.forEach((function(e){return e.$destroy()}))})),$(window).on("resize",(function(){e.viewPane.autoHeight&&e.viewPane._setAutoItemsPerPage()}))},mounted:function(){var e=this;$(this.$element).find(".jf-tree").keydown((function(t){switch(t.key){case"Down":case"ArrowDown":t.preventDefault(),e.api._onArrowKey(!0,e.viewPane);break;case"Up":case"ArrowUp":t.preventDefault(),e.api._onArrowKey(!1,e.viewPane);break;case"Enter":t.preventDefault(),e.api.getPreSelectedNode()===e.api.GO_UP_NODE?e.api.drillUp():(e.api.selectPreSelected(),e.api.toggleSelected(!0));break;case"Right":case"ArrowRight":t.preventDefault();var i=e.api.getPreSelectedNode()||e.api.getSelectedNode();i&&(e.api.isNodeOpen(i)?i.$childrenCache&&i.$childrenCache.length&&e.api.preSelectNode(i.$childrenCache[0]):e.api.openNode(i,!0));break;case"Left":case"ArrowLeft":t.preventDefault();var a=e.api.getPreSelectedNode()||e.api.getSelectedNode();if(a)if(e.api.isNodeOpen(a))e.api.closeNode(a);else{var r=e.api.getParentNode(a);r&&e.api.preSelectNode(r)}break;default:t.ctrlKey||t.shiftKey||t.metaKey||t.key.toLowerCase()!==String.fromCharCode(t.which).toLowerCase()||e.api.fire("keydown",t)}}))},ng1_legacy:{controllerAs:"jfTree"},methods:{clearFilter:function(){this.treeFilter="",this.onUpdateFilter()},compileTemplate:function(e,t){var i=this.viewPane._getPageData()[t];if(i){var a,r=_.find(this.cellScopes,(function(e){return e.node===i.data}));r?a=r:(a=this.$rootScope.$new({node:i.data,appScope:this.api.appScope,tree:{api:this.api}}),this.cellScopes.push(a));var n=_.isFunction(this.api.nodeTemplate)?this.api.nodeTemplate(i.data):this.api.nodeTemplate,l=$("<div>"+n+"</div>");this.$compile(l.children()[0])(a),e.empty(),e.append(l.children()[0])}},_normalizeWheelEvent:function(e){var t=10,i=40,a=800,r=0,n=0,l=0,s=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(r=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(r=n,n=0),l=r*t,s=n*t,"deltaY"in e&&(s=e.deltaY),"deltaX"in e&&(l=e.deltaX),(l||s)&&e.deltaMode&&(1==e.deltaMode?(l*=i,s*=i):(l*=a,s*=a)),l&&!r&&(r=l<1?-1:1),s&&!n&&(n=s<1?-1:1),{spinX:r,spinY:n,pixelX:l,pixelY:s}},onMouseWheel:function(e,t,i,a){this.viewPane.scrollTimeout&&(this.$timeout.cancel(this.viewPane.scrollTimeout),delete this.viewPane.scrollTimeout);var r=this._normalizeWheelEvent(e).pixelY,n=this._normalizeWheelEvent(e).pixelX;if(Math.abs(r)<Math.abs(n))e.stopPropagation();else{var l=.02*Math.abs(r),s=this.viewPane._getCurrentScrollPos();e.deltaY>0?this.viewPane._scrollTo(s+l):e.deltaY<0&&this.viewPane._scrollTo(s-l),this.currentPage=Math.floor((this.virtualScrollIndex+this.viewPane.itemsPerPage-1)/this.viewPane.itemsPerPage),s!==this.viewPane._getCurrentScrollPos()&&e.preventDefault(),this.syncFakeScroller(!1),this.viewPane.focus()}},resetScroll:function(){this.virtualScrollIndex=0,this.virtScrollDisplacement=0,this.currentPage=1,this.syncFakeScroller(!1)},getTotalScrollHeight:function(){return this.viewPane._getPrePagedData().length*parseFloat(this.viewPane.itemHeight)},getPageHeight:function(){if(this.viewPane.containerHeight)return this.viewPane.containerHeight;var e=this.viewPane._getPrePagedData().length;return e<this.viewPane.itemsPerPage?e*parseFloat(this.viewPane.itemHeight):this.viewPane.itemsPerPage*parseFloat(this.viewPane.itemHeight)},initScrollFaker:function(){var e=this,t=$(this.$element).find(".scroll-faker-container");t.on("scroll",(function(i){if(e.$settingScroll)delete e.$settingScroll;else{e.viewPane.scrollTimeout&&(e.$timeout.cancel(e.viewPane.scrollTimeout),delete e.viewPane.scrollTimeout);var a=e.viewPane._getPrePagedData().length;if(a){var r=t[0].scrollHeight-t.outerHeight(),n=t.scrollTop()/r;_.isNaN(n)&&(n=1);var l=n*(a-e.viewPane.itemsPerPage);l<0&&(l=0),e.virtualScrollIndex=Math.floor(l),e.virtScrollDisplacement=l-e.virtualScrollIndex,e.currentPage=Math.floor((e.virtualScrollIndex+e.viewPane.itemsPerPage-1)/e.viewPane.itemsPerPage)}else e.virtualScrollIndex=0,e.virtScrollDisplacement=0,e.currentPage=0;e.api.fire("pagination.change",e.paginationApi.getCurrentPage())}}))},getTranslate:function(){var e=void 0!==this.$freezedVScrollDisplacement?this.$freezedVScrollDisplacement:this.virtScrollDisplacement;if(e){var t=e*parseFloat(this.viewPane.itemHeight);return t}return 0},syncFakeScroller:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=this.viewPane._getPrePagedData(!0).length,a=$(this.$element).find(".scroll-faker-container"),r=this.viewPane._getCurrentScrollPos()/(i-this.viewPane.itemsPerPage),n=function(){var t=a[0].scrollHeight-a.outerHeight(),i=Math.floor(t*r);e.$settingScroll=!0,a.scrollTop(i)};t?this.$timeout(n):n()},getScrollWidth:function(){var e=$(this.$element).find(".scroll-faker-container")[0];return e.offsetWidth-e.clientWidth},refresh:function(){var e=this;setTimeout((function(){return e.refreshHack.count++}))},isEmpty:function(){return!(!this.api.dataWasSet||this.viewPane._getRawData().length||this.viewPane.$freezed)},_freezeVScroll:function(){this.$freezedVScrollIndex=this.virtualScrollIndex,this.$freezedVScrollDisplacement=this.virtScrollDisplacement},_unFreezeVScroll:function(){delete this.$freezedVScrollIndex,delete this.$freezedVScrollDisplacement}}}),o=function(){function e(t){Object(n["a"])(this,e),this.treeCtrl=t}return Object(l["a"])(e,[{key:"getTotalPages",value:function(){return Math.ceil(this.treeCtrl.viewPane.getTotalLengthOfData()/this.treeCtrl.viewPane.itemsPerPage)}},{key:"getCurrentPage",value:function(){return this.treeCtrl.currentPage+1}},{key:"nextPage",value:function(){this.getCurrentPage()!==this.getTotalPages()&&(this.treeCtrl.currentPage++,this.syncVirtualScroll(),this.update(),this.treeCtrl.api.fire("pagination.change",this.getCurrentPage()))}},{key:"prevPage",value:function(){1!==this.getCurrentPage()&&(this.treeCtrl.currentPage--,this.syncVirtualScroll(),this.update(),this.treeCtrl.api.fire("pagination.change",this.getCurrentPage()))}},{key:"setPage",value:function(e){e<1||e>this.getTotalPages()||(this.treeCtrl.currentPage=e-1,this.syncVirtualScroll(),this.update(),this.treeCtrl.api.fire("pagination.change",this.getCurrentPage()))}},{key:"update",value:function(){var e=this;this.getCurrentPage()>this.getTotalPages()&&this.setPage(this.getTotalPages()),this.listeners&&this.listeners.forEach((function(t){return t(e.getCurrentPage())}))}},{key:"registerChangeListener",value:function(e){this.listeners||(this.listeners=[]),this.listeners.push(e)}},{key:"syncVirtualScroll",value:function(){this.treeCtrl.virtualScrollIndex=this.treeCtrl.currentPage*this.treeCtrl.viewPane.itemsPerPage,this.treeCtrl.syncFakeScroller()}}]),e}(),c=s,h=(i("7036"),i("2877")),u=Object(h["a"])(c,a,r,!1,null,"fae57256",null);t["default"]=u.exports}}]);
//# sourceMappingURL=jfrog-ui-essentials.umd.min.jfTree.js.map
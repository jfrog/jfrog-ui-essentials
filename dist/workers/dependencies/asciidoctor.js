"undefined"==typeof Opal&&"object"==typeof module&&module.exports&&(Opal=require("opal-runtime").Opal),"undefined"==typeof Opal&&(function(t){function e(){}function n(){}function r(){}function i(){}function a(){}function $(t,e){if(t)return t.$$const[e]}function o(t,e){var n,r,i;if(0!==t.length)for(n=0,r=t.length;n<r;n++)if(i=t[n].$$const[e],null!=i)return i}function s(t,e){var n,r,i;if(null!=t)for(i=y.ancestors(t),n=0,r=i.length;n<r;n++)if(i[n].$$const&&k.call(i[n].$$const,e))return i[n].$$const[e]}function l(t,e){if(null==t||t.$$is_module)return s(g,e)}function c(t,e,n){if(!n)return(t||g).$const_missing(e)}function u(t,e){var n,r,i=e.$instance_methods();for(n=i.length-1;n>=0;n--)r="$"+i[n],y.bridge_method(t,e,r,e.$$proto[r])}function _(t,e){var n=e.$__id__();b[n]||(b[n]=[]),b[n].push(t)}var d,f=this;if("undefined"!=typeof global&&(f=global),"undefined"!=typeof window&&(f=window),d="object"==typeof f.console?f.console:null==f.console?f.console={}:{},"log"in d||(d.log=function(){}),"warn"in d||(d.warn=d.log),"undefined"!=typeof this.Opal)return d.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var p,h,g,v,m,y=this.Opal={},b={};y.global=f,f.Opal=y,y.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var k=Object.hasOwnProperty,w=(y.slice=Array.prototype.slice,4),x=w;y.uid=function(){return x+=2},y.id=function(t){return t.$$is_number?2*t+1:t.$$id||(t.$$id=y.uid())},y.gvars={},y.exit=function(t){y.gvars.DEBUG&&d.log("Exited with status "+t)},y.exceptions=[],y.pop_exception=function(){y.gvars["!"]=y.exceptions.pop()||p},y.inspect=function(e){return e===t?"undefined":null===e?"null":e.$$class?e.$inspect():e.toString()},y.truthy=function(t){return t!==p&&null!=t&&(!t.$$is_boolean||1==t)},y.falsy=function(t){return t===p||null==t||t.$$is_boolean&&0==t},y.const_get_local=function(t,e,n){var r;if(null!=t){if("::"===t&&(t=g),!t.$$is_a_module)throw new y.TypeError(t.toString()+" is not a class/module");return r=$(t,e),null!=r?r:(r=c(t,e,n),null!=r?r:void 0)}},y.const_get_qualified=function(t,e,n){var r,i,a,o=y.const_cache_version;if(null!=t){if("::"===t&&(t=g),!t.$$is_a_module)throw new y.TypeError(t.toString()+" is not a class/module");return i=null==t.$$const_cache?t.$$const_cache=Object.create(null):t.$$const_cache,a=i[e],null==a||a[0]!==o?(null!=(r=$(t,e))||null!=(r=s(t,e)),i[e]=[o,r]):r=a[1],null!=r?r:c(t,e,n)}},y.const_cache_version=1,y.const_get_relative=function(t,e,n){var r,i,a,u=t[0],_=y.const_cache_version;return i=null==t.$$const_cache?t.$$const_cache=Object.create(null):t.$$const_cache,a=i[e],null==a||a[0]!==_?(null!=(r=$(u,e))||null!=(r=o(t,e))||null!=(r=s(u,e))||null!=(r=l(u,e)),i[e]=[_,r]):r=a[1],null!=r?r:c(u,e,n)},y.const_set=function(t,e,n){return null!=t&&"::"!==t||(t=g),n.$$is_a_module&&(null!=n.$$name&&n.$$name!==p||(n.$$name=e),null==n.$$base_module&&(n.$$base_module=t)),t.$$const=t.$$const||Object.create(null),t.$$const[e]=n,y.const_cache_version++,t===g&&(y[e]=n),n},y.constants=function(t,e){null==e&&(e=!0);var n,r,i,a,$=[t],o={};for(e&&($=$.concat(y.ancestors(t))),e&&t.$$is_module&&($=$.concat([y.Object]).concat(y.ancestors(y.Object))),r=0,i=$.length;r<i&&(n=$[r],t===g||n!=g);r++)for(a in n.$$const)o[a]=!0;return Object.keys(o)},y.const_remove=function(t,e){if(y.const_cache_version++,null!=t.$$const[e]){var n=t.$$const[e];return delete t.$$const[e],n}if(null!=t.$$autoload&&null!=t.$$autoload[e])return delete t.$$autoload[e],p;throw y.NameError.$new("constant "+t+"::"+t.$name()+" not defined")},y.klass=function(t,e,n,r){var i,a,o;if(null==t&&(t=g),t.$$is_class||t.$$is_module||(t=t.$$class),"function"==typeof e&&(a=e,e=g),i=$(t,n)){if(!i.$$is_class)throw y.TypeError.$new(n+" is not a class");if(e&&i.$$super!==e)throw y.TypeError.$new("superclass mismatch for class "+n);return i}return null==e&&(e=g),o=a||y.boot_class_alloc(n,r,e),i=y.setup_class_object(n,o,e.$$name,e.constructor),i.$$super=e,i.$$parent=e,y.const_set(t,n,i),t[n]=i,a?y.bridge(i,o):e.$inherited&&e.$inherited(i),i},y.boot_class_alloc=function(t,e,n){if(n){var r=function(){};r.prototype=n.$$proto||n.prototype,e.prototype=new r}return t&&(e.displayName=t+"_alloc"),e.prototype.constructor=e,e},y.setup_module_or_class=function(t){t.$$id=y.uid(),t.$$is_a_module=!0,t.$$inc=[],t.$$name=p,t.$$const=Object.create(null),t.$$cvars=Object.create(null)},y.setup_class_object=function(t,e,n,r){var i=function(){};i.prototype=r.prototype,i.displayName=n;var a=function(){};a.prototype=new i;var $=new a;return y.setup_module_or_class($),$.$$alloc=e,$.$$name=t||p,a.displayName="#<Class:"+(t||"#<Class:"+$.$$id+">")+">",$.$$proto=e.prototype,$.$$proto.$$class=$,$.constructor=a,$.$$is_class=!0,$.$$class=m,$},y.module=function(t,e){var n;if(null==t&&(t=g),t.$$is_class||t.$$is_module||(t=t.$$class),n=$(t,e),null==n&&t===g&&(n=s(g,e)),n){if(!n.$$is_module&&n!==g)throw y.TypeError.$new(e+" is not a module")}else n=y.module_allocate(v),y.const_set(t,e,n);return n},y.module_initialize=function(t,e){if(e!==p){var n=e.$$s;e.$$s=null,e.call(t),e.$$s=n}return p},y.module_allocate=function(t){var e=function(){};e.prototype=t.$$alloc.prototype;var n=function(){};n.prototype=new e;var r=new n,i={};return y.setup_module_or_class(r),r.$$included_in=[],n.displayName="#<Class:#<Module:"+r.$$id+">>",r.$$proto=i,r.constructor=n,r.$$is_module=!0,r.$$class=v,r.$$super=t,r.$$parent=t,r},y.get_singleton_class=function(t){return t.$$meta?t.$$meta:t.$$is_class||t.$$is_module?y.build_class_singleton_class(t):y.build_object_singleton_class(t)},y.build_class_singleton_class=function(t){var e,n,r;return t.$$meta?t.$$meta:(e=t.constructor,n=t===h?m:y.build_class_singleton_class(t.$$super),r=y.setup_class_object(null,e,n.$$name,n.constructor),r.$$super=n,r.$$parent=n,r.$$is_singleton=!0,r.$$singleton_of=t,t.$$meta=r)},y.build_object_singleton_class=function(t){var e=t.$$class,n="#<Class:#<"+e.$$name+":"+e.$$id+">>",r=y.boot_class_alloc(n,function(){},e),i=y.setup_class_object(n,r,e.$$name,e.constructor);return i.$$super=e,i.$$parent=e,i.$$class=e.$$class,i.$$proto=t,i.$$is_singleton=!0,i.$$singleton_of=t,t.$$meta=i},y.class_variables=function(t){var e,n=y.ancestors(t),r=n.length,i={};for(e=r-1;e>=0;e--){var a=n[e];for(var $ in a.$$cvars)i[$]=a.$$cvars[$]}return i},y.class_variable_set=function(t,e,n){var r,i=y.ancestors(t),a=i.length;for(r=a-2;r>=0;r--){var $=i[r];if(k.call($.$$cvars,e))return $.$$cvars[e]=n,n}return t.$$cvars[e]=n,n},y.bridge_method=function(t,e,n,r){var i,a,$,o;for(i=t.$$bridge.$ancestors(),a=0,o=i.length;a<o&&($=i[a],!k.call($.$$proto,n)||!$.$$proto[n]||$.$$proto[n].$$donated||$.$$proto[n].$$stub||$===e);a++)if($===e){t.prototype[n]=r;break}},y.bridge_methods=function(t,e){var n,r=b[t.$__id__()],i=e.$__id__();if(r)for(b[i]=r.slice(),n=r.length-1;n>=0;n--)u(r[n],e)},y.has_cyclic_dep=function E(t,e,n,r){var i,a,$;for(i=e.length-1;i>=0;i--)if($=e[i],a=$.$$id,!r[a]){if(r[a]=!0,a===t)return!0;if(E(t,$[n],n,r))return!0}return!1},y.append_features=function(t,e){var n,r,i;for(i=e.$$inc.length-1;i>=0;i--)if(e.$$inc[i]===t)return;if(!e.$$is_class&&y.has_cyclic_dep(e.$$id,[t],"$$inc",{}))throw y.ArgumentError.$new("cyclic include detected");for(y.const_cache_version++,e.$$inc.push(t),t.$$included_in.push(e),y.bridge_methods(e,t),n={$$name:t.$$name,$$proto:t.$$proto,$$parent:e.$$parent,$$module:t,$$iclass:!0},e.$$parent=n,r=t.$instance_methods(),i=r.length-1;i>=0;i--)y.update_includer(t,e,"$"+r[i])},y.stubs={},y.bridge=function(t,n){if(n.$$bridge)throw y.ArgumentError.$new("already bridged");y.stub_subscribers.push(n.prototype);for(var r in y.stubs)r in n.prototype||(n.prototype[r]=y.stub_for(r));n.prototype.$$class=t,n.$$bridge=t;for(var i=t.$ancestors(),a=i.length-1;a>=0;a--)_(n,i[a]),u(n,i[a]);for(var $ in e.prototype){var o=e.prototype[o];!o||!o.$$stub||$ in n.prototype||(n.prototype[$]=o)}return t},y.update_includer=function(t,e,n){var r,i,a,$,o,s,l,c;if(a=t.$$proto[n],r=e.$$proto,i=r[n],!r.hasOwnProperty(n)||i.$$donated||i.$$stub)if(r.hasOwnProperty(n)&&!i.$$stub){for($=e.$$inc,o=0,s=$.length;o<s;o++)$[o]===i.$$donated&&(l=o),$[o]===t&&(c=o);l<=c&&(r[n]=a,r[n].$$donated=t)}else r[n]=a,r[n].$$donated=t;else;e.$$included_in&&y.update_includers(e,n)},y.update_includers=function(t,e){var n,r,i,a;if(a=t.$$included_in)for(n=0,r=a.length;n<r;n++)i=a[n],y.update_includer(t,i,e)},y.ancestors=function(t){for(var e,n,r,i,a=t,$=[];a;){for($.push(a),n=a.$$inc.length-1;n>=0;n--)for(e=y.ancestors(a.$$inc[n]),r=0,i=e.length;r<i;r++)$.push(e[r]);a=a.$$is_singleton&&a.$$singleton_of.$$is_module?a.$$singleton_of.$$super:a.$$is_class?a.$$super:null}return $},y.add_stubs=function(t){var e,n,r,i,a,$=y.stub_subscribers,o=t.length,s=$.length,l=y.stubs;for(n=0;n<o;n++)if(i=t[n],!l.hasOwnProperty(i))for(l[i]=!0,a=y.stub_for(i),r=0;r<s;r++)e=$[r],i in e||(e[i]=a)},y.stub_subscribers=[e.prototype],y.add_stub_for=function(t,e){var n=y.stub_for(e);t[e]=n},y.stub_for=function(t){function e(){this.$method_missing.$$p=e.$$p,e.$$p=null;for(var n=new Array(arguments.length),r=0,i=n.length;r<i;r++)n[r]=arguments[r];return this.$method_missing.apply(this,[t.slice(1)].concat(n))}return e.$$stub=!0,e},y.ac=function(t,e,n,r){var i="";throw i+=n.$$is_class||n.$$is_module?n.$$name+".":n.$$class.$$name+"#",i+=r,y.ArgumentError.$new("["+i+"] wrong number of arguments("+t+" for "+e+")")},y.block_ac=function(t,e,n){var r="`block in "+n+"'";throw y.ArgumentError.$new(r+": wrong number of arguments ("+t+" for "+e+")")},y.find_super_dispatcher=function(t,e,n,r,i){var a,$;if(a=i?t.$$is_class||t.$$is_module?i.$$super:t.$$class.$$proto:y.find_obj_super_dispatcher(t,e,n),$=a["$"+e],!r&&$.$$stub&&y.Kernel.$method_missing===t.$method_missing)throw y.NoMethodError.$new("super: no superclass method `"+e+"' for "+t,e);return $},y.find_iter_super_dispatcher=function(t,e,n,r,i){var a=e;if(!n)throw y.RuntimeError.$new("super called outside of method");if(i&&n.$$define_meth)throw y.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return n.$$def&&(a=n.$$jsid),y.find_super_dispatcher(t,a,n,r)},y.find_obj_super_dispatcher=function(t,e,n){var r=t.$$meta||t.$$class;if(r=y.find_owning_class(r,n),!r)throw new Error("could not find current class for super()");return y.find_super_func(r,"$"+e,n)},y.find_owning_class=function(t,e){for(var n=e.$$owner;t&&(!t.$$iclass||t.$$module!==e.$$donated)&&(!t.$$iclass||t.$$module!==n)&&(!n.$$is_singleton||t!==n.$$singleton_of.$$class)&&t!==n;)t=t.$$parent;return t},y.find_super_func=function(t,e,n){for(var r=t.$$parent;r;){var i=r.$$proto[e];if(i&&i!==n)break;r=r.$$parent}return r.$$proto},y.ret=function(t){throw y.returner.$v=t,y.returner},y.brk=function(t,e){throw e.$v=t,e},y.new_brk=function(){return new Error("unexpected break")},y.yield1=function(t,e){if("function"!=typeof t)throw y.LocalJumpError.$new("no block given");var n=t.$$has_top_level_mlhs_arg,r=t.$$has_trailing_comma_in_args;return(t.length>1||(n||r)&&1===t.length)&&(e=y.to_ary(e)),(t.length>1||r&&1===t.length)&&e.$$is_array?t.apply(null,e):t(e)},y.yieldX=function(t,e){if("function"!=typeof t)throw y.LocalJumpError.$new("no block given");if(t.length>1&&1===e.length&&e[0].$$is_array)return t.apply(null,e[0]);if(!e.$$is_array){for(var n=new Array(e.length),r=0,i=n.length;r<i;r++)n[r]=e[r];return t.apply(null,n)}return t.apply(null,e)},y.rescue=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(r.$$is_array){var i=y.rescue(t,r);if(i)return i}else{if(r===y.JS.Error)return r;if(r["$==="](t))return r}}return null},y.is_a=function(t,e){if(t.$$meta===e||t.$$class===e)return!0;if(t.$$is_number&&e.$$is_number_class)return!0;var n,r,i=y.ancestors(t.$$is_class?y.get_singleton_class(t):t.$$meta||t.$$class);for(n=0,r=i.length;n<r;n++)if(i[n]===e)return!0;return!1},y.to_hash=function(t){if(t.$$is_hash)return t;if(t["$respond_to?"]("to_hash",!0)){var e=t.$to_hash();if(e.$$is_hash)return e;throw y.TypeError.$new("Can't convert "+t.$$class+" to Hash ("+t.$$class+"#to_hash gives "+e.$$class+")")}throw y.TypeError.$new("no implicit conversion of "+t.$$class+" into Hash")},y.to_ary=function(t){if(t.$$is_array)return t;if(t["$respond_to?"]("to_ary",!0)){var e=t.$to_ary();if(e===p)return[t];if(e.$$is_array)return e;throw y.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_ary gives "+e.$$class+")")}return[t]},y.to_a=function(t){if(t.$$is_array)return t.slice();if(t["$respond_to?"]("to_a",!0)){var e=t.$to_a();if(e===p)return[t];if(e.$$is_array)return e;throw y.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_a gives "+e.$$class+")")}return[t]},y.extract_kwargs=function(t){var e=t[t.length-1];return null!=e&&e["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(t,t.length-1,1),e.$to_hash()):y.hash2([],{})},y.kwrestargs=function(t,e){var n=[],r={},i=null,a=t.$$smap;for(i in a)e[i]||(n.push(i),r[i]=a[i]);return y.hash2(n,r)},y.send=function(t,e,n,r){var i="string"==typeof e?t["$"+e]:e;return null!=i?(i.$$p=r,i.apply(t,n)):t.$method_missing.apply(t,[e].concat(n))},y.def=function(t,e,n){t.$$eval||!t.$$is_class&&!t.$$is_module?y.defs(t,e,n):y.defn(t,e,n)},y.defn=function(t,e,n){t.$$proto[e]=n,n.$$owner=t,t.$$is_module&&(y.update_includers(t,e),t.$$module_function&&y.defs(t,e,n));var r=t.$__id__&&!t.$__id__.$$stub&&b[t.$__id__()];if(r)for(var i=r.length-1;i>=0;i--)y.bridge_method(r[i],t,e,n);var a=t.$$singleton_of;return!t.$method_added||t.$method_added.$$stub||a?a&&a.$singleton_method_added&&!a.$singleton_method_added.$$stub&&a.$singleton_method_added(e.substr(1)):t.$method_added(e.substr(1)),p},y.defs=function(t,e,n){y.defn(y.get_singleton_class(t),e,n)},y.rdef=function(t,e){if(!k.call(t.$$proto,e))throw y.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());delete t.$$proto[e],t.$$is_singleton?t.$$proto.$singleton_method_removed&&!t.$$proto.$singleton_method_removed.$$stub&&t.$$proto.$singleton_method_removed(e.substr(1)):t.$method_removed&&!t.$method_removed.$$stub&&t.$method_removed(e.substr(1))},y.udef=function(t,e){if(!t.$$proto[e]||t.$$proto[e].$$stub)throw y.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());y.add_stub_for(t.$$proto,e),t.$$is_singleton?t.$$proto.$singleton_method_undefined&&!t.$$proto.$singleton_method_undefined.$$stub&&t.$$proto.$singleton_method_undefined(e.substr(1)):t.$method_undefined&&!t.$method_undefined.$$stub&&t.$method_undefined(e.substr(1))},y.alias=function(t,e,n){var r,i="$"+e,a="$"+n,$=t.$$proto["$"+n];if(t.$$eval)return y.alias(y.get_singleton_class(t),e,n);if("function"!=typeof $||$.$$stub){for(var o=t.$$super;"function"!=typeof $&&o;)$=o[a],o=o.$$super;if("function"!=typeof $||$.$$stub)throw y.NameError.$new("undefined method `"+n+"' for class `"+t.$name()+"'")}return $.$$alias_of&&($=$.$$alias_of),r=function(){var t,e,n,i=r.$$p;for(t=new Array(arguments.length),e=0,n=arguments.length;e<n;e++)t[e]=arguments[e];return null!=i&&(r.$$p=null),y.send(this,$,t,i)},r.displayName=e,r.length=$.length,r.$$arity=$.$$arity,r.$$parameters=$.$$parameters,r.$$source_location=$.$$source_location,r.$$alias_of=$,r.$$alias_name=e,y.defn(t,i,r),t},y.alias_native=function(t,e,n){var r="$"+e,i=t.$$proto[n];if("function"!=typeof i||i.$$stub)throw y.NameError.$new("undefined native method `"+n+"' for class `"+t.$name()+"'");return y.defn(t,r,i),t},y.hash_init=function(t){t.$$smap=Object.create(null),t.$$map=Object.create(null),t.$$keys=[]},y.hash_clone=function(t,e){e.$$none=t.$$none,e.$$proc=t.$$proc;for(var n,r,i=0,a=t.$$keys,$=t.$$smap,o=a.length;i<o;i++)n=a[i],n.$$is_string?r=$[n]:(r=n.value,n=n.key),y.hash_put(e,n,r)},y.hash_put=function(e,n,r){if(n.$$is_string)return k.call(e.$$smap,n)||e.$$keys.push(n),void(e.$$smap[n]=r);var i,a,$;if(i=e.$$by_identity?y.id(n):n.$hash(),!k.call(e.$$map,i))return a={key:n,key_hash:i,value:r},e.$$keys.push(a),void(e.$$map[i]=a);for(a=e.$$map[i];a;){if(n===a.key||n["$eql?"](a.key)){$=t,a.value=r;break}$=a,a=a.next}$&&(a={key:n,key_hash:i,value:r},e.$$keys.push(a),$.next=a)},y.hash_get=function(t,e){if(e.$$is_string){if(k.call(t.$$smap,e))return t.$$smap[e]}else{var n,r;if(n=t.$$by_identity?y.id(e):e.$hash(),k.call(t.$$map,n))for(r=t.$$map[n];r;){if(e===r.key||e["$eql?"](r.key))return r.value;r=r.next}}},y.hash_delete=function(t,e){var n,r,i=t.$$keys,a=i.length;if(e.$$is_string){if(!k.call(t.$$smap,e))return;for(n=0;n<a;n++)if(i[n]===e){i.splice(n,1);break}return r=t.$$smap[e],delete t.$$smap[e],r}var $=e.$hash();if(k.call(t.$$map,$))for(var o,s=t.$$map[$];s;){if(e===s.key||e["$eql?"](s.key)){for(r=s.value,n=0;n<a;n++)if(i[n]===s){i.splice(n,1);break}return o&&s.next?o.next=s.next:o?delete o.next:s.next?t.$$map[$]=s.next:delete t.$$map[$],r}o=s,s=s.next}},y.hash_rehash=function(e){for(var n,r,i,a=0,$=e.$$keys.length;a<$;a++)if(!e.$$keys[a].$$is_string&&(n=e.$$keys[a].key.$hash(),n!==e.$$keys[a].key_hash)){for(r=e.$$map[e.$$keys[a].key_hash],i=t;r;){if(r===e.$$keys[a]){i&&r.next?i.next=r.next:i?delete i.next:r.next?e.$$map[e.$$keys[a].key_hash]=r.next:delete e.$$map[e.$$keys[a].key_hash];break}i=r,r=r.next}if(e.$$keys[a].key_hash=n,k.call(e.$$map,n)){for(r=e.$$map[n],i=t;r;){if(r===e.$$keys[a]){i=t;break}i=r,r=r.next}i&&(i.next=e.$$keys[a])}else e.$$map[n]=e.$$keys[a]}},y.hash=function(){var t,e,n,r,i,a,$=arguments.length;if(1===$&&arguments[0].$$is_hash)return arguments[0];if(e=new y.Hash.$$alloc,y.hash_init(e),1===$&&arguments[0].$$is_array){for(t=arguments[0],r=t.length,n=0;n<r;n++){if(2!==t[n].length)throw y.ArgumentError.$new("value not of length 2: "+t[n].$inspect());i=t[n][0],a=t[n][1],y.hash_put(e,i,a)}return e}if(1===$){t=arguments[0];for(i in t)k.call(t,i)&&(a=t[i],y.hash_put(e,i,a));return e}if($%2!==0)throw y.ArgumentError.$new("odd number of arguments for Hash");for(n=0;n<$;n+=2)i=arguments[n],a=arguments[n+1],y.hash_put(e,i,a);return e},y.hash2=function(t,e){var n=new y.Hash.$$alloc;return n.$$smap=e,n.$$map=Object.create(null),n.$$keys=t,n},y.range=function(t,e,n){var r=new y.Range.$$alloc;return r.begin=t,r.end=e,r.exclude=n,r},y.ivar=function(t){return"constructor"===t||"displayName"===t||"__count__"===t||"__noSuchMethod__"===t||"__parent__"===t||"__proto__"===t||"hasOwnProperty"===t||"valueOf"===t?t+"$":t},y.escape_regexp=function(t){return t.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},y.modules={},y.loaded_features=["corelib/runtime"],y.current_dir=".",y.require_table={"corelib/runtime":!0},y.normalize=function(t){var e,n,r=[],i="/";"."!==y.current_dir&&(t=y.current_dir.replace(/\/*$/,"/")+t),t=t.replace(/\.(rb|opal|js)$/,""),e=t.split(i);for(var a=0,$=e.length;a<$;a++)n=e[a],""!==n&&(".."===n?r.pop():r.push(n));return r.join(i)},y.loaded=function(t){var e,n,r;for(e=0,n=t.length;e<n;e++){if(r=y.normalize(t[e]),y.require_table[r])return;y.loaded_features.push(r),y.require_table[r]=!0}},y.load=function(t){t=y.normalize(t),y.loaded([t]);var e=y.modules[t];if(e)e(y);else{var n=y.config.missing_require_severity,r="cannot load such file -- "+t;"error"===n?y.LoadError?y.LoadError.$new(r):function(){throw r}():"warning"===n&&d.warn("WARNING: LoadError: "+r)}return!0},y.require=function(t){return t=y.normalize(t),!y.require_table[t]&&y.load(t)},y.boot_class_alloc("BasicObject",e),y.boot_class_alloc("Object",n,e),y.boot_class_alloc("Module",i,n),y.boot_class_alloc("Class",r,i),y.BasicObject=h=y.setup_class_object("BasicObject",e,"Class",r),y.Object=g=y.setup_class_object("Object",n,"BasicObject",h.constructor),y.Module=v=y.setup_class_object("Module",i,"Object",g.constructor),y.Class=m=y.setup_class_object("Class",r,"Module",v.constructor),h.$$const.BasicObject=h,y.const_set(g,"BasicObject",h),y.const_set(g,"Object",g),y.const_set(g,"Module",v),y.const_set(g,"Class",m),h.$$class=m,g.$$class=m,v.$$class=m,m.$$class=m,h.$$super=null,g.$$super=h,v.$$super=g,m.$$super=v,h.$$parent=null,g.$$parent=h,v.$$parent=g,m.$$parent=v,g.$$proto.toString=function(){return this.$to_s()},g.$$proto.$require=y.require,y.top=new g.$$alloc,y.klass(g,g,"NilClass",a),p=y.nil=new a,p.$$id=w,p.call=p.apply=function(){throw y.LocalJumpError.$new("no block given")},y.breaker=new Error("unexpected break (old)"),y.returner=new Error("unexpected return"),TypeError.$$super=Error}.call(this),Opal.loaded(["corelib/runtime"]),Opal.modules["corelib/helpers"]=function(t){var e=(t.top,[]),n=t.nil,r=(t.breaker,t.slice,t.module),i=t.truthy;return t.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$coerce_to!","$!=","$[]","$upcase"]),function(e,a){var $,o,s,l,c,u,_,d,f,p,h,g,v,m,y,b=$=r(e,"Opal"),k=(b.$$proto,[b].concat(a));t.defs(b,"$bridge",o=function(e,n){return t.bridge(e,n)},o.$$arity=2),t.defs(b,"$type_error",s=function(e,r,a,$){var o;return null==a&&(a=n),null==$&&($=n),i(i(o=a)?$:o)?t.const_get_relative(k,"TypeError").$new("can't convert "+e.$class()+" into "+r+" ("+e.$class()+"#"+a+" gives "+$.$class()):t.const_get_relative(k,"TypeError").$new("no implicit conversion of "+e.$class()+" into "+r)},s.$$arity=-3),t.defs(b,"$coerce_to",l=function(t,e,n){var r=this;return i(e["$==="](t))?t:(i(t["$respond_to?"](n))||r.$raise(r.$type_error(t,e)),t.$__send__(n))},l.$$arity=3),t.defs(b,"$coerce_to!",c=function(t,e,r){var a=this,$=n;return $=a.$coerce_to(t,e,r),i(e["$==="]($))||a.$raise(a.$type_error(t,e,r,$)),$},c.$$arity=3),t.defs(b,"$coerce_to?",u=function(t,e,r){var a=this,$=n;return i(t["$respond_to?"](r))?($=a.$coerce_to(t,e,r),i($["$nil?"]())?n:(i(e["$==="]($))||a.$raise(a.$type_error(t,e,r,$)),$)):n},u.$$arity=3),t.defs(b,"$try_convert",_=function(t,e,r){return i(e["$==="](t))?t:i(t["$respond_to?"](r))?t.$__send__(r):n},_.$$arity=3),t.defs(b,"$compare",d=function(e,r){var a=this,$=n;return $=e["$<=>"](r),i($===n)&&a.$raise(t.const_get_relative(k,"ArgumentError"),"comparison of "+e.$class()+" with "+r.$class()+" failed"),$},d.$$arity=2),t.defs(b,"$destructure",f=function(t){if(1==t.length)return t[0];if(t.$$is_array)return t;for(var e=new Array(t.length),n=0,r=e.length;n<r;n++)e[n]=t[n];return e},f.$$arity=1),t.defs(b,"$respond_to?",p=function(t,e){return!(null==t||!t.$$class)&&t["$respond_to?"](e)},p.$$arity=2),t.defs(b,"$inspect_obj",h=function(e){return t.inspect(e)},h.$$arity=1),t.defs(b,"$instance_variable_name!",g=function(e){var n=this;return e=t.const_get_relative(k,"Opal")["$coerce_to!"](e,t.const_get_relative(k,"String"),"to_str"),i(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(e))||n.$raise(t.const_get_relative(k,"NameError").$new("'"+e+"' is not allowed as an instance variable name",e)),e},g.$$arity=1),t.defs(b,"$class_variable_name!",v=function(e){var n=this;return e=t.const_get_relative(k,"Opal")["$coerce_to!"](e,t.const_get_relative(k,"String"),"to_str"),i(e.length<3||"@@"!==e.slice(0,2))&&n.$raise(t.const_get_relative(k,"NameError").$new("`"+e+"' is not allowed as a class variable name",e)),e},v.$$arity=1),t.defs(b,"$const_name!",m=function(e){var n=this;return e=t.const_get_relative(k,"Opal")["$coerce_to!"](e,t.const_get_relative(k,"String"),"to_str"),i(e["$[]"](0)["$!="](e["$[]"](0).$upcase()))&&n.$raise(t.const_get_relative(k,"NameError"),"wrong constant name "+e),e},m.$$arity=1),t.defs(b,"$pristine",y=function(t,e){var r,i=arguments.length,a=i-1;a<0&&(a=0),r=new Array(a);for(var $=1;$<i;$++)r[$-1]=arguments[$];for(var o,s=r.length-1;s>=0;s--)o=r[s],t.$$proto["$"+o].$$pristine=!0;return n},y.$$arity=-2)}(e[0],e)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $rb_gt(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function $rb_plus(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var self=Opal.top,$nesting=[],nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$send=Opal.send,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!","$start_with?","$to_proc","$lambda","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$+","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$parent_nesting){function $Module(){}var self=$Module=$klass($base,$super,"Module",$Module),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_Module_allocate_1,TMP_Module_initialize_2,TMP_Module_$eq$eq$eq_3,TMP_Module_$lt_4,TMP_Module_$lt$eq_5,TMP_Module_$gt_6,TMP_Module_$gt$eq_7,TMP_Module_$lt$eq$gt_8,TMP_Module_alias_method_9,TMP_Module_alias_native_10,TMP_Module_ancestors_11,TMP_Module_append_features_12,TMP_Module_attr_accessor_13,TMP_Module_attr_reader_14,TMP_Module_attr_writer_15,TMP_Module_autoload_16,TMP_Module_class_variables_17,TMP_Module_class_variable_get_18,TMP_Module_class_variable_set_19,TMP_Module_class_variable_defined$q_20,TMP_Module_remove_class_variable_21,TMP_Module_constants_22,TMP_Module_constants_23,TMP_Module_nesting_24,TMP_Module_const_defined$q_25,TMP_Module_const_get_27,TMP_Module_const_missing_28,TMP_Module_const_set_29,TMP_Module_public_constant_30,TMP_Module_define_method_31,TMP_Module_remove_method_33,TMP_Module_singleton_class$q_34,TMP_Module_include_35,TMP_Module_included_modules_36,TMP_Module_include$q_37,TMP_Module_instance_method_38,TMP_Module_instance_methods_39,TMP_Module_included_40,TMP_Module_extended_41,TMP_Module_method_added_42,TMP_Module_method_removed_43,TMP_Module_method_undefined_44,TMP_Module_module_eval_45,TMP_Module_module_exec_47,TMP_Module_method_defined$q_48,TMP_Module_module_function_49,TMP_Module_name_50,TMP_Module_remove_const_51,TMP_Module_to_s_52,TMP_Module_undef_method_53,TMP_Module_instance_variables_54,TMP_Module_dup_55,TMP_Module_copy_class_variables_56,TMP_Module_copy_constants_57;return Opal.defs(self,"$allocate",TMP_Module_allocate_1=function(){var t,e=this;return t=Opal.module_allocate(e)},TMP_Module_allocate_1.$$arity=0),Opal.defn(self,"$initialize",TMP_Module_initialize_2=function(){var t=this,e=TMP_Module_initialize_2.$$p,n=e||nil;return e&&(TMP_Module_initialize_2.$$p=null),Opal.module_initialize(t,n)},TMP_Module_initialize_2.$$arity=0),Opal.defn(self,"$===",TMP_Module_$eq$eq$eq_3=function(t){var e=this;return!$truthy(null==t)&&Opal.is_a(t,e)},TMP_Module_$eq$eq$eq_3.$$arity=1),Opal.defn(self,"$<",TMP_Module_$lt_4=function(t){var e=this;$truthy(Opal.const_get_relative($nesting,"Module")["$==="](t))||e.$raise(Opal.const_get_relative($nesting,"TypeError"),"compared with non class/module");var n,r,i,a=e;if(a===t)return!1;for(r=0,n=Opal.ancestors(e),i=n.length;r<i;r++)if(n[r]===t)return!0;for(r=0,n=Opal.ancestors(t),i=n.length;r<i;r++)if(n[r]===e)return!1;return nil},TMP_Module_$lt_4.$$arity=1),Opal.defn(self,"$<=",TMP_Module_$lt$eq_5=function(t){var e,n=this;return $truthy(e=n["$equal?"](t))?e:$rb_lt(n,t)},TMP_Module_$lt$eq_5.$$arity=1),Opal.defn(self,"$>",TMP_Module_$gt_6=function(t){var e=this;return $truthy(Opal.const_get_relative($nesting,"Module")["$==="](t))||e.$raise(Opal.const_get_relative($nesting,"TypeError"),"compared with non class/module"),$rb_lt(t,e)},TMP_Module_$gt_6.$$arity=1),Opal.defn(self,"$>=",TMP_Module_$gt$eq_7=function(t){var e,n=this;return $truthy(e=n["$equal?"](t))?e:$rb_gt(n,t)},TMP_Module_$gt$eq_7.$$arity=1),Opal.defn(self,"$<=>",TMP_Module_$lt$eq$gt_8=function(t){var e=this,n=nil;return e===t?0:$truthy(Opal.const_get_relative($nesting,"Module")["$==="](t))?(n=$rb_lt(e,t),$truthy(n["$nil?"]())?nil:$truthy(n)?-1:1):nil},TMP_Module_$lt$eq$gt_8.$$arity=1),Opal.defn(self,"$alias_method",TMP_Module_alias_method_9=function(t,e){var n=this;return Opal.alias(n,t,e),n},TMP_Module_alias_method_9.$$arity=2),Opal.defn(self,"$alias_native",TMP_Module_alias_native_10=function(t,e){var n=this;return null==e&&(e=t),Opal.alias_native(n,t,e),n},TMP_Module_alias_native_10.$$arity=-2),Opal.defn(self,"$ancestors",TMP_Module_ancestors_11=function(){var t=this;return Opal.ancestors(t)},TMP_Module_ancestors_11.$$arity=0),Opal.defn(self,"$append_features",TMP_Module_append_features_12=function(t){var e=this;return Opal.append_features(e,t),e},TMP_Module_append_features_12.$$arity=1),Opal.defn(self,"$attr_accessor",TMP_Module_attr_accessor_13=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];return $send(n,"attr_reader",Opal.to_a(e)),$send(n,"attr_writer",Opal.to_a(e))},TMP_Module_attr_accessor_13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.defn(self,"$attr_reader",TMP_Module_attr_reader_14=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];for(var $=n.$$proto,o=e.length-1;o>=0;o--){var s=e[o],l="$"+s,c=Opal.ivar(s),u=function(t){return function(){return null==this[t]?nil:this[t]}}(c);$[c]=nil,u.$$parameters=[],u.$$arity=0,n.$$is_singleton?$.constructor.prototype[l]=u:Opal.defn(n,l,u)}return nil},TMP_Module_attr_reader_14.$$arity=-1),Opal.defn(self,"$attr_writer",TMP_Module_attr_writer_15=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];for(var $=n.$$proto,o=e.length-1;o>=0;o--){var s=e[o],l="$"+s+"=",c=Opal.ivar(s),u=function(t){return function(e){return this[t]=e}}(c);u.$$parameters=[["req"]],u.$$arity=1,$[c]=nil,n.$$is_singleton?$.constructor.prototype[l]=u:Opal.defn(n,l,u)}return nil},TMP_Module_attr_writer_15.$$arity=-1),Opal.defn(self,"$autoload",TMP_Module_autoload_16=function(t,e){var n=this;return null==n.$$autoload&&(n.$$autoload={}),Opal.const_cache_version++,n.$$autoload[t]=e,nil},TMP_Module_autoload_16.$$arity=2),Opal.defn(self,"$class_variables",TMP_Module_class_variables_17=function(){var t=this;return Object.keys(Opal.class_variables(t))},TMP_Module_class_variables_17.$$arity=0),Opal.defn(self,"$class_variable_get",TMP_Module_class_variable_get_18=function(t){var e=this;t=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](t);var n=Opal.class_variables(e)[t];return null==n&&e.$raise(Opal.const_get_relative($nesting,"NameError").$new("uninitialized class variable "+t+" in "+e,t)),n},TMP_Module_class_variable_get_18.$$arity=1),Opal.defn(self,"$class_variable_set",TMP_Module_class_variable_set_19=function(t,e){var n=this;return t=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variable_set(n,t,e)},TMP_Module_class_variable_set_19.$$arity=2),Opal.defn(self,"$class_variable_defined?",TMP_Module_class_variable_defined$q_20=function(t){var e=this;return t=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variables(e).hasOwnProperty(t)},TMP_Module_class_variable_defined$q_20.$$arity=1),Opal.defn(self,"$remove_class_variable",TMP_Module_remove_class_variable_21=function(t){var e=this;if(t=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](t),Opal.hasOwnProperty.call(e.$$cvars,t)){var n=e.$$cvars[t];return delete e.$$cvars[t],n}e.$raise(Opal.const_get_relative($nesting,"NameError").$new("cannot remove "+t+" for "+e))},TMP_Module_remove_class_variable_21.$$arity=1),Opal.defn(self,"$constants",TMP_Module_constants_22=function(t){var e=this;return null==t&&(t=!0),Opal.constants(e,t)},TMP_Module_constants_22.$$arity=-1),Opal.defs(self,"$constants",TMP_Module_constants_23=function(t){var e=this;if(null==t){var n,r,i,a=(e.$$nesting||[]).concat(Opal.Object),$={};for(r=0,i=a.length;r<i;r++)for(n in a[r].$$const)$[n]=!0;return Object.keys($)}return Opal.constants(e,t)},TMP_Module_constants_23.$$arity=-1),Opal.defs(self,"$nesting",TMP_Module_nesting_24=function(){var t=this;return t.$$nesting||[]},TMP_Module_nesting_24.$$arity=0),Opal.defn(self,"$const_defined?",TMP_Module_const_defined$q_25=function(t,e){var n=this;null==e&&(e=!0),t=Opal.const_get_relative($nesting,"Opal")["$const_name!"](t),$truthy(t["$=~"](Opal.const_get_qualified(Opal.const_get_relative($nesting,"Opal"),"CONST_NAME_REGEXP")))||n.$raise(Opal.const_get_relative($nesting,"NameError").$new("wrong constant name "+t,t));
var r,i,a,$=[n];for(e&&($=$.concat(Opal.ancestors(n)),n.$$is_module&&($=$.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object)))),i=0,a=$.length;i<a;i++)if(r=$[i],null!=r.$$const[t])return!0;return!1},TMP_Module_const_defined$q_25.$$arity=-2),Opal.defn(self,"$const_get",TMP_Module_const_get_27=function(t,e){var n,r=this;return null==e&&(e=!0),t=Opal.const_get_relative($nesting,"Opal")["$const_name!"](t),0===t.indexOf("::")&&"::"!==t&&(t=t.slice(2)),$truthy(t.indexOf("::")!=-1&&"::"!=t)?$send(t.$split("::"),"inject",[r],(n=function(t,e){n.$$s||this;return null==t&&(t=nil),null==e&&(e=nil),t.$const_get(e)},n.$$s=r,n.$$arity=2,n)):($truthy(t["$=~"](Opal.const_get_qualified(Opal.const_get_relative($nesting,"Opal"),"CONST_NAME_REGEXP")))||r.$raise(Opal.const_get_relative($nesting,"NameError").$new("wrong constant name "+t,t)),e?Opal.const_get_relative([r],t):Opal.const_get_local(r,t))},TMP_Module_const_get_27.$$arity=-2),Opal.defn(self,"$const_missing",TMP_Module_const_missing_28=function(t){var e=this,n=nil;if(e.$$autoload){var r=e.$$autoload[t];if(r)return e.$require(r),e.$const_get(t)}return n=function(){return e["$=="](Opal.const_get_relative($nesting,"Object"))?t:""+e+"::"+t}(),e.$raise(Opal.const_get_relative($nesting,"NameError").$new("uninitialized constant "+n,t))},TMP_Module_const_missing_28.$$arity=1),Opal.defn(self,"$const_set",TMP_Module_const_set_29=function(t,e){var n,r=this;return t=Opal.const_get_relative($nesting,"Opal")["$const_name!"](t),$truthy($truthy(n=t["$=~"](Opal.const_get_qualified(Opal.const_get_relative($nesting,"Opal"),"CONST_NAME_REGEXP"))["$!"]())?n:t["$start_with?"]("::"))&&r.$raise(Opal.const_get_relative($nesting,"NameError").$new("wrong constant name "+t,t)),Opal.const_set(r,t,e),e},TMP_Module_const_set_29.$$arity=2),Opal.defn(self,"$public_constant",TMP_Module_public_constant_30=function(t){return nil},TMP_Module_public_constant_30.$$arity=1),Opal.defn(self,"$define_method",TMP_Module_define_method_31=function(t,e){var n,r,i=this,a=TMP_Module_define_method_31.$$p,$=a||nil,o=nil;a&&(TMP_Module_define_method_31.$$p=null),$truthy(void 0===e&&$===nil)&&i.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"tried to create a Proc object without a block"),$=$truthy(n=$)?n:function(){return o=e,Opal.const_get_relative($nesting,"Proc")["$==="](o)?e:Opal.const_get_relative($nesting,"Method")["$==="](o)?e.$to_proc().$$unbound:Opal.const_get_relative($nesting,"UnboundMethod")["$==="](o)?$send(i,"lambda",[],(r=function(t){var n,i=r.$$s||this,a=nil,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var s=0;s<$;s++)n[s-0]=arguments[s];return a=e.$bind(i),$send(a,"call",Opal.to_a(n))},r.$$s=i,r.$$arity=-1,r)):i.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+$.$class()+" (expected Proc/Method)")}();var s="$"+t;return $.$$jsid=t,$.$$s=null,$.$$def=$,$.$$define_meth=!0,Opal.defn(i,s,$),t},TMP_Module_define_method_31.$$arity=-2),Opal.defn(self,"$remove_method",TMP_Module_remove_method_33=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];for(var $=0,o=e.length;$<o;$++)Opal.rdef(n,"$"+e[$]);return n},TMP_Module_remove_method_33.$$arity=-1),Opal.defn(self,"$singleton_class?",TMP_Module_singleton_class$q_34=function(){var t=this;return!!t.$$is_singleton},TMP_Module_singleton_class$q_34.$$arity=0),Opal.defn(self,"$include",TMP_Module_include_35=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];for(var $=e.length-1;$>=0;$--){var o=e[$];o.$$is_module||n.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+o.$class()+" (expected Module)"),o.$append_features(n),o.$included(n)}return n},TMP_Module_include_35.$$arity=-1),Opal.defn(self,"$included_modules",TMP_Module_included_modules_36=function(){var t,e=this,n=function(t){for(var e=[],r=0,i=t.$$inc.length;r<i;r++){var a=t.$$inc[r];e.push(a),e=e.concat(n(a))}return e};if(t=n(e),e.$$is_class)for(var r=e;r;r=r.$$super)t=t.concat(n(r));return t},TMP_Module_included_modules_36.$$arity=0),Opal.defn(self,"$include?",TMP_Module_include$q_37=function(t){var e=this;t.$$is_module||e.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+t.$class()+" (expected Module)");var n,r,i,a=Opal.ancestors(e);for(n=0,r=a.length;n<r;n++)if(i=a[n],i===t&&i!==e)return!0;return!1},TMP_Module_include$q_37.$$arity=1),Opal.defn(self,"$instance_method",TMP_Module_instance_method_38=function(t){var e=this,n=e.$$proto["$"+t];return n&&!n.$$stub||e.$raise(Opal.const_get_relative($nesting,"NameError").$new("undefined method `"+t+"' for class `"+e.$name()+"'",t)),Opal.const_get_relative($nesting,"UnboundMethod").$new(e,n.$$owner||e,n,t)},TMP_Module_instance_method_38.$$arity=1),Opal.defn(self,"$instance_methods",TMP_Module_instance_methods_39=function(t){var e=this;null==t&&(t=!0);var n,r=[],i=e.$$proto;for(var a in i)if("$"===a.charAt(0)&&"$"!==a.charAt(1)&&(n=i[a],"function"==typeof n&&!n.$$stub)){if(!e.$$is_module){if(e!==Opal.BasicObject&&n===Opal.BasicObject.$$proto[a])continue;if(!t&&!i.hasOwnProperty(a))continue;if(!t&&n.$$donated)continue}r.push(a.substr(1))}return r},TMP_Module_instance_methods_39.$$arity=-1),Opal.defn(self,"$included",TMP_Module_included_40=function(t){return nil},TMP_Module_included_40.$$arity=1),Opal.defn(self,"$extended",TMP_Module_extended_41=function(t){return nil},TMP_Module_extended_41.$$arity=1),Opal.defn(self,"$method_added",TMP_Module_method_added_42=function(t){return nil},TMP_Module_method_added_42.$$arity=-1),Opal.defn(self,"$method_removed",TMP_Module_method_removed_43=function(t){return nil},TMP_Module_method_removed_43.$$arity=-1),Opal.defn(self,"$method_undefined",TMP_Module_method_undefined_44=function(t){return nil},TMP_Module_method_undefined_44.$$arity=-1),Opal.defn(self,"$module_eval",TMP_Module_module_eval_45=function $$module_eval($a_rest){var $b,TMP_46,self=this,args,$iter=TMP_Module_module_eval_45.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Module_module_eval_45.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||Opal.const_get_relative($nesting,"Kernel").$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],$b,default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=Opal.const_get_relative($nesting,"Opal").$compile(string,compiling_options),block=$send(Opal.const_get_relative($nesting,"Kernel"),"proc",[],(TMP_46=function(){var self=TMP_46.$$s||this;return function(self){return eval(compiled)}(self)},TMP_46.$$s=self,TMP_46.$$arity=0,TMP_46))):$truthy($rb_gt(args.$size(),0))&&Opal.const_get_relative($nesting,"Kernel").$raise(Opal.const_get_relative($nesting,"ArgumentError"),$rb_plus("wrong number of arguments ("+args.$size()+" for 0)","\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n"));var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},TMP_Module_module_eval_45.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.defn(self,"$module_exec",TMP_Module_module_exec_47=function(t){var e,n=this,r=TMP_Module_module_exec_47.$$p,i=r||nil,a=arguments.length,$=a-0;$<0&&($=0),e=new Array($);for(var o=0;o<a;o++)e[o-0]=arguments[o];r&&(TMP_Module_module_exec_47.$$p=null),i===nil&&n.$raise(Opal.const_get_relative($nesting,"LocalJumpError"),"no block given");var s,l=i.$$s;return i.$$s=null,s=i.apply(n,e),i.$$s=l,s},TMP_Module_module_exec_47.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.defn(self,"$method_defined?",TMP_Module_method_defined$q_48=function(t){var e=this,n=e.$$proto["$"+t];return!!n&&!n.$$stub},TMP_Module_method_defined$q_48.$$arity=1),Opal.defn(self,"$module_function",TMP_Module_module_function_49=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];if(0===e.length)n.$$module_function=!0;else for(var $=0,o=e.length;$<o;$++){var s=e[$],l="$"+s,c=n.$$proto[l];Opal.defs(n,l,c)}return n},TMP_Module_module_function_49.$$arity=-1),Opal.defn(self,"$name",TMP_Module_name_50=function(){var t=this;if(t.$$full_name)return t.$$full_name;for(var e=[],n=t;n;){if(n.$$name===nil||null==n.$$name)return nil;if(e.unshift(n.$$name),n=n.$$base_module,n===Opal.Object)break}return 0===e.length?nil:t.$$full_name=e.join("::")},TMP_Module_name_50.$$arity=0),Opal.defn(self,"$remove_const",TMP_Module_remove_const_51=function(t){var e=this;return Opal.const_remove(e,t)},TMP_Module_remove_const_51.$$arity=1),Opal.defn(self,"$to_s",TMP_Module_to_s_52=function(){var t,e=this;return $truthy(t=Opal.Module.$name.call(e))?t:"#<"+(e.$$is_module?"Module":"Class")+":0x"+e.$__id__().$to_s(16)+">"},TMP_Module_to_s_52.$$arity=0),Opal.defn(self,"$undef_method",TMP_Module_undef_method_53=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];for(var $=0,o=e.length;$<o;$++)Opal.udef(n,"$"+e[$]);return n},TMP_Module_undef_method_53.$$arity=-1),Opal.defn(self,"$instance_variables",TMP_Module_instance_variables_54=function(){var t=this,e=nil;Opal.Module.$$nesting=$nesting,e=t.$constants();var n=[];for(var r in t)t.hasOwnProperty(r)&&"$"!==r.charAt(0)&&"constructor"!==r&&!e["$include?"](r)&&n.push("@"+r);return n},TMP_Module_instance_variables_54.$$arity=0),Opal.defn(self,"$dup",TMP_Module_dup_55=function(){var t=this,e=TMP_Module_dup_55.$$p,n=nil,r=nil,i=nil,a=nil;for(e&&(TMP_Module_dup_55.$$p=null),i=0,a=arguments.length,r=new Array(a);i<a;i++)r[i]=arguments[i];return n=$send(t,Opal.find_super_dispatcher(t,"dup",TMP_Module_dup_55,!1),r,e),n.$copy_class_variables(t),n.$copy_constants(t),n},TMP_Module_dup_55.$$arity=0),Opal.defn(self,"$copy_class_variables",TMP_Module_copy_class_variables_56=function(t){var e=this;for(var n in t.$$cvars)e.$$cvars[n]=t.$$cvars[n]},TMP_Module_copy_class_variables_56.$$arity=1),Opal.defn(self,"$copy_constants",TMP_Module_copy_constants_57=function(t){var e,n=this,r=t.$$const;for(e in r)Opal.const_set(n,e,r[e])},TMP_Module_copy_constants_57.$$arity=1),nil&&"copy_constants"}($nesting[0],null,$nesting)},Opal.modules["corelib/class"]=function(t){var e=t.top,n=[],r=t.nil,i=(t.breaker,t.slice,t.klass),a=t.send;return t.add_stubs(["$require","$initialize_copy","$allocate","$name","$to_s"]),e.$require("corelib/module"),function(e,n,$){function o(){}var s,l,c,u,_,d,f,p=o=i(e,n,"Class",o),h=(p.$$proto,[p].concat($));return t.defs(p,"$new",s=function(e){var n=s.$$p,i=n||r;if(null==e&&(e=t.const_get_relative(h,"Object")),n&&(s.$$p=null),!e.$$is_class)throw t.TypeError.$new("superclass must be a Class");var a=t.boot_class_alloc(null,function(){},e),$=t.setup_class_object(null,a,e.$$name,e.constructor);return $.$$super=e,$.$$parent=e,e.$inherited($),t.module_initialize($,i),$},s.$$arity=-1),t.defn(p,"$allocate",l=function(){var e=this,n=new e.$$alloc;return n.$$id=t.uid(),n},l.$$arity=0),t.defn(p,"$inherited",c=function(t){return r},c.$$arity=1),t.defn(p,"$initialize_dup",u=function(t){var e=this;e.$initialize_copy(t),e.$$name=null,e.$$full_name=null},u.$$arity=1),t.defn(p,"$new",_=function(e){var n,i=this,a=_.$$p,$=a||r,o=arguments.length,s=o-0;s<0&&(s=0),n=new Array(s);for(var l=0;l<o;l++)n[l-0]=arguments[l];a&&(_.$$p=null);var c=i.$allocate();return t.send(c,c.$initialize,n,$),c},_.$$arity=-1),t.defn(p,"$superclass",d=function(){var t=this;return t.$$super||r},d.$$arity=0),t.defn(p,"$to_s",f=function(){var e=this,n=f.$$p;n&&(f.$$p=null);var r=e.$$singleton_of;return r&&(r.$$is_class||r.$$is_module)?"#<Class:"+r.$name()+">":r?"#<Class:#<"+r.$$class.$name()+":0x"+t.id(r).$to_s(16)+">>":a(e,t.find_super_dispatcher(e,"to_s",f,!1),[],null)},f.$$arity=0),r&&"to_s"}(n[0],null,n)},Opal.modules["corelib/basic_object"]=function(Opal){function $rb_gt(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var self=Opal.top,$nesting=[],nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$>","$new","$inspect"]),function($base,$super,$parent_nesting){function $BasicObject(){}var self=$BasicObject=$klass($base,$super,"BasicObject",$BasicObject),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_BasicObject_initialize_1,TMP_BasicObject_$eq$eq_2,TMP_BasicObject_eql$q_3,TMP_BasicObject___id___4,TMP_BasicObject___send___5,TMP_BasicObject_$B_6,TMP_BasicObject_$B$eq_7,TMP_BasicObject_instance_eval_8,TMP_BasicObject_instance_exec_10,TMP_BasicObject_singleton_method_added_11,TMP_BasicObject_singleton_method_removed_12,TMP_BasicObject_singleton_method_undefined_13,TMP_BasicObject_method_missing_14;return Opal.defn(self,"$initialize",TMP_BasicObject_initialize_1=function(t){return nil},TMP_BasicObject_initialize_1.$$arity=-1),Opal.defn(self,"$==",TMP_BasicObject_$eq$eq_2=function(t){var e=this;return e===t},TMP_BasicObject_$eq$eq_2.$$arity=1),Opal.defn(self,"$eql?",TMP_BasicObject_eql$q_3=function(t){var e=this;return e["$=="](t)},TMP_BasicObject_eql$q_3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.defn(self,"$__id__",TMP_BasicObject___id___4=function(){var t=this;return t.$$id||(t.$$id=Opal.uid())},TMP_BasicObject___id___4.$$arity=0),Opal.defn(self,"$__send__",TMP_BasicObject___send___5=function(t,e){var n,r=this,i=TMP_BasicObject___send___5.$$p,a=i||nil,$=arguments.length,o=$-1;o<0&&(o=0),n=new Array(o);for(var s=1;s<$;s++)n[s-1]=arguments[s];i&&(TMP_BasicObject___send___5.$$p=null);var l=r["$"+t];return l?(a!==nil&&(l.$$p=a),l.apply(r,n)):(a!==nil&&(r.$method_missing.$$p=a),r.$method_missing.apply(r,[t].concat(n)))},TMP_BasicObject___send___5.$$arity=-2),Opal.defn(self,"$!",TMP_BasicObject_$B_6=function(){return!1},TMP_BasicObject_$B_6.$$arity=0),Opal.defn(self,"$!=",TMP_BasicObject_$B$eq_7=function(t){var e=this;return e["$=="](t)["$!"]()},TMP_BasicObject_$B$eq_7.$$arity=1),Opal.alias(self,"equal?","=="),Opal.defn(self,"$instance_eval",TMP_BasicObject_instance_eval_8=function $$instance_eval($a_rest){var $b,TMP_9,self=this,args,$iter=TMP_BasicObject_instance_eval_8.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_BasicObject_instance_eval_8.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],$b,default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=Opal.const_get_qualified("::","Opal").$compile(string,compiling_options),block=$send(Opal.const_get_qualified("::","Kernel"),"proc",[],(TMP_9=function(){var self=TMP_9.$$s||this;return function(self){return eval(compiled)}(self)},TMP_9.$$s=self,TMP_9.$$arity=0,TMP_9))):$truthy($rb_gt(args.$size(),0))&&Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)");var old=block.$$s,result;if(block.$$s=null,self.$$is_class||self.$$is_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},TMP_BasicObject_instance_eval_8.$$arity=-1),Opal.defn(self,"$instance_exec",TMP_BasicObject_instance_exec_10=function(t){var e,n=this,r=TMP_BasicObject_instance_exec_10.$$p,i=r||nil,a=arguments.length,$=a-0;$<0&&($=0),e=new Array($);for(var o=0;o<a;o++)e[o-0]=arguments[o];r&&(TMP_BasicObject_instance_exec_10.$$p=null),$truthy(i)||Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","ArgumentError"),"no block given");var s,l=i.$$s;if(i.$$s=null,n.$$is_class||n.$$is_module){n.$$eval=!0;try{s=i.apply(n,e)}finally{n.$$eval=!1}}else s=i.apply(n,e);return i.$$s=l,s},TMP_BasicObject_instance_exec_10.$$arity=-1),Opal.defn(self,"$singleton_method_added",TMP_BasicObject_singleton_method_added_11=function(t){return nil},TMP_BasicObject_singleton_method_added_11.$$arity=-1),Opal.defn(self,"$singleton_method_removed",TMP_BasicObject_singleton_method_removed_12=function(t){return nil},TMP_BasicObject_singleton_method_removed_12.$$arity=-1),Opal.defn(self,"$singleton_method_undefined",TMP_BasicObject_singleton_method_undefined_13=function(t){return nil},TMP_BasicObject_singleton_method_undefined_13.$$arity=-1),Opal.defn(self,"$method_missing",TMP_BasicObject_method_missing_14=function(t,e){var n,r=this,i=TMP_BasicObject_method_missing_14.$$p,a=arguments.length,$=a-1;$<0&&($=0),n=new Array($);for(var o=1;o<a;o++)n[o-1]=arguments[o];return i&&(TMP_BasicObject_method_missing_14.$$p=null),Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","NoMethodError").$new(function(){return $truthy(r.$inspect&&!r.$inspect.$$stub)?"undefined method `"+t+"' for "+r.$inspect()+":"+r.$$class:"undefined method `"+t+"' for "+r.$$class}(),t))},TMP_BasicObject_method_missing_14.$$arity=-2),nil&&"method_missing"}($nesting[0],null,$nesting)},Opal.modules["corelib/kernel"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var r=(t.top,[]),i=t.nil,a=(t.breaker,t.slice,t.module),$=t.truthy,o=t.gvars,s=t.send,l=t.hash2,c=t.klass;return t.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$>","$size","$pop","$call","$append_features","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$coerce_to","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$enum_for","$result","$print","$format","$puts","$each","$<=","$empty?","$exception","$kind_of?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$srand","$new_seed","$sym","$arg","$open","$include"]),function(r,c){var u,_,d,f,p,h,g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P,L,D,B,j,U,F,H,G,Y,W,K,X,V,J,Z,Q,tt,et,nt,rt,it,at,$t,ot,st,lt,ct,ut,_t,dt,ft,pt,ht,gt,vt,mt,yt,bt,kt=u=a(r,"Kernel"),wt=(kt.$$proto,[kt].concat(c));t.defn(kt,"$method_missing",_=function(e,n){var r,i=this,a=_.$$p,$=arguments.length,o=$-1;o<0&&(o=0),r=new Array(o);for(var s=1;s<$;s++)r[s-1]=arguments[s];return a&&(_.$$p=null),i.$raise(t.const_get_relative(wt,"NoMethodError").$new("undefined method `"+e+"' for "+i.$inspect(),e,r))},_.$$arity=-2),t.defn(kt,"$=~",d=function(t){return!1},d.$$arity=1),t.defn(kt,"$!~",f=function(t){var e=this;return e["$=~"](t)["$!"]()},f.$$arity=1),t.defn(kt,"$===",p=function(t){var e,n=this;return $(e=n.$object_id()["$=="](t.$object_id()))?e:n["$=="](t)},p.$$arity=1),t.defn(kt,"$<=>",h=function(t){var e=this;e.$$comparable=!0;var n=e["$=="](t);return n&&n!==i?0:i},h.$$arity=1),t.defn(kt,"$method",g=function(e){var n=this,r=n["$"+e];return r&&!r.$$stub||n.$raise(t.const_get_relative(wt,"NameError").$new("undefined method `"+e+"' for class `"+n.$class()+"'",e)),t.const_get_relative(wt,"Method").$new(n,r.$$owner||n.$class(),r,e)},g.$$arity=1),t.defn(kt,"$methods",v=function(e){var n=this;null==e&&(e=!0);var r=[];for(var a in n)if("$"==a[0]&&"function"==typeof n[a]){if((0==e||e===i)&&!t.hasOwnProperty.call(n,a))continue;void 0===n[a].$$stub&&r.push(a.substr(1))}return r},v.$$arity=-1),t.alias(kt,"public_methods","methods"),t.defn(kt,"$Array",m=function(e){var n;return e===i?[]:e.$$is_array?e:(n=t.const_get_relative(wt,"Opal")["$coerce_to?"](e,t.const_get_relative(wt,"Array"),"to_ary"),n!==i?n:(n=t.const_get_relative(wt,"Opal")["$coerce_to?"](e,t.const_get_relative(wt,"Array"),"to_a"),n!==i?n:[e]))},m.$$arity=1),t.defn(kt,"$at_exit",y=function(){var t,e=y.$$p,n=e||i;return null==o.__at_exit__&&(o.__at_exit__=i),e&&(y.$$p=null),o.__at_exit__=$(t=o.__at_exit__)?t:[],o.__at_exit__["$<<"](n)},y.$$arity=0),t.defn(kt,"$caller",b=function(t){var e,n=arguments.length,r=n-0;r<0&&(r=0),e=new Array(r);for(var i=0;i<n;i++)e[i-0]=arguments[i];return[]},b.$$arity=-1),t.defn(kt,"$class",k=function(){var t=this;return t.$$class},k.$$arity=0),t.defn(kt,"$copy_instance_variables",w=function(t){var e,n,r,i=this,a=Object.keys(t);for(e=0,n=a.length;e<n;e++)r=a[e],"$"!==r.charAt(0)&&t.hasOwnProperty(r)&&(i[r]=t[r])},w.$$arity=1),t.defn(kt,"$copy_singleton_methods",x=function(e){var n,r=this;if(e.hasOwnProperty("$$meta")){var i=t.get_singleton_class(e).$$proto,a=t.get_singleton_class(r).$$proto;for(n in i)"$"===n.charAt(0)&&i.hasOwnProperty(n)&&(a[n]=i[n])}for(n in e)"$"===n.charAt(0)&&"$"!==n.charAt(1)&&e.hasOwnProperty(n)&&(r[n]=e[n])},x.$$arity=1),t.defn(kt,"$clone",E=function(){var t=this,e=i;return e=t.$class().$allocate(),e.$copy_instance_variables(t),e.$copy_singleton_methods(t),e.$initialize_clone(t),e},E.$$arity=0),t.defn(kt,"$initialize_clone",O=function(t){var e=this;return e.$initialize_copy(t)},O.$$arity=1),t.defn(kt,"$define_singleton_method",A=function(t,e){var n=this,r=A.$$p,a=r||i;return r&&(A.$$p=null),s(n.$singleton_class(),"define_method",[t,e],a.$to_proc())},A.$$arity=-2),t.defn(kt,"$dup",S=function(){var t=this,e=i;return e=t.$class().$allocate(),e.$copy_instance_variables(t),e.$initialize_dup(t),e},S.$$arity=0),t.defn(kt,"$initialize_dup",R=function(t){var e=this;return e.$initialize_copy(t)},R.$$arity=1),t.defn(kt,"$enum_for",M=function(e,n){var r,a=this,$=M.$$p,o=$||i;null==e&&(e="each");var l=arguments.length,c=l-1;c<0&&(c=0),r=new Array(c);for(var u=1;u<l;u++)r[u-1]=arguments[u];return $&&(M.$$p=null),s(t.const_get_relative(wt,"Enumerator"),"for",[a,e].concat(t.to_a(r)),o.$to_proc())},M.$$arity=-1),t.alias(kt,"to_enum","enum_for"),t.defn(kt,"$equal?",T=function(t){var e=this;return e===t},T.$$arity=1),t.defn(kt,"$exit",I=function(n){var r,a=i;for(null==o.__at_exit__&&(o.__at_exit__=i),null==n&&(n=!0),o.__at_exit__=$(r=o.__at_exit__)?r:[];$(e(o.__at_exit__.$size(),0));)a=o.__at_exit__.$pop(),a.$call();return $(n===!0)&&(n=0),t.exit(n),i},I.$$arity=-1),t.defn(kt,"$extend",q=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];for(var o=r.$singleton_class(),s=n.length-1;s>=0;s--){var l=n[s];l.$$is_module||r.$raise(t.const_get_relative(wt,"TypeError"),"wrong argument type "+l.$class()+" (expected Module)"),l.$append_features(o),l.$extended(r)}return r},q.$$arity=-1),t.defn(kt,"$format",C=function(e,n){function r(){z&K&&h.$raise(t.const_get_relative(wt,"ArgumentError"),"flag after width"),z&V&&h.$raise(t.const_get_relative(wt,"ArgumentError"),"flag after precision")}function a(){z&K&&h.$raise(t.const_get_relative(wt,"ArgumentError"),"width given twice"),z&V&&h.$raise(t.const_get_relative(wt,"ArgumentError"),"width after precision")}function s(e){return e>=p.length&&h.$raise(t.const_get_relative(wt,"ArgumentError"),"too few arguments"),p[e]}function l(){switch(j){case-1:h.$raise(t.const_get_relative(wt,"ArgumentError"),"unnumbered("+B+") mixed with numbered");case-2:h.$raise(t.const_get_relative(wt,"ArgumentError"),"unnumbered("+B+") mixed with named")}return j=B++,s(j-1)}function c(e){return j>0&&h.$raise(t.const_get_relative(wt,"ArgumentError"),"numbered("+e+") after unnumbered("+j+")"),j===-2&&h.$raise(t.const_get_relative(wt,"ArgumentError"),"numbered("+e+") after named"),e<1&&h.$raise(t.const_get_relative(wt,"ArgumentError"),"invalid index - "+e+"$"),j=-1,s(e-1)}function u(){return void 0===N?l():N}function _(n){for(var r,i="";;k++){if(k===D&&h.$raise(t.const_get_relative(wt,"ArgumentError"),"malformed format string - %*[0-9]"),e.charCodeAt(k)<48||e.charCodeAt(k)>57)return k--,r=parseInt(i,10)||0,r>2147483647&&h.$raise(t.const_get_relative(wt,"ArgumentError"),""+n+" too big"),r;i+=e.charAt(k)}}function d(t){var n,r=_(t);return"$"===e.charAt(k+1)?(k++,n=c(r)):n=l(),n.$to_int()}var f,p,h=this,g=i;null==o.DEBUG&&(o.DEBUG=i);var v=arguments.length,m=v-1;m<0&&(m=0),p=new Array(m);for(var y=1;y<v;y++)p[y-1]=arguments[y];$((f=p.$length()["$=="](1))?p["$[]"](0)["$respond_to?"]("to_ary"):p.$length()["$=="](1))&&(g=t.const_get_relative(wt,"Opal")["$coerce_to?"](p["$[]"](0),t.const_get_relative(wt,"Array"),"to_ary"),$(g["$nil?"]())||(p=g.$to_a()));var b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P="",L=0,D=e.length,B=1,j=0,U=0,F=1,H=2,G=4,Y=8,W=16,K=32,X=64,V=128;for(k=e.indexOf("%");k!==-1;k=e.indexOf("%",k)){switch(x=void 0,z=U,O=-1,A=-1,N=void 0,b=k,k++,e.charAt(k)){case"%":L=k;case"":case"\n":case"\0":k++;continue}t:for(;k<D;k++)switch(e.charAt(k)){case" ":r(),z|=W;continue t;case"#":r(),z|=F;continue t;case"+":r(),z|=G;continue t;case"-":r(),z|=H;continue t;case"0":r(),z|=Y;continue t;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(S=_("width"),"$"===e.charAt(k+1)){if(k+2===D){x="%",k++;break t}void 0!==N&&h.$raise(t.const_get_relative(wt,"ArgumentError"),"value given twice - %"+S+"$"),N=c(S),k++}else a(),z|=K,O=S;continue t;case"<":case"{":for(M="<"===e.charAt(k)?">":"}",R="",k++;;k++){if(k===D&&h.$raise(t.const_get_relative(wt,"ArgumentError"),"malformed name - unmatched parenthesis"),e.charAt(k)===M){if(j>0&&h.$raise(t.const_get_relative(wt,"ArgumentError"),"named "+R+" after unnumbered("+j+")"),j===-1&&h.$raise(t.const_get_relative(wt,"ArgumentError"),"named "+R+" after numbered"),j=-2,void 0!==p[0]&&p[0].$$is_hash||h.$raise(t.const_get_relative(wt,"ArgumentError"),"one hash required"),N=p[0].$fetch(R),">"===M)continue t;if(x=N.toString(),A!==-1&&(x=x.slice(0,A)),z&H)for(;x.length<O;)x+=" ";else for(;x.length<O;)x=" "+x;break t}R+=e.charAt(k)}case"*":k++,a(),z|=K,O=d("width"),O<0&&(z|=H,O=-O);continue t;case".":if(z&V&&h.$raise(t.const_get_relative(wt,"ArgumentError"),"precision given twice"),z|=X|V,A=0,k++,"*"===e.charAt(k)){k++,A=d("precision"),A<0&&(z&=~X);continue t}A=_("precision");continue t;case"d":case"i":case"u":if(w=h.$Integer(u()),w>=0){for(x=w.toString();x.length<A;)x="0"+x;if(z&H)for((z&G||z&W)&&(x=(z&G?"+":" ")+x);x.length<O;)x+=" ";else if(z&Y&&A===-1){for(;x.length<O-(z&G||z&W?1:0);)x="0"+x;(z&G||z&W)&&(x=(z&G?"+":" ")+x)}else for((z&G||z&W)&&(x=(z&G?"+":" ")+x);x.length<O;)x=" "+x}else{for(x=(-w).toString();x.length<A;)x="0"+x;if(z&H)for(x="-"+x;x.length<O;)x+=" ";else if(z&Y&&A===-1){for(;x.length<O-1;)x="0"+x;x="-"+x}else for(x="-"+x;x.length<O;)x=" "+x}break t;case"b":case"B":case"o":case"x":case"X":switch(e.charAt(k)){case"b":case"B":T=2,I="0b",q=/^1+/,C="1";break;case"o":T=8,I="0",q=/^3?7+/,C="7";break;case"x":case"X":T=16,I="0x",q=/^f+/,C="f"}if(w=h.$Integer(u()),w>=0){for(x=w.toString(T);x.length<A;)x="0"+x;if(z&H)for((z&G||z&W)&&(x=(z&G?"+":" ")+x),z&F&&0!==w&&(x=I+x);x.length<O;)x+=" ";else if(z&Y&&A===-1){for(;x.length<O-(z&G||z&W?1:0)-(z&F&&0!==w?I.length:0);)x="0"+x;z&F&&0!==w&&(x=I+x),(z&G||z&W)&&(x=(z&G?"+":" ")+x)}else for(z&F&&0!==w&&(x=I+x),(z&G||z&W)&&(x=(z&G?"+":" ")+x);x.length<O;)x=" "+x}else if(z&G||z&W){for(x=(-w).toString(T);x.length<A;)x="0"+x;if(z&H)for(z&F&&(x=I+x),x="-"+x;x.length<O;)x+=" ";else if(z&Y&&A===-1){for(;x.length<O-1-(z&F?2:0);)x="0"+x;z&F&&(x=I+x),x="-"+x}else for(z&F&&(x=I+x),x="-"+x;x.length<O;)x=" "+x}else{for(x=(w>>>0).toString(T).replace(q,C);x.length<A-2;)x=C+x;if(z&H)for(x=".."+x,z&F&&(x=I+x);x.length<O;)x+=" ";else if(z&Y&&A===-1){for(;x.length<O-2-(z&F?I.length:0);)x=C+x;x=".."+x,z&F&&(x=I+x)}else for(x=".."+x,z&F&&(x=I+x);x.length<O;)x=" "+x}e.charAt(k)===e.charAt(k).toUpperCase()&&(x=x.toUpperCase());break t;case"f":case"e":case"E":case"g":case"G":if(w=h.$Float(u()),w>=0||isNaN(w)){if(w===1/0)x="Inf";else switch(e.charAt(k)){case"f":x=w.toFixed(A===-1?6:A);break;case"e":case"E":x=w.toExponential(A===-1?6:A);break;case"g":case"G":x=w.toExponential(),E=parseInt(x.split("e")[1],10),E<-4||E>=(A===-1?6:A)||(x=w.toPrecision(A===-1?z&F?6:void 0:A))}if(z&H)for((z&G||z&W)&&(x=(z&G?"+":" ")+x);x.length<O;)x+=" ";else if(z&Y&&w!==1/0&&!isNaN(w)){for(;x.length<O-(z&G||z&W?1:0);)x="0"+x;(z&G||z&W)&&(x=(z&G?"+":" ")+x)}else for((z&G||z&W)&&(x=(z&G?"+":" ")+x);x.length<O;)x=" "+x}else{if(w===-(1/0))x="Inf";else switch(e.charAt(k)){case"f":x=(-w).toFixed(A===-1?6:A);break;case"e":case"E":x=(-w).toExponential(A===-1?6:A);break;case"g":case"G":x=(-w).toExponential(),E=parseInt(x.split("e")[1],10),E<-4||E>=(A===-1?6:A)||(x=(-w).toPrecision(A===-1?z&F?6:void 0:A))}if(z&H)for(x="-"+x;x.length<O;)x+=" ";else if(z&Y&&w!==-(1/0)){for(;x.length<O-1;)x="0"+x;x="-"+x}else for(x="-"+x;x.length<O;)x=" "+x}e.charAt(k)!==e.charAt(k).toUpperCase()||w===1/0||w===-(1/0)||isNaN(w)||(x=x.toUpperCase()),x=x.replace(/([eE][-+]?)([0-9])$/,"$10$2");break t;case"a":case"A":h.$raise(t.const_get_relative(wt,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(w=u(),w["$respond_to?"]("to_ary")&&(w=w.$to_ary()[0]),x=w["$respond_to?"]("to_str")?w.$to_str():String.fromCharCode(t.const_get_relative(wt,"Opal").$coerce_to(w,t.const_get_relative(wt,"Integer"),"to_int")),1!==x.length&&h.$raise(t.const_get_relative(wt,"ArgumentError"),"%c requires a character"),z&H)for(;x.length<O;)x+=" ";else for(;x.length<O;)x=" "+x;break t;case"p":if(x=u().$inspect(),A!==-1&&(x=x.slice(0,A)),z&H)for(;x.length<O;)x+=" ";else for(;x.length<O;)x=" "+x;break t;case"s":if(x=u().$to_s(),A!==-1&&(x=x.slice(0,A)),z&H)for(;x.length<O;)x+=" ";else for(;x.length<O;)x=" "+x;break t;default:h.$raise(t.const_get_relative(wt,"ArgumentError"),"malformed format string - %"+e.charAt(k))}void 0===x&&h.$raise(t.const_get_relative(wt,"ArgumentError"),"malformed format string - %"),P+=e.slice(L,b)+x,L=k+1}return o.DEBUG&&j>=0&&B<p.length&&h.$raise(t.const_get_relative(wt,"ArgumentError"),"too many arguments for format string"),P+e.slice(L)},C.$$arity=-2),t.defn(kt,"$hash",N=function(){var t=this;return t.$__id__()},N.$$arity=0),t.defn(kt,"$initialize_copy",z=function(t){return i},z.$$arity=1),t.defn(kt,"$inspect",P=function(){var t=this;return t.$to_s()},P.$$arity=0),t.defn(kt,"$instance_of?",L=function(e){var n=this;return e.$$is_class||e.$$is_module||n.$raise(t.const_get_relative(wt,"TypeError"),"class or module required"),n.$$class===e},L.$$arity=1),t.defn(kt,"$instance_variable_defined?",D=function(e){var n=this;return e=t.const_get_relative(wt,"Opal")["$instance_variable_name!"](e),t.hasOwnProperty.call(n,e.substr(1))},D.$$arity=1),t.defn(kt,"$instance_variable_get",B=function(e){var n=this;e=t.const_get_relative(wt,"Opal")["$instance_variable_name!"](e);var r=n[t.ivar(e.substr(1))];return null==r?i:r},B.$$arity=1),t.defn(kt,"$instance_variable_set",j=function(e,n){var r=this;return e=t.const_get_relative(wt,"Opal")["$instance_variable_name!"](e),r[t.ivar(e.substr(1))]=n},j.$$arity=2),t.defn(kt,"$remove_instance_variable",U=function(e){var n=this;e=t.const_get_relative(wt,"Opal")["$instance_variable_name!"](e);var r,i=t.ivar(e.substr(1));return n.hasOwnProperty(i)?(r=n[i],delete n[i],r):n.$raise(t.const_get_relative(wt,"NameError"),"instance variable "+e+" not defined");
},U.$$arity=1),t.defn(kt,"$instance_variables",F=function(){var t,e=this,n=[];for(var r in e)e.hasOwnProperty(r)&&"$"!==r.charAt(0)&&(t="$"===r.substr(-1)?r.slice(0,r.length-1):r,n.push("@"+t));return n},F.$$arity=0),t.defn(kt,"$Integer",H=function(e,n){var r,a,$,o=this;return e.$$is_string?"0"===e?0:(void 0===n?n=0:(n=t.const_get_relative(wt,"Opal").$coerce_to(n,t.const_get_relative(wt,"Integer"),"to_int"),(1===n||n<0||n>36)&&o.$raise(t.const_get_relative(wt,"ArgumentError"),"invalid radix "+n)),a=e.toLowerCase(),a=a.replace(/(\d)_(?=\d)/g,"$1"),a=a.replace(/^(\s*[+-]?)(0[bodx]?)/,function(r,i,a){switch(a){case"0b":if(0===n||2===n)return n=2,i;case"0":case"0o":if(0===n||8===n)return n=8,i;case"0d":if(0===n||10===n)return n=10,i;case"0x":if(0===n||16===n)return n=16,i}o.$raise(t.const_get_relative(wt,"ArgumentError"),'invalid value for Integer(): "'+e+'"')}),n=0===n?10:n,$="0-"+(n<=10?n-1:"9a-"+String.fromCharCode(97+(n-11))),new RegExp("^\\s*[+-]?["+$+"]+\\s*$").test(a)||o.$raise(t.const_get_relative(wt,"ArgumentError"),'invalid value for Integer(): "'+e+'"'),r=parseInt(a,n),isNaN(r)&&o.$raise(t.const_get_relative(wt,"ArgumentError"),'invalid value for Integer(): "'+e+'"'),r):(void 0!==n&&o.$raise(t.const_get_relative(wt,"ArgumentError"),"base specified for non string value"),e===i&&o.$raise(t.const_get_relative(wt,"TypeError"),"can't convert nil into Integer"),e.$$is_number?((e===1/0||e===-(1/0)||isNaN(e))&&o.$raise(t.const_get_relative(wt,"FloatDomainError"),e),Math.floor(e)):e["$respond_to?"]("to_int")&&(r=e.$to_int(),r!==i)?r:t.const_get_relative(wt,"Opal")["$coerce_to!"](e,t.const_get_relative(wt,"Integer"),"to_i"))},H.$$arity=-2),t.defn(kt,"$Float",G=function(e){var n,r=this;return e===i&&r.$raise(t.const_get_relative(wt,"TypeError"),"can't convert nil into Float"),e.$$is_string?(n=e.toString(),n=n.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(n)?r.$Integer(n):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(n)||r.$raise(t.const_get_relative(wt,"ArgumentError"),'invalid value for Float(): "'+e+'"'),parseFloat(n))):t.const_get_relative(wt,"Opal")["$coerce_to!"](e,t.const_get_relative(wt,"Float"),"to_f")},G.$$arity=1),t.defn(kt,"$Hash",Y=function(e){var n;return $($(n=e["$nil?"]())?n:e["$=="]([]))?l([],{}):$(t.const_get_relative(wt,"Hash")["$==="](e))?e:t.const_get_relative(wt,"Opal")["$coerce_to!"](e,t.const_get_relative(wt,"Hash"),"to_hash")},Y.$$arity=1),t.defn(kt,"$is_a?",W=function(e){var n=this;return e.$$is_class||e.$$is_module||n.$raise(t.const_get_relative(wt,"TypeError"),"class or module required"),t.is_a(n,e)},W.$$arity=1),t.defn(kt,"$itself",K=function(){var t=this;return t},K.$$arity=0),t.alias(kt,"kind_of?","is_a?"),t.defn(kt,"$lambda",X=function(){var t=X.$$p,e=t||i;return t&&(X.$$p=null),e.$$is_lambda=!0,e},X.$$arity=0),t.defn(kt,"$load",V=function(e){return e=t.const_get_relative(wt,"Opal")["$coerce_to!"](e,t.const_get_relative(wt,"String"),"to_str"),t.load(e)},V.$$arity=1),t.defn(kt,"$loop",J=function(){var e,n=this,r=J.$$p,a=r||i,o=i;if(r&&(J.$$p=null),a===i)return s(n,"enum_for",["loop"],(e=function(){e.$$s||this;return t.const_get_qualified(t.const_get_relative(wt,"Float"),"INFINITY")},e.$$s=n,e.$$arity=0,e));for(;$(!0);)try{t.yieldX(a,[])}catch(l){if(!t.rescue(l,[t.const_get_relative(wt,"StopIteration")]))throw l;o=l;try{return o.$result()}finally{t.pop_exception()}}return n},J.$$arity=0),t.defn(kt,"$nil?",Z=function(){return!1},Z.$$arity=0),t.alias(kt,"object_id","__id__"),t.defn(kt,"$printf",Q=function(n){var r,a=this,o=arguments.length,l=o-0;l<0&&(l=0),r=new Array(l);for(var c=0;c<o;c++)r[c-0]=arguments[c];return $(e(r.$length(),0))&&a.$print(s(a,"format",t.to_a(r))),i},Q.$$arity=-1),t.defn(kt,"$proc",tt=function(){var e=this,n=tt.$$p,r=n||i;return n&&(tt.$$p=null),$(r)||e.$raise(t.const_get_relative(wt,"ArgumentError"),"tried to create Proc object without a block"),r.$$is_lambda=!1,r},tt.$$arity=0),t.defn(kt,"$puts",et=function(e){var n;null==o.stdout&&(o.stdout=i);var r=arguments.length,a=r-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<r;$++)n[$-0]=arguments[$];return s(o.stdout,"puts",t.to_a(n))},et.$$arity=-1),t.defn(kt,"$p",nt=function(t){var e,r,a=this,l=arguments.length,c=l-0;c<0&&(c=0),r=new Array(c);for(var u=0;u<l;u++)r[u-0]=arguments[u];return s(r,"each",[],(e=function(t){e.$$s||this;return null==o.stdout&&(o.stdout=i),null==t&&(t=i),o.stdout.$puts(t.$inspect())},e.$$s=a,e.$$arity=1,e)),$(n(r.$length(),1))?r["$[]"](0):r},nt.$$arity=-1),t.defn(kt,"$print",rt=function(e){var n;null==o.stdout&&(o.stdout=i);var r=arguments.length,a=r-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<r;$++)n[$-0]=arguments[$];return s(o.stdout,"print",t.to_a(n))},rt.$$arity=-1),t.defn(kt,"$warn",it=function(e){var n,r;null==o.VERBOSE&&(o.VERBOSE=i),null==o.stderr&&(o.stderr=i);var a=arguments.length,l=a-0;l<0&&(l=0),r=new Array(l);for(var c=0;c<a;c++)r[c-0]=arguments[c];return $($(n=o.VERBOSE["$nil?"]())?n:r["$empty?"]())?i:s(o.stderr,"puts",t.to_a(r))},it.$$arity=-1),t.defn(kt,"$raise",at=function(e,n,r){if(null==o["!"]&&(o["!"]=i),null==n&&(n=i),null==r&&(r=i),null==e&&o["!"]!==i)throw o["!"];throw null==e?e=t.const_get_relative(wt,"RuntimeError").$new():e.$$is_string?e=t.const_get_relative(wt,"RuntimeError").$new(e):e.$$is_class&&e["$respond_to?"]("exception")?e=e.$exception(n):e["$kind_of?"](t.const_get_relative(wt,"Exception"))||(e=t.const_get_relative(wt,"TypeError").$new("exception class/object expected")),o["!"]!==i&&t.exceptions.push(o["!"]),o["!"]=e,e},at.$$arity=-1),t.alias(kt,"fail","raise"),t.defn(kt,"$rand",$t=function(e){return void 0===e?t.const_get_qualified(t.const_get_relative(wt,"Random"),"DEFAULT").$rand():(e.$$is_number&&(e<0&&(e=Math.abs(e)),e%1!==0&&(e=e.$to_i()),0===e&&(e=void 0)),t.const_get_qualified(t.const_get_relative(wt,"Random"),"DEFAULT").$rand(e))},$t.$$arity=-1),t.defn(kt,"$respond_to?",ot=function(t,e){var n=this;if(null==e&&(e=!1),$(n["$respond_to_missing?"](t,e)))return!0;var r=n["$"+t];return"function"==typeof r&&!r.$$stub},ot.$$arity=-2),t.defn(kt,"$respond_to_missing?",st=function(t,e){return null==e&&(e=!1),!1},st.$$arity=-2),t.defn(kt,"$require",lt=function(e){return e=t.const_get_relative(wt,"Opal")["$coerce_to!"](e,t.const_get_relative(wt,"String"),"to_str"),t.require(e)},lt.$$arity=1),t.defn(kt,"$require_relative",ct=function(e){return t.const_get_relative(wt,"Opal")["$try_convert!"](e,t.const_get_relative(wt,"String"),"to_str"),e=t.const_get_relative(wt,"File").$expand_path(t.const_get_relative(wt,"File").$join(t.current_file,"..",e)),t.require(e)},ct.$$arity=1),t.defn(kt,"$require_tree",ut=function(e){e=t.const_get_relative(wt,"File").$expand_path(e),e["$=="](".")&&(e="");for(var n in t.modules)n["$start_with?"](e)&&t.require(n);return i},ut.$$arity=1),t.alias(kt,"send","__send__"),t.alias(kt,"public_send","__send__"),t.defn(kt,"$singleton_class",_t=function(){var e=this;return t.get_singleton_class(e)},_t.$$arity=0),t.defn(kt,"$sleep",dt=function(e){var n=this;null==e&&(e=i),e===i&&n.$raise(t.const_get_relative(wt,"TypeError"),"can't convert NilClass into time interval"),e.$$is_number||n.$raise(t.const_get_relative(wt,"TypeError"),"can't convert "+e.$class()+" into time interval"),e<0&&n.$raise(t.const_get_relative(wt,"ArgumentError"),"time interval must be positive");for(var r=new Date;new Date-r<=1e3*e;);return e},dt.$$arity=-1),t.alias(kt,"sprintf","format"),t.defn(kt,"$srand",ft=function(e){return null==e&&(e=t.const_get_relative(wt,"Random").$new_seed()),t.const_get_relative(wt,"Random").$srand(e)},ft.$$arity=-1),t.defn(kt,"$String",pt=function(e){var n;return $(n=t.const_get_relative(wt,"Opal")["$coerce_to?"](e,t.const_get_relative(wt,"String"),"to_str"))?n:t.const_get_relative(wt,"Opal")["$coerce_to!"](e,t.const_get_relative(wt,"String"),"to_s")},pt.$$arity=1),t.defn(kt,"$tap",ht=function(){var e=this,n=ht.$$p,r=n||i;return n&&(ht.$$p=null),t.yield1(r,e),e},ht.$$arity=0),t.defn(kt,"$to_proc",gt=function(){var t=this;return t},gt.$$arity=0),t.defn(kt,"$to_s",vt=function(){var t=this;return"#<"+t.$class()+":0x"+t.$__id__().$to_s(16)+">"},vt.$$arity=0),t.defn(kt,"$catch",mt=function(e){var n=this,r=mt.$$p,a=r||i,$=i;r&&(mt.$$p=null);try{return t.yieldX(a,[])}catch(o){if(!t.rescue(o,[t.const_get_relative(wt,"UncaughtThrowError")]))throw o;$=o;try{return $.$sym()["$=="](e)?$.$arg():n.$raise()}finally{t.pop_exception()}}},mt.$$arity=1),t.defn(kt,"$throw",yt=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];return r.$raise(t.const_get_relative(wt,"UncaughtThrowError").$new(n))},yt.$$arity=-1),t.defn(kt,"$open",bt=function(e){var n,r=bt.$$p,a=r||i,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var l=0;l<$;l++)n[l-0]=arguments[l];return r&&(bt.$$p=null),s(t.const_get_relative(wt,"File"),"open",t.to_a(n),a.$to_proc())},bt.$$arity=-1)}(r[0],r),function(e,n,r){function i(){}var a=i=c(e,n,"Object",i),$=(a.$$proto,[a].concat(r));return a.$include(t.const_get_relative($,"Kernel"))}(r[0],null,r)},Opal.modules["corelib/error"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var r=(t.top,[]),i=t.nil,a=(t.breaker,t.slice,t.klass),$=t.send,o=t.truthy,s=t.module;return t.add_stubs(["$new","$clone","$to_s","$empty?","$class","$+","$attr_reader","$[]","$>","$length","$inspect"]),function(e,n,r){function s(){}var l,c,u,_,d,f,p,h,g=s=a(e,n,"Exception",s),v=g.$$proto,m=[g].concat(r);v.message=i;var y=t.const_get_relative(m,"Kernel").$raise;return t.defs(g,"$new",l=function(e){var n,r=this,a=arguments.length,$=a-0;$<0&&($=0),n=new Array($);for(var o=0;o<a;o++)n[o-0]=arguments[o];var s=n.length>0?n[0]:i,l=new r.$$alloc(s);return l.name=r.$$name,l.message=s,t.send(l,l.$initialize,n),t.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(l,y),l},l.$$arity=-1),t.defs(g,"$exception",c=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var o=0;o<i;o++)n[o-0]=arguments[o];return $(r,"new",t.to_a(n))},c.$$arity=-1),t.defn(g,"$initialize",u=function(t){var e,n=this,r=arguments.length,a=r-0;a<0&&(a=0),e=new Array(a);for(var $=0;$<r;$++)e[$-0]=arguments[$];return n.message=e.length>0?e[0]:i},u.$$arity=-1),t.defn(g,"$backtrace",_=function(){var t=this,e=t.stack;return"string"==typeof e?e.split("\n").slice(0,15):e?e.slice(0,15):[]},_.$$arity=0),t.defn(g,"$exception",d=function(t){var e=this;if(null==t&&(t=i),t===i||e===t)return e;var n=e.$clone();return n.message=t,n},d.$$arity=-1),t.defn(g,"$message",f=function(){var t=this;return t.$to_s()},f.$$arity=0),t.defn(g,"$inspect",p=function(){var t=this,e=i;return e=t.$to_s(),o(e["$empty?"]())?t.$class().$to_s():"#<"+t.$class().$to_s()+": "+t.$to_s()+">"},p.$$arity=0),t.defn(g,"$to_s",h=function(){var t,e,n=this;return o(t=o(e=n.message)?n.message.$to_s():e)?t:n.$class().$to_s()},h.$$arity=0),i&&"to_s"}(r[0],Error,r),function(t,e,n){function r(){}var $=r=a(t,e,"ScriptError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"Exception"),r),function(t,e,n){function r(){}var $=r=a(t,e,"SyntaxError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"ScriptError"),r),function(t,e,n){function r(){}var $=r=a(t,e,"LoadError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"ScriptError"),r),function(t,e,n){function r(){}var $=r=a(t,e,"NotImplementedError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"ScriptError"),r),function(t,e,n){function r(){}var $=r=a(t,e,"SystemExit",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"Exception"),r),function(t,e,n){function r(){}var $=r=a(t,e,"NoMemoryError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"Exception"),r),function(t,e,n){function r(){}var $=r=a(t,e,"SignalException",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"Exception"),r),function(t,e,n){function r(){}var $=r=a(t,e,"Interrupt",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"Exception"),r),function(t,e,n){function r(){}var $=r=a(t,e,"SecurityError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"Exception"),r),function(t,e,n){function r(){}var $=r=a(t,e,"StandardError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"Exception"),r),function(t,e,n){function r(){}var $=r=a(t,e,"ZeroDivisionError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"StandardError"),r),function(t,e,n){function r(){}var $=r=a(t,e,"NameError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"StandardError"),r),function(t,e,n){function r(){}var $=r=a(t,e,"NoMethodError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"NameError"),r),function(t,e,n){function r(){}var $=r=a(t,e,"RuntimeError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"StandardError"),r),function(t,e,n){function r(){}var $=r=a(t,e,"LocalJumpError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"StandardError"),r),function(t,e,n){function r(){}var $=r=a(t,e,"TypeError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"StandardError"),r),function(t,e,n){function r(){}var $=r=a(t,e,"ArgumentError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"StandardError"),r),function(t,e,n){function r(){}var $=r=a(t,e,"IndexError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"StandardError"),r),function(t,e,n){function r(){}var $=r=a(t,e,"StopIteration",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"IndexError"),r),function(t,e,n){function r(){}var $=r=a(t,e,"KeyError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"IndexError"),r),function(t,e,n){function r(){}var $=r=a(t,e,"RangeError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"StandardError"),r),function(t,e,n){function r(){}var $=r=a(t,e,"FloatDomainError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"RangeError"),r),function(t,e,n){function r(){}var $=r=a(t,e,"IOError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"StandardError"),r),function(t,e,n){function r(){}var $=r=a(t,e,"SystemCallError",r);$.$$proto,[$].concat(n);return i}(r[0],t.const_get_relative(r,"StandardError"),r),function(n,r){var l,c=l=s(n,"Errno"),u=(c.$$proto,[c].concat(r));!function(n,r,s){function l(){}var c,u=l=a(n,r,"EINVAL",l);u.$$proto,[u].concat(s);return t.defs(u,"$new",c=function(n){var r=this,a=c.$$p,s=i;return null==n&&(n=i),a&&(c.$$p=null),s="Invalid argument",o(n)&&(s=e(s," - "+n)),$(r,t.find_super_dispatcher(r,"new",c,!1,l),[s],null)},c.$$arity=-1)}(u[0],t.const_get_relative(u,"SystemCallError"),u)}(r[0],r),function(e,r,s){function l(){}var c,u=l=a(e,r,"UncaughtThrowError",l),_=u.$$proto;[u].concat(s);return _.sym=i,u.$attr_reader("sym","arg"),t.defn(u,"$initialize",c=function(e){var r=this,i=c.$$p;return i&&(c.$$p=null),r.sym=e["$[]"](0),o(n(e.$length(),1))&&(r.arg=e["$[]"](1)),$(r,t.find_super_dispatcher(r,"initialize",c,!1),["uncaught throw "+r.sym.$inspect()],null)},c.$$arity=1),i&&"initialize"}(r[0],t.const_get_relative(r,"ArgumentError"),r),function(e,n,r){function o(){}var s,l=o=a(e,n,"NameError",o);l.$$proto,[l].concat(r);return l.$attr_reader("name"),t.defn(l,"$initialize",s=function(e,n){var r=this,a=s.$$p;return null==n&&(n=i),a&&(s.$$p=null),$(r,t.find_super_dispatcher(r,"initialize",s,!1),[e],null),r.name=n},s.$$arity=-2),i&&"initialize"}(r[0],null,r),function(e,n,r){function o(){}var s,l=o=a(e,n,"NoMethodError",o);l.$$proto,[l].concat(r);return l.$attr_reader("args"),t.defn(l,"$initialize",s=function(e,n,r){var a=this,o=s.$$p;return null==n&&(n=i),null==r&&(r=[]),o&&(s.$$p=null),$(a,t.find_super_dispatcher(a,"initialize",s,!1),[e,n],null),a.args=r},s.$$arity=-2),i&&"initialize"}(r[0],null,r),function(t,e,n){function r(){}var i=r=a(t,e,"StopIteration",r);i.$$proto,[i].concat(n);return i.$attr_reader("result")}(r[0],null,r),function(t,e){var n,r=n=s(t,"JS"),$=(r.$$proto,[r].concat(e));!function(t,e,n){function r(){}var $=r=a(t,e,"Error",r);$.$$proto,[$].concat(n);return i}($[0],null,$)}(r[0],r)},Opal.modules["corelib/constants"]=function(t){var e=(t.top,[]);t.nil,t.breaker,t.slice;return t.const_set(e[0],"RUBY_PLATFORM","opal"),t.const_set(e[0],"RUBY_ENGINE","opal"),t.const_set(e[0],"RUBY_VERSION","2.3.4"),t.const_set(e[0],"RUBY_ENGINE_VERSION","0.11.0.rc1"),t.const_set(e[0],"RUBY_RELEASE_DATE","2017-05-01"),t.const_set(e[0],"RUBY_PATCHLEVEL",0),t.const_set(e[0],"RUBY_REVISION",0),t.const_set(e[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon"),t.const_set(e[0],"RUBY_DESCRIPTION","opal "+t.const_get_relative(e,"RUBY_ENGINE_VERSION")+" ("+t.const_get_relative(e,"RUBY_RELEASE_DATE")+" revision "+t.const_get_relative(e,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("corelib/runtime"),e.$require("corelib/helpers"),e.$require("corelib/module"),e.$require("corelib/class"),e.$require("corelib/basic_object"),e.$require("corelib/kernel"),e.$require("corelib/error"),e.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var n=(t.top,[]),r=t.nil,i=(t.breaker,t.slice,t.klass),a=t.truthy;return t.add_stubs(["$raise","$class","$new","$>","$length","$Rational"]),function(n,$,o){function s(){}var l,c,u,_,d,f,p,h,g,v,m,y,b,k,w,x,E,O,A=s=i(n,$,"NilClass",s),S=A.$$proto,R=[A].concat(o);return S.$$meta=A,t.defn(A,"$!",l=function(){return!0},l.$$arity=0),t.defn(A,"$&",c=function(t){return!1},c.$$arity=1),t.defn(A,"$|",u=function(t){return t!==!1&&t!==r},u.$$arity=1),t.defn(A,"$^",_=function(t){return t!==!1&&t!==r},_.$$arity=1),t.defn(A,"$==",d=function(t){return t===r},d.$$arity=1),t.defn(A,"$dup",f=function(){var e=this;return e.$raise(t.const_get_relative(R,"TypeError"),"can't dup "+e.$class())},f.$$arity=0),t.defn(A,"$clone",p=function(){var e=this;return e.$raise(t.const_get_relative(R,"TypeError"),"can't clone "+e.$class())},p.$$arity=0),t.defn(A,"$inspect",h=function(){return"nil"},h.$$arity=0),t.defn(A,"$nil?",g=function(){return!0},g.$$arity=0),t.defn(A,"$singleton_class",v=function(){return t.const_get_relative(R,"NilClass")},v.$$arity=0),t.defn(A,"$to_a",m=function(){return[]},m.$$arity=0),t.defn(A,"$to_h",y=function(){return t.hash()},y.$$arity=0),t.defn(A,"$to_i",b=function(){return 0},b.$$arity=0),t.alias(A,"to_f","to_i"),t.defn(A,"$to_s",k=function(){return""},k.$$arity=0),t.defn(A,"$to_c",w=function(){return t.const_get_relative(R,"Complex").$new(0,0)},w.$$arity=0),t.defn(A,"$rationalize",x=function(n){var r,i=this,$=arguments.length,o=$-0;o<0&&(o=0),r=new Array(o);for(var s=0;s<$;s++)r[s-0]=arguments[s];return a(e(r.$length(),1))&&i.$raise(t.const_get_relative(R,"ArgumentError")),i.$Rational(0,1)},x.$$arity=-1),t.defn(A,"$to_r",E=function(){var t=this;return t.$Rational(0,1)},E.$$arity=0),t.defn(A,"$instance_variables",O=function(){return[]},O.$$arity=0),r&&"instance_variables"}(n[0],null,n),t.const_set(n[0],"NIL",r)},Opal.modules["corelib/boolean"]=function(t){var e=(t.top,[]),n=t.nil,r=(t.breaker,t.slice,t.klass);return t.add_stubs(["$raise","$class"]),function(e,i,a){function $(){}var o,s,l,c,u,_,d,f,p,h,g=$=r(e,i,"Boolean",$),v=g.$$proto,m=[g].concat(a);return v.$$is_boolean=!0,v.$$meta=g,t.defn(g,"$__id__",o=function(){var t=this;return t.valueOf()?2:0},o.$$arity=0),t.alias(g,"object_id","__id__"),t.defn(g,"$!",s=function(){var t=this;return 1!=t},s.$$arity=0),t.defn(g,"$&",l=function(t){var e=this;return 1==e&&(t!==!1&&t!==n)},l.$$arity=1),t.defn(g,"$|",c=function(t){var e=this;return 1==e||t!==!1&&t!==n},c.$$arity=1),t.defn(g,"$^",u=function(t){var e=this;return 1==e?t===!1||t===n:t!==!1&&t!==n},u.$$arity=1),t.defn(g,"$==",_=function(t){var e=this;return 1==e===t.valueOf()},_.$$arity=1),t.alias(g,"equal?","=="),t.alias(g,"eql?","=="),t.defn(g,"$singleton_class",d=function(){return t.const_get_relative(m,"Boolean")},d.$$arity=0),t.defn(g,"$to_s",f=function(){var t=this;return 1==t?"true":"false"},f.$$arity=0),t.defn(g,"$dup",p=function(){var e=this;return e.$raise(t.const_get_relative(m,"TypeError"),"can't dup "+e.$class())},p.$$arity=0),t.defn(g,"$clone",h=function(){var e=this;return e.$raise(t.const_get_relative(m,"TypeError"),"can't clone "+e.$class())},h.$$arity=0),n&&"clone"}(e[0],Boolean,e),t.const_set(e[0],"TrueClass",t.const_get_relative(e,"Boolean")),t.const_set(e[0],"FalseClass",t.const_get_relative(e,"Boolean")),t.const_set(e[0],"TRUE",!0),t.const_set(e[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var r=(t.top,[]),i=t.nil,a=(t.breaker,t.slice,t.module),$=t.truthy;return t.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(r,o){var s,l,c,u,_,d,f,p,h=s=a(r,"Comparable"),g=(h.$$proto,[h].concat(o));t.defs(h,"$normalize",l=function(r){return $(t.const_get_relative(g,"Integer")["$==="](r))?r:$(e(r,0))?1:$(n(r,0))?-1:0},l.$$arity=1),t.defn(h,"$==",c=function(e){var n=this,r=i;try{return!!$(n["$equal?"](e))||n["$<=>"]!=t.Kernel["$<=>"]&&(n.$$comparable?(delete n.$$comparable,!1):!!$(r=n["$<=>"](e))&&0==t.const_get_relative(g,"Comparable").$normalize(r))}catch(a){if(!t.rescue(a,[t.const_get_relative(g,"StandardError")]))throw a;try{return!1}finally{t.pop_exception()}}},c.$$arity=1),t.defn(h,"$>",u=function(e){var n=this,r=i;return $(r=n["$<=>"](e))||n.$raise(t.const_get_relative(g,"ArgumentError"),"comparison of "+n.$class()+" with "+e.$class()+" failed"),t.const_get_relative(g,"Comparable").$normalize(r)>0},u.$$arity=1),t.defn(h,"$>=",_=function(e){var n=this,r=i;return $(r=n["$<=>"](e))||n.$raise(t.const_get_relative(g,"ArgumentError"),"comparison of "+n.$class()+" with "+e.$class()+" failed"),t.const_get_relative(g,"Comparable").$normalize(r)>=0},_.$$arity=1),t.defn(h,"$<",d=function(e){var n=this,r=i;return $(r=n["$<=>"](e))||n.$raise(t.const_get_relative(g,"ArgumentError"),"comparison of "+n.$class()+" with "+e.$class()+" failed"),t.const_get_relative(g,"Comparable").$normalize(r)<0},d.$$arity=1),t.defn(h,"$<=",f=function(e){var n=this,r=i;return $(r=n["$<=>"](e))||n.$raise(t.const_get_relative(g,"ArgumentError"),"comparison of "+n.$class()+" with "+e.$class()+" failed"),t.const_get_relative(g,"Comparable").$normalize(r)<=0},f.$$arity=1),t.defn(h,"$between?",p=function(t,r){var i=this;return!n(i,t)&&!e(i,r)},p.$$arity=2)}(r[0],r)},Opal.modules["corelib/regexp"]=function(t){var e=(t.top,[]),n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.send,a=t.truthy,$=t.gvars;return t.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$call","$=~","$attr_reader","$===","$inspect","$to_a"]),function(t,e,i){function a(){}var $=a=r(t,e,"RegexpError",a);$.$$proto,[$].concat(i);return n}(e[0],t.const_get_relative(e,"StandardError"),e),function(e,o,s){function l(){}var c,u,_,d,f,p,h,g,v,m,y=l=r(e,o,"Regexp",l),b=y.$$proto,k=[y].concat(s);return t.const_set(k[0],"IGNORECASE",1),t.const_set(k[0],"MULTILINE",4),b.$$is_regexp=!0,function(e,r){var o,s,l,c,u,_=(e.$$proto,[e].concat(r));return t.defn(e,"$allocate",o=function(){var e=this,r=o.$$p,a=n,$=n,s=n,l=n;for(r&&(o.$$p=null),s=0,l=arguments.length,$=new Array(l);s<l;s++)$[s]=arguments[s];return a=i(e,t.find_super_dispatcher(e,"allocate",o,!1),$,r),a.uninitialized=!0,a},o.$$arity=0),t.defn(e,"$escape",s=function(e){return t.escape_regexp(e)},s.$$arity=1),t.defn(e,"$last_match",l=function(t){return null==$["~"]&&($["~"]=n),null==t&&(t=n),a(t["$nil?"]())?$["~"]:$["~"]["$[]"](t)},l.$$arity=-1),t.alias(e,"quote","escape"),t.defn(e,"$union",c=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];var o,s,l,c,u;if(0==n.length)return/(?!)/;o=n[0].$$is_array,n.length>1&&o&&r.$raise(t.const_get_relative(_,"TypeError"),"no implicit conversion of Array into String"),o&&(n=n[0]),c=void 0,s=[];for(var d=0;d<n.length;d++)l=n[d],l.$$is_string?s.push(r.$escape(l)):l.$$is_regexp?(u=l.$options(),void 0!=c&&c!=u&&r.$raise(t.const_get_relative(_,"TypeError"),"All expressions must use the same options"),c=u,s.push("("+l.source+")")):s.push(r.$escape(l.$to_str()));return r.$new(s.$join("|"),c)},c.$$arity=-1),t.defn(e,"$new",u=function(e,n){var r=this;if(e.$$is_regexp)return new RegExp(e);if(e=t.const_get_relative(_,"Opal")["$coerce_to!"](e,t.const_get_relative(_,"String"),"to_str"),"\\"===e.charAt(e.length-1)&&"\\"!==e.charAt(e.length-2)&&r.$raise(t.const_get_relative(_,"RegexpError"),"too short escape sequence: /"+e+"/"),void 0===n||n["$!"]())return new RegExp(e);if(n.$$is_number){var i="";t.const_get_relative(_,"IGNORECASE")&n&&(i+="i"),t.const_get_relative(_,"MULTILINE")&n&&(i+="m"),n=i}else n="i";return new RegExp(e,n)},u.$$arity=-2),n&&"new"}(t.get_singleton_class(y),k),t.defn(y,"$==",c=function(t){var e=this;return t.constructor==RegExp&&e.toString()===t.toString()},c.$$arity=1),t.defn(y,"$===",u=function(e){var r=this;return r.$match(t.const_get_relative(k,"Opal")["$coerce_to?"](e,t.const_get_relative(k,"String"),"to_str"))!==n},u.$$arity=1),t.defn(y,"$=~",_=function(t){var e,r=this;return null==$["~"]&&($["~"]=n),a(e=r.$match(t))?$["~"].$begin(0):e},_.$$arity=1),t.alias(y,"eql?","=="),t.defn(y,"$inspect",d=function(){var t=this,e=/^\/(.*)\/([^\/]*)$/,n=t.toString(),r=e.exec(n);if(r){for(var i=r[1],a=r[2],$=i.split(""),o=$.length,s=!1,l="",c=0;c<o;c++){var u=$[c];s||"/"!=u||(l=l.concat("\\")),l=l.concat(u),s="\\"==u&&!s}return"/"+l+"/"+a}return n},d.$$arity=0),t.defn(y,"$match",f=function(e,r){var i=this,a=f.$$p,o=a||n;if(null==$["~"]&&($["~"]=n),a&&(f.$$p=null),i.uninitialized&&i.$raise(t.const_get_relative(k,"TypeError"),"uninitialized Regexp"),r=void 0===r?0:t.const_get_relative(k,"Opal").$coerce_to(r,t.const_get_relative(k,"Integer"),"to_int"),e===n)return $["~"]=n;if(e=t.const_get_relative(k,"Opal").$coerce_to(e,t.const_get_relative(k,"String"),"to_str"),r<0&&(r+=e.length,r<0))return $["~"]=n;var s=i.source,l="g";i.multiline&&(s=s.replace(".","[\\s\\S]"),l+="m");for(var c,u=new RegExp(s,l+(i.ignoreCase?"i":""));;){if(c=u.exec(e),null===c)return $["~"]=n;if(c.index>=r)return $["~"]=t.const_get_relative(k,"MatchData").$new(u,c),o===n?$["~"]:o.$call($["~"]);u.lastIndex=c.index+1}},f.$$arity=-2),t.defn(y,"$~",p=function(){var t=this;return null==$._&&($._=n),t["$=~"]($._)},p.$$arity=0),t.defn(y,"$source",h=function(){var t=this;return t.source},h.$$arity=0),t.defn(y,"$options",g=function(){var e=this;e.uninitialized&&e.$raise(t.const_get_relative(k,"TypeError"),"uninitialized Regexp");var n=0;return e.multiline&&(n|=t.const_get_relative(k,"MULTILINE")),e.ignoreCase&&(n|=t.const_get_relative(k,"IGNORECASE")),n},g.$$arity=0),t.defn(y,"$casefold?",v=function(){var t=this;return t.ignoreCase},v.$$arity=0),t.alias(y,"to_s","source"),t.defs(y,"$_load",m=function(e){var n=this;return i(n,"new",t.to_a(e))},m.$$arity=1)}(e[0],RegExp,e),function(e,o,s){function l(){}var c,u,_,d,f,p,h,g,v,m,y,b,k=l=r(e,o,"MatchData",l),w=k.$$proto,x=[k].concat(s);return w.matches=n,k.$attr_reader("post_match","pre_match","regexp","string"),t.defn(k,"$initialize",c=function(t,e){var r=this;$["~"]=r,r.regexp=t,r.begin=e.index,r.string=e.input,r.pre_match=e.input.slice(0,e.index),r.post_match=e.input.slice(e.index+e[0].length),r.matches=[];for(var i=0,a=e.length;i<a;i++){var o=e[i];null==o?r.matches.push(n):r.matches.push(o)}},c.$$arity=2),t.defn(k,"$[]",u=function(e){var n,r=this,a=arguments.length,$=a-0;$<0&&($=0),n=new Array($);for(var o=0;o<a;o++)n[o-0]=arguments[o];return i(r.matches,"[]",t.to_a(n))},u.$$arity=-1),t.defn(k,"$offset",_=function(e){var n=this;return 0!==e&&n.$raise(t.const_get_relative(x,"ArgumentError"),"MatchData#offset only supports 0th element"),[n.begin,n.begin+n.matches[e].length]},_.$$arity=1),t.defn(k,"$==",d=function(e){var n,r,i,$,o=this;return!!a(t.const_get_relative(x,"MatchData")["$==="](e))&&(a(n=a(r=a(i=a($=o.string==e.string)?o.regexp.toString()==e.regexp.toString():$)?o.pre_match==e.pre_match:i)?o.post_match==e.post_match:r)?o.begin==e.begin:n)},d.$$arity=1),t.alias(k,"eql?","=="),t.defn(k,"$begin",f=function(e){var n=this;return 0!==e&&n.$raise(t.const_get_relative(x,"ArgumentError"),"MatchData#begin only supports 0th element"),n.begin},f.$$arity=1),t.defn(k,"$end",p=function(e){var n=this;return 0!==e&&n.$raise(t.const_get_relative(x,"ArgumentError"),"MatchData#end only supports 0th element"),n.begin+n.matches[e].length},p.$$arity=1),t.defn(k,"$captures",h=function(){var t=this;return t.matches.slice(1)},h.$$arity=0),t.defn(k,"$inspect",g=function(){for(var t=this,e="#<MatchData "+t.matches[0].$inspect(),n=1,r=t.matches.length;n<r;n++)e+=" "+n+":"+t.matches[n].$inspect();return e+">"},g.$$arity=0),t.defn(k,"$length",v=function(){var t=this;return t.matches.length},v.$$arity=0),t.alias(k,"size","length"),t.defn(k,"$to_a",m=function(){var t=this;return t.matches},m.$$arity=0),t.defn(k,"$to_s",y=function(){var t=this;return t.matches[0]},y.$$arity=0),t.defn(k,"$values_at",b=function(e){var r,i=this,a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var o=0;o<a;o++)r[o-0]=arguments[o];var s,l,c,u=[];for(s=0;s<r.length;s++)r[s].$$is_range&&(l=r[s].$to_a(),l.unshift(s,1),Array.prototype.splice.apply(r,l)),c=t.const_get_relative(x,"Opal")["$coerce_to!"](r[s],t.const_get_relative(x,"Integer"),"to_int"),c<0&&(c+=i.matches.length,c<0)?u.push(n):u.push(i.matches[c]);return u},b.$$arity=-1),n&&"values_at"}(e[0],null,e)},Opal.modules["corelib/string"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r=t.top,i=[],a=t.nil,$=(t.breaker,t.slice,t.klass),o=t.truthy,s=t.send,l=t.gvars;return t.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$captures","$proc","$succ","$escape"]),r.$require("corelib/comparable"),r.$require("corelib/regexp"),function(r,i,c){function u(){}function _(e){function n(e){var n,r,i,a,$,o,s="",l=e.length;for(n=0;n<l;n++)if(r=e.charAt(n),"-"===r&&n>0&&n<l-1&&!i){for(a=e.charCodeAt(n-1),$=e.charCodeAt(n+1),a>$&&At.$raise(t.const_get_relative(Rt,"ArgumentError"),'invalid range "'+a+"-"+$+'" in string transliteration'),o=a+1;o<$+1;o++)s+=String.fromCharCode(o);i=!0,n++}else i="\\"===r,s+=r;return s}function r(t,e){if(0===t.length)return e;var n,r,i="",a=t.length;for(n=0;n<a;n++)r=t.charAt(n),e.indexOf(r)!==-1&&(i+=r);return i}var i,a,$,o,s,l,c="",u="";for(i=0,a=e.length;i<a;i++)$=t.const_get_relative(Rt,"Opal").$coerce_to(e[i],t.const_get_relative(Rt,"String"),"to_str"),o="^"===$.charAt(0)&&$.length>1,$=n(o?$.slice(1):$),o?u=r(u,$):c=r(c,$);if(c.length>0&&u.length>0){for(l="",i=0,a=c.length;i<a;i++)s=c.charAt(i),u.indexOf(s)===-1&&(l+=s);c=l,u=""}return c.length>0?"["+t.const_get_relative(Rt,"Regexp").$escape(c)+"]":u.length>0?"[^"+t.const_get_relative(Rt,"Regexp").$escape(u)+"]":null}var d,f,p,h,g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P,L,D,B,j,U,F,H,G,Y,W,K,X,V,J,Z,Q,tt,et,nt,rt,it,at,$t,ot,st,lt,ct,ut,_t,dt,ft,pt,ht,gt,vt,mt,yt,bt,kt,wt,xt,Et,Ot,At=u=$(r,i,"String",u),St=At.$$proto,Rt=[At].concat(c);return St.length=a,At.$include(t.const_get_relative(Rt,"Comparable")),St.$$is_string=!0,t.defn(At,"$__id__",d=function(){var t=this;return t.toString()},d.$$arity=0),t.alias(At,"object_id","__id__"),t.defs(At,"$try_convert",f=function(e){return t.const_get_relative(Rt,"Opal")["$coerce_to?"](e,t.const_get_relative(Rt,"String"),"to_str");
},f.$$arity=1),t.defs(At,"$new",p=function(e){return null==e&&(e=""),e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),new String(e)},p.$$arity=-1),t.defn(At,"$initialize",h=function(e){var n=this;return void 0===e?n:n.$raise(t.const_get_relative(Rt,"NotImplementedError"),"Mutable strings are not supported in Opal.")},h.$$arity=-1),t.defn(At,"$%",g=function(e){var n=this;return o(t.const_get_relative(Rt,"Array")["$==="](e))?s(n,"format",[n].concat(t.to_a(e))):n.$format(n,e)},g.$$arity=1),t.defn(At,"$*",v=function(e){var n=this;if(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"Integer"),"to_int"),e<0&&n.$raise(t.const_get_relative(Rt,"ArgumentError"),"negative argument"),0===e)return"";var r="",i=n.toString();for(i.length*e>=1<<28&&n.$raise(t.const_get_relative(Rt,"RangeError"),"multiply count must not overflow maximum string size");1===(1&e)&&(r+=i),e>>>=1,0!==e;)i+=i;return r},v.$$arity=1),t.defn(At,"$+",m=function(e){var n=this;return e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),n+e.$to_s()},m.$$arity=1),t.defn(At,"$<=>",y=function(t){var e=this;if(o(t["$respond_to?"]("to_str")))return t=t.$to_str().$to_s(),e>t?1:e<t?-1:0;var n=t["$<=>"](e);return n===a?a:n>0?-1:n<0?1:0},y.$$arity=1),t.defn(At,"$==",b=function(e){var n=this;return e.$$is_string?n.toString()===e.toString():!!t.const_get_relative(Rt,"Opal")["$respond_to?"](e,"to_str")&&e["$=="](n)},b.$$arity=1),t.alias(At,"eql?","=="),t.alias(At,"===","=="),t.defn(At,"$=~",k=function(e){var n=this;return e.$$is_string&&n.$raise(t.const_get_relative(Rt,"TypeError"),"type mismatch: String given"),e["$=~"](n)},k.$$arity=1),t.defn(At,"$[]",w=function(e,n){var r,i=this,$=i.length;if(e.$$is_range)return r=e.exclude,n=t.const_get_relative(Rt,"Opal").$coerce_to(e.end,t.const_get_relative(Rt,"Integer"),"to_int"),e=t.const_get_relative(Rt,"Opal").$coerce_to(e.begin,t.const_get_relative(Rt,"Integer"),"to_int"),Math.abs(e)>$?a:(e<0&&(e+=$),n<0&&(n+=$),r||(n+=1),n-=e,n<0&&(n=0),i.substr(e,n));if(e.$$is_string)return null!=n&&i.$raise(t.const_get_relative(Rt,"TypeError")),i.indexOf(e)!==-1?e:a;if(e.$$is_regexp){var o=i.match(e);return null===o?(l["~"]=a,a):(l["~"]=t.const_get_relative(Rt,"MatchData").$new(e,o),null==n?o[0]:(n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"Integer"),"to_int"),n<0&&-n<o.length?o[n+=o.length]:n>=0&&n<o.length?o[n]:a))}return e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"Integer"),"to_int"),e<0&&(e+=$),null==n?e>=$||e<0?a:i.substr(e,1):(n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"Integer"),"to_int"),n<0?a:e>$||e<0?a:i.substr(e,n))},w.$$arity=-2),t.alias(At,"byteslice","[]"),t.defn(At,"$capitalize",x=function(){var t=this;return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()},x.$$arity=0),t.defn(At,"$casecmp",E=function(e){var n=this;e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str").$to_s();var r=/^[\x00-\x7F]*$/;return r.test(n)&&r.test(e)&&(n=n.toLowerCase(),e=e.toLowerCase()),n["$<=>"](e)},E.$$arity=1),t.defn(At,"$center",O=function(r,i){var a=this;if(null==i&&(i=" "),r=t.const_get_relative(Rt,"Opal").$coerce_to(r,t.const_get_relative(Rt,"Integer"),"to_int"),i=t.const_get_relative(Rt,"Opal").$coerce_to(i,t.const_get_relative(Rt,"String"),"to_str").$to_s(),o(i["$empty?"]())&&a.$raise(t.const_get_relative(Rt,"ArgumentError"),"zero width padding"),o(r<=a.length))return a;var $=a.$ljust(e(n(r,a.length),2).$ceil(),i),s=a.$rjust(e(n(r,a.length),2).$floor(),i);return s+$.slice(a.length)},O.$$arity=-2),t.defn(At,"$chars",A=function(){var t=this,e=A.$$p,n=e||a;return e&&(A.$$p=null),o(n)?s(t,"each_char",[],n.$to_proc()):t.$each_char().$to_a()},A.$$arity=0),t.defn(At,"$chomp",S=function(e){var n=this;if(null==l["/"]&&(l["/"]=a),null==e&&(e=l["/"]),o(e===a||0===n.length))return n;if(e=t.const_get_relative(Rt,"Opal")["$coerce_to!"](e,t.const_get_relative(Rt,"String"),"to_str").$to_s(),"\n"===e)return n.replace(/\r?\n?$/,"");if(""===e)return n.replace(/(\r?\n)+$/,"");if(n.length>e.length){var r=n.substr(n.length-e.length,e.length);if(r===e)return n.substr(0,n.length-e.length)}return n},S.$$arity=-1),t.defn(At,"$chop",R=function(){var t=this,e=t.length;return e<=1?"":"\n"===t.charAt(e-1)&&"\r"===t.charAt(e-2)?t.substr(0,e-2):t.substr(0,e-1)},R.$$arity=0),t.defn(At,"$chr",M=function(){var t=this;return t.charAt(0)},M.$$arity=0),t.defn(At,"$clone",T=function(){var t=this,e=a;return e=t.slice(),e.$copy_singleton_methods(t),e.$initialize_clone(t),e},T.$$arity=0),t.defn(At,"$dup",I=function(){var t=this,e=a;return e=t.slice(),e.$initialize_dup(t),e},I.$$arity=0),t.defn(At,"$count",q=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];0===n.length&&r.$raise(t.const_get_relative(Rt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var o=_(n);return null===o?0:r.length-r.replace(new RegExp(o,"g"),"").length},q.$$arity=-1),t.defn(At,"$delete",C=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];0===n.length&&r.$raise(t.const_get_relative(Rt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var o=_(n);return null===o?r:r.replace(new RegExp(o,"g"),"")},C.$$arity=-1),t.defn(At,"$downcase",N=function(){var t=this;return t.toLowerCase()},N.$$arity=0),t.defn(At,"$each_char",z=function(){var e,n=this,r=z.$$p,i=r||a;if(r&&(z.$$p=null),i===a)return s(n,"enum_for",["each_char"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e));for(var $=0,o=n.length;$<o;$++)t.yield1(i,n.charAt($));return n},z.$$arity=0),t.defn(At,"$each_line",P=function(e){var n=this,r=P.$$p,i=r||a;if(null==l["/"]&&(l["/"]=a),null==e&&(e=l["/"]),r&&(P.$$p=null),i===a)return n.$enum_for("each_line",e);if(e===a)return t.yield1(i,n),n;e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str");var $,o,s,c,u,_,d;if(0===e.length){for($=n.split(/(\n{2,})/),o=0,s=$.length;o<s;o+=2)($[o]||$[o+1])&&t.yield1(i,($[o]||"")+($[o+1]||""));return n}for(u=n.$chomp(e),_=n.length!=u.length,d=u.split(e),o=0,c=d.length;o<c;o++)o<c-1||_?t.yield1(i,d[o]+e):t.yield1(i,d[o]);return n},P.$$arity=-1),t.defn(At,"$empty?",L=function(){var t=this;return 0===t.length},L.$$arity=0),t.defn(At,"$end_with?",D=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];for(var o=0,s=n.length;o<s;o++){var l=t.const_get_relative(Rt,"Opal").$coerce_to(n[o],t.const_get_relative(Rt,"String"),"to_str").$to_s();if(r.length>=l.length&&r.substr(r.length-l.length,l.length)==l)return!0}return!1},D.$$arity=-1),t.alias(At,"eql?","=="),t.alias(At,"equal?","==="),t.defn(At,"$gsub",B=function(e,n){var r=this,i=B.$$p,$=i||a;if(i&&(B.$$p=null),void 0===n&&$===a)return r.$enum_for("gsub",e);var o,s,c="",u=a,_=0;for(e.$$is_regexp?e=new RegExp(e.source,"gm"+(e.ignoreCase?"i":"")):(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(o=e.exec(r),null===o){l["~"]=a,c+=r.slice(_);break}u=t.const_get_relative(Rt,"MatchData").$new(e,o),void 0===n?s=$(o[0]):n.$$is_hash?s=n["$[]"](o[0]).$to_s():(n.$$is_string||(n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"String"),"to_str")),s=n.replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(e.length%2===0)return t;switch(n){case"+":for(var i=o.length-1;i>0;i--)if(void 0!==o[i])return e.slice(1)+o[i];return"";case"&":return e.slice(1)+o[0];case"`":return e.slice(1)+r.slice(0,o.index);case"'":return e.slice(1)+r.slice(o.index+o[0].length);default:return e.slice(1)+(o[n]||"")}}).replace(/\\\\/g,"\\")),e.lastIndex===o.index?(c+=s+r.slice(_,o.index+1),e.lastIndex+=1):c+=r.slice(_,o.index)+s,_=e.lastIndex}return l["~"]=u,c},B.$$arity=-2),t.defn(At,"$hash",j=function(){var t=this;return t.toString()},j.$$arity=0),t.defn(At,"$hex",U=function(){var t=this;return t.$to_i(16)},U.$$arity=0),t.defn(At,"$include?",F=function(e){var n=this;return e.$$is_string||(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str")),n.indexOf(e)!==-1},F.$$arity=1),t.defn(At,"$index",H=function(e,n){var r,i,$,o=this;if(void 0===n)n=0;else if(n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"Integer"),"to_int"),n<0&&(n+=o.length,n<0))return a;if(e.$$is_regexp)for($=new RegExp(e.source,"gm"+(e.ignoreCase?"i":""));;){if(i=$.exec(o),null===i){l["~"]=a,r=-1;break}if(i.index>=n){l["~"]=t.const_get_relative(Rt,"MatchData").$new($,i),r=i.index;break}$.lastIndex=i.index+1}else e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),r=0===e.length&&n>o.length?-1:o.indexOf(e,n);return r===-1?a:r},H.$$arity=-2),t.defn(At,"$inspect",G=function(){var t=this,e=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"},r=t.replace(e,function(t){return n[t]||"\\u"+("0000"+t.charCodeAt(0).toString(16).toUpperCase()).slice(-4)});return'"'+r.replace(/\#[\$\@\{]/g,"\\$&")+'"'},G.$$arity=0),t.defn(At,"$intern",Y=function(){var t=this;return t},Y.$$arity=0),t.defn(At,"$lines",W=function(t){var e=this,n=W.$$p,r=n||a,i=a;return null==l["/"]&&(l["/"]=a),null==t&&(t=l["/"]),n&&(W.$$p=null),i=s(e,"each_line",[t],r.$to_proc()),o(r)?e:i.$to_a()},W.$$arity=-1),t.defn(At,"$length",K=function(){var t=this;return t.length},K.$$arity=0),t.defn(At,"$ljust",X=function(e,n){var r=this;if(null==n&&(n=" "),e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"Integer"),"to_int"),n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"String"),"to_str").$to_s(),o(n["$empty?"]())&&r.$raise(t.const_get_relative(Rt,"ArgumentError"),"zero width padding"),o(e<=r.length))return r;var i=-1,a="";for(e-=r.length;++i<e;)a+=n;return r+a.slice(0,e)},X.$$arity=-2),t.defn(At,"$lstrip",V=function(){var t=this;return t.replace(/^\s*/,"")},V.$$arity=0),t.defn(At,"$ascii_only?",J=function(){var t=this;return t.match(/[ -~\n]*/)[0]===t},J.$$arity=0),t.defn(At,"$match",Z=function(e,n){var r,i=this,$=Z.$$p,l=$||a;return $&&(Z.$$p=null),o(o(r=t.const_get_relative(Rt,"String")["$==="](e))?r:e["$respond_to?"]("to_str"))&&(e=t.const_get_relative(Rt,"Regexp").$new(e.$to_str())),o(t.const_get_relative(Rt,"Regexp")["$==="](e))||i.$raise(t.const_get_relative(Rt,"TypeError"),"wrong argument type "+e.$class()+" (expected Regexp)"),s(e,"match",[i,n],l.$to_proc())},Z.$$arity=-2),t.defn(At,"$next",Q=function(){var t=this,e=t.length;if(0===e)return"";for(var n,r=t,i=t.search(/[a-zA-Z0-9]/),a=!1;e--;){if(n=t.charCodeAt(e),n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122)switch(n){case 57:a=!0,n=48;break;case 90:a=!0,n=65;break;case 122:a=!0,n=97;break;default:a=!1,n+=1}else i===-1?255===n?(a=!0,n=0):(a=!1,n+=1):a=!0;if(r=r.slice(0,e)+String.fromCharCode(n)+r.slice(e+1),a&&(0===e||e===i)){switch(n){case 65:break;case 97:break;default:n+=1}r=0===e?String.fromCharCode(n)+r:r.slice(0,e)+String.fromCharCode(n)+r.slice(e),a=!1}if(!a)break}return r},Q.$$arity=0),t.defn(At,"$oct",tt=function(){var t,e=this,n=e,r=8;return/^\s*_/.test(n)?0:(n=n.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(t,e,n,i){switch(i.charAt(0)){case"+":case"-":return t;case"0":if("x"===i.charAt(1)&&"0x"===n)return t}switch(n){case"0b":r=2;break;case"0":case"0o":r=8;break;case"0d":r=10;break;case"0x":r=16}return e+i}),t=parseInt(n.replace(/_(?!_)/g,""),r),isNaN(t)?0:t)},tt.$$arity=0),t.defn(At,"$ord",et=function(){var t=this;return t.charCodeAt(0)},et.$$arity=0),t.defn(At,"$partition",nt=function(e){var n,r,i=this;return e.$$is_regexp?(r=e.exec(i),null===r?n=-1:(t.const_get_relative(Rt,"MatchData").$new(e,r),e=r[0],n=r.index)):(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),n=i.indexOf(e)),n===-1?[i,"",""]:[i.slice(0,n),i.slice(n,n+e.length),i.slice(n+e.length)]},nt.$$arity=1),t.defn(At,"$reverse",rt=function(){var t=this;return t.split("").reverse().join("")},rt.$$arity=0),t.defn(At,"$rindex",it=function(e,n){var r,i,$,o,s=this;if(void 0===n)n=s.length;else if(n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"Integer"),"to_int"),n<0&&(n+=s.length,n<0))return a;if(e.$$is_regexp){for(i=null,$=new RegExp(e.source,"gm"+(e.ignoreCase?"i":""));;){if(o=$.exec(s),null===o||o.index>n)break;i=o,$.lastIndex=i.index+1}null===i?(l["~"]=a,r=-1):(t.const_get_relative(Rt,"MatchData").$new($,i),r=i.index)}else e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),r=s.lastIndexOf(e,n);return r===-1?a:r},it.$$arity=-2),t.defn(At,"$rjust",at=function(e,n){var r=this;if(null==n&&(n=" "),e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"Integer"),"to_int"),n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"String"),"to_str").$to_s(),o(n["$empty?"]())&&r.$raise(t.const_get_relative(Rt,"ArgumentError"),"zero width padding"),o(e<=r.length))return r;var i=Math.floor(e-r.length),a=Math.floor(i/n.length),$=Array(a+1).join(n),s=i-$.length;return $+n.slice(0,s)+r},at.$$arity=-2),t.defn(At,"$rpartition",$t=function(e){var n,r,i,a,$=this;if(e.$$is_regexp){for(r=null,i=new RegExp(e.source,"gm"+(e.ignoreCase?"i":""));;){if(a=i.exec($),null===a)break;r=a,i.lastIndex=r.index+1}null===r?n=-1:(t.const_get_relative(Rt,"MatchData").$new(i,r),e=r[0],n=r.index)}else e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),n=$.lastIndexOf(e);return n===-1?["","",$]:[$.slice(0,n),$.slice(n,n+e.length),$.slice(n+e.length)]},$t.$$arity=1),t.defn(At,"$rstrip",ot=function(){var t=this;return t.replace(/[\s\u0000]*$/,"")},ot.$$arity=0),t.defn(At,"$scan",st=function(e){var n=this,r=st.$$p,i=r||a;r&&(st.$$p=null);var $,o=[],s=a;for(e.$$is_regexp?e=new RegExp(e.source,"gm"+(e.ignoreCase?"i":"")):(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=($=e.exec(n));)s=t.const_get_relative(Rt,"MatchData").$new(e,$),i===a?1==$.length?o.push($[0]):o.push(s.$captures()):1==$.length?i($[0]):i.call(n,s.$captures()),e.lastIndex===$.index&&(e.lastIndex+=1);return l["~"]=s,i!==a?n:o},st.$$arity=1),t.alias(At,"size","length"),t.alias(At,"slice","[]"),t.defn(At,"$split",lt=function(e,n){var r,i=this;if(null==l[";"]&&(l[";"]=a),0===i.length)return[];if(void 0===n)n=0;else if(n=t.const_get_relative(Rt,"Opal")["$coerce_to!"](n,t.const_get_relative(Rt,"Integer"),"to_int"),1===n)return[i];void 0!==e&&e!==a||(e=o(r=l[";"])?r:" ");var $,s,c,u=[],_=i.toString(),d=0;if(e.$$is_regexp?e=new RegExp(e.source,"gm"+(e.ignoreCase?"i":"")):(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str").$to_s()," "===e?(e=/\s+/gm,_=_.replace(/^\s+/,"")):e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),u=_.split(e),1===u.length&&u[0]===_)return u;for(;(s=u.indexOf(void 0))!==-1;)u.splice(s,1);if(0===n){for(;""===u[u.length-1];)u.length-=1;return u}if($=e.exec(_),n<0){if(null!==$&&""===$[0]&&e.source.indexOf("(?=")===-1)for(s=0,c=$.length;s<c;s++)u.push("");return u}if(null!==$&&""===$[0])return u.splice(n-1,u.length-1,u.slice(n-1).join("")),u;if(n>=u.length)return u;for(s=0;null!==$&&(s++,d=e.lastIndex,s+1!==n);)$=e.exec(_);return u.splice(n-1,u.length-1,_.slice(d)),u},lt.$$arity=-1),t.defn(At,"$squeeze",ct=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];if(0===e.length)return n.replace(/(.)\1+/g,"$1");var $=_(e);return null===$?n:n.replace(new RegExp("("+$+")\\1+","g"),"$1")},ct.$$arity=-1),t.defn(At,"$start_with?",ut=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];for(var o=0,s=n.length;o<s;o++){var l=t.const_get_relative(Rt,"Opal").$coerce_to(n[o],t.const_get_relative(Rt,"String"),"to_str").$to_s();if(0===r.indexOf(l))return!0}return!1},ut.$$arity=-1),t.defn(At,"$strip",_t=function(){var t=this;return t.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},_t.$$arity=0),t.defn(At,"$sub",dt=function(e,n){var r=this,i=dt.$$p,$=i||a;i&&(dt.$$p=null),e.$$is_regexp||(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var o=e.exec(r);return null===o?(l["~"]=a,r.toString()):(t.const_get_relative(Rt,"MatchData").$new(e,o),void 0===n?($===a&&r.$raise(t.const_get_relative(Rt,"ArgumentError"),"wrong number of arguments (1 for 2)"),r.slice(0,o.index)+$(o[0])+r.slice(o.index+o[0].length)):n.$$is_hash?r.slice(0,o.index)+n["$[]"](o[0]).$to_s()+r.slice(o.index+o[0].length):(n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"String"),"to_str"),n=n.replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(e.length%2===0)return t;switch(n){case"+":for(var i=o.length-1;i>0;i--)if(void 0!==o[i])return e.slice(1)+o[i];return"";case"&":return e.slice(1)+o[0];case"`":return e.slice(1)+r.slice(0,o.index);case"'":return e.slice(1)+r.slice(o.index+o[0].length);default:return e.slice(1)+(o[n]||"")}}).replace(/\\\\/g,"\\"),r.slice(0,o.index)+n+r.slice(o.index+o[0].length)))},dt.$$arity=-2),t.alias(At,"succ","next"),t.defn(At,"$sum",ft=function(e){var n=this;null==e&&(e=16),e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"Integer"),"to_int");for(var r=0,i=n.length,a=0;a<i;a++)r+=n.charCodeAt(a);return e<=0?r:r&Math.pow(2,e)-1},ft.$$arity=-1),t.defn(At,"$swapcase",pt=function(){var t=this,e=t.replace(/([a-z]+)|([A-Z]+)/g,function(t,e,n){return e?t.toUpperCase():t.toLowerCase()});return t.constructor===String?e:t.$class().$new(e)},pt.$$arity=0),t.defn(At,"$to_f",ht=function(){var t=this;if("_"===t.charAt(0))return 0;var e=parseFloat(t.replace(/_/g,""));return isNaN(e)||e==1/0||e==-(1/0)?0:e},ht.$$arity=0),t.defn(At,"$to_i",gt=function(e){var n=this;null==e&&(e=10);var r,i=n.toLowerCase(),a=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"Integer"),"to_int");return(1===a||a<0||a>36)&&n.$raise(t.const_get_relative(Rt,"ArgumentError"),"invalid radix "+a),/^\s*_/.test(i)?0:(i=i.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(t,e,n,r){switch(r.charAt(0)){case"+":case"-":return t;case"0":if("x"===r.charAt(1)&&"0x"===n&&(0===a||16===a))return t}switch(n){case"0b":if(0===a||2===a)return a=2,e+r;break;case"0":case"0o":if(0===a||8===a)return a=8,e+r;break;case"0d":if(0===a||10===a)return a=10,e+r;break;case"0x":if(0===a||16===a)return a=16,e+r}return t}),r=parseInt(i.replace(/_(?!_)/g,""),a),isNaN(r)?0:r)},gt.$$arity=-1),t.defn(At,"$to_proc",vt=function(){var e,n=this,r=a;return r=n.valueOf(),s(n,"proc",[],(e=function(n){var i,$,o=e.$$s||this;i=e.$$p||a,i&&(e.$$p=null);var s=arguments.length,l=s-0;l<0&&(l=0),$=new Array(l);for(var c=0;c<s;c++)$[c-0]=arguments[c];0===$.length&&o.$raise(t.const_get_relative(Rt,"ArgumentError"),"no receiver given");var u=$.shift();return null==u&&(u=a),t.send(u,r,$,i)},e.$$s=n,e.$$arity=-1,e))},vt.$$arity=0),t.defn(At,"$to_s",mt=function(){var t=this;return t.toString()},mt.$$arity=0),t.alias(At,"to_str","to_s"),t.alias(At,"to_sym","intern"),t.defn(At,"$tr",yt=function(e,n){var r=this;if(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str").$to_s(),n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"String"),"to_str").$to_s(),0==e.length||e===n)return r;var i,a,$,o,s,l,c,u={},_=e.split(""),d=_.length,f=n.split(""),p=f.length,h=!1,g=null;"^"===_[0]&&_.length>1&&(h=!0,_.shift(),g=f[p-1],d-=1);var v=[],m=null;for(a=!1,i=0;i<d;i++)if(o=_[i],null==m)m=o,v.push(o);else if("-"===o)"-"===m?(v.push("-"),v.push("-")):i==d-1?v.push("-"):a=!0;else if(a){for(s=m.charCodeAt(0),l=o.charCodeAt(0),s>l&&r.$raise(t.const_get_relative(Rt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(l)+'" in string transliteration'),$=s+1;$<l;$++)v.push(String.fromCharCode($));v.push(o),a=null,m=null}else v.push(o);if(_=v,d=_.length,h)for(i=0;i<d;i++)u[_[i]]=!0;else{if(p>0){var y=[],b=null;for(a=!1,i=0;i<p;i++)if(o=f[i],null==b)b=o,y.push(o);else if("-"===o)"-"===b?(y.push("-"),y.push("-")):i==p-1?y.push("-"):a=!0;else if(a){for(s=b.charCodeAt(0),l=o.charCodeAt(0),s>l&&r.$raise(t.const_get_relative(Rt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(l)+'" in string transliteration'),$=s+1;$<l;$++)y.push(String.fromCharCode($));y.push(o),a=null,b=null}else y.push(o);f=y,p=f.length}var k=d-p;if(k>0){var w=p>0?f[p-1]:"";for(i=0;i<k;i++)f.push(w)}for(i=0;i<d;i++)u[_[i]]=f[i]}var x="";for(i=0,c=r.length;i<c;i++){o=r.charAt(i);var E=u[o];x+=h?null==E?g:o:null!=E?E:o}return x},yt.$$arity=2),t.defn(At,"$tr_s",bt=function(e,n){var r=this;if(e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str").$to_s(),n=t.const_get_relative(Rt,"Opal").$coerce_to(n,t.const_get_relative(Rt,"String"),"to_str").$to_s(),0==e.length)return r;var i,a,$,o,s,l,c,u={},_=e.split(""),d=_.length,f=n.split(""),p=f.length,h=!1,g=null;"^"===_[0]&&_.length>1&&(h=!0,_.shift(),g=f[p-1],d-=1);var v=[],m=null;for(a=!1,i=0;i<d;i++)if(o=_[i],null==m)m=o,v.push(o);else if("-"===o)"-"===m?(v.push("-"),v.push("-")):i==d-1?v.push("-"):a=!0;else if(a){for(s=m.charCodeAt(0),l=o.charCodeAt(0),s>l&&r.$raise(t.const_get_relative(Rt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(l)+'" in string transliteration'),$=s+1;$<l;$++)v.push(String.fromCharCode($));v.push(o),a=null,m=null}else v.push(o);if(_=v,d=_.length,h)for(i=0;i<d;i++)u[_[i]]=!0;else{if(p>0){var y=[],b=null;for(a=!1,i=0;i<p;i++)if(o=f[i],null==m)m=o,y.push(o);else if("-"===o)"-"===b?(y.push("-"),y.push("-")):i==p-1?y.push("-"):a=!0;else if(a){for(s=m.charCodeAt(0),l=o.charCodeAt(0),s>l&&r.$raise(t.const_get_relative(Rt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(l)+'" in string transliteration'),$=s+1;$<l;$++)y.push(String.fromCharCode($));y.push(o),a=null,m=null}else y.push(o);f=y,p=f.length}var k=d-p;if(k>0){var w=p>0?f[p-1]:"";for(i=0;i<k;i++)f.push(w)}for(i=0;i<d;i++)u[_[i]]=f[i]}var x="",E=null;for(i=0,c=r.length;i<c;i++){o=r.charAt(i);var O=u[o];h?null==O?null==E&&(x+=g,E=!0):(x+=o,E=null):null!=O?null!=E&&E===O||(x+=O,E=O):(x+=o,E=null)}return x},bt.$$arity=2),t.defn(At,"$upcase",kt=function(){var t=this;return t.toUpperCase()},kt.$$arity=0),t.defn(At,"$upto",wt=function(e,n){var r=this,i=wt.$$p,$=i||a;if(null==n&&(n=!1),i&&(wt.$$p=null),$===a)return r.$enum_for("upto",e,n);e=t.const_get_relative(Rt,"Opal").$coerce_to(e,t.const_get_relative(Rt,"String"),"to_str");var o,s,l=r.toString();if(1===l.length&&1===e.length)for(o=l.charCodeAt(0),s=e.charCodeAt(0);o<=s&&(!n||o!==s);)$(String.fromCharCode(o)),o+=1;else if(parseInt(l,10).toString()===l&&parseInt(e,10).toString()===e)for(o=parseInt(l,10),s=parseInt(e,10);o<=s&&(!n||o!==s);)$(o.toString()),o+=1;else for(;l.length<=e.length&&l<=e&&(!n||l!==e);)$(l),l=l.$succ();return r},wt.$$arity=-2),t.defn(At,"$instance_variables",xt=function(){return[]},xt.$$arity=0),t.defs(At,"$_load",Et=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];return s(r,"new",t.to_a(n))},Et.$$arity=-1),t.defn(At,"$unpack",Ot=function(e){function n(t){var e,n,r=t.length,i=[];for(e=0;e<r;e++)n=t.charCodeAt(e),i.push(n);return i}var r=this,i=a;return function(){return i=e,"U*"["$==="](i)||"C*"["$==="](i)?n(r):r.$raise(t.const_get_relative(Rt,"NotImplementedError"))}()},Ot.$$arity=1),a&&"unpack"}(i[0],String,i),t.const_set(i[0],"Symbol",t.const_get_relative(i,"String"))},Opal.modules["corelib/enumerable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var o=(t.top,[]),s=t.nil,l=(t.breaker,t.slice,t.module),c=t.send,u=t.truthy,_=t.falsy;return t.add_stubs(["$each","$destructure","$raise","$new","$yield","$slice_when","$!","$enum_for","$enumerator_size","$flatten","$map","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$to_enum","$ceil","$/","$size","$===","$<<","$[]","$[]=","$inspect","$__send__","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$lambda","$sort!","$map!","$zip"]),function(o,d){var f,p,h,g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P,L,D,B,j,U,F,H,G,Y,W,K,X,V,J,Z,Q,tt,et,nt,rt,it,at,$t,ot=f=l(o,"Enumerable"),st=(ot.$$proto,[ot].concat(d));t.defn(ot,"$all?",p=function(){try{var e,n,r=this,i=p.$$p,a=i||s;return i&&(p.$$p=null),a!==s?c(r,"each",[],(e=function(n){var r,i=(e.$$s||this,arguments.length),$=i-0;$<0&&($=0),r=new Array($);for(var o=0;o<i;o++)r[o-0]=arguments[o];return u(t.yieldX(a,t.to_a(r)))?s:void t.ret(!1)},e.$$s=r,e.$$arity=-1,e)):c(r,"each",[],(n=function(e){var r,i=(n.$$s||this,arguments.length),a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];return u(t.const_get_relative(st,"Opal").$destructure(r))?s:void t.ret(!1)},n.$$s=r,n.$$arity=-1,n)),!0}catch($){if($===t.returner)return $.$v;throw $}},p.$$arity=0),t.defn(ot,"$any?",h=function(){try{var e,n,r=this,i=h.$$p,a=i||s;return i&&(h.$$p=null),a!==s?c(r,"each",[],(e=function(n){var r,i=(e.$$s||this,arguments.length),$=i-0;$<0&&($=0),r=new Array($);for(var o=0;o<i;o++)r[o-0]=arguments[o];return u(t.yieldX(a,t.to_a(r)))?void t.ret(!0):s},e.$$s=r,e.$$arity=-1,e)):c(r,"each",[],(n=function(e){var r,i=(n.$$s||this,arguments.length),a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];return u(t.const_get_relative(st,"Opal").$destructure(r))?void t.ret(!0):s},n.$$s=r,n.$$arity=-1,n)),!1}catch($){if($===t.returner)return $.$v;throw $}},h.$$arity=0),t.defn(ot,"$chunk",g=function(){var e,n=this,r=g.$$p,i=r||s;return r&&(g.$$p=null),i!==s||t.const_get_relative(st,"Kernel").$raise(t.const_get_relative(st,"ArgumentError"),"no block given"),c(t.const_get_qualified("::","Enumerator"),"new",[],(e=function(n){function r(){o.length>0&&n.$yield($,o)}var a=e.$$s||this;null==n&&(n=s);var $=s,o=[];a.$each.$$p=function(e){var n=t.yield1(i,e);n===s?(r(),o=[],$=s):($===s||$===n?o.push(e):(r(),o=[e]),$=n)},a.$each(),r()},e.$$s=n,e.$$arity=1,e))},g.$$arity=0),t.defn(ot,"$chunk_while",v=function(){var e,n=this,r=v.$$p,i=r||s;return r&&(v.$$p=null),i!==s||n.$raise(t.const_get_relative(st,"ArgumentError"),"no block given"),c(n,"slice_when",[],(e=function(n,r){e.$$s||this;return null==n&&(n=s),null==r&&(r=s),t.yieldX(i,[n,r])["$!"]()},e.$$s=n,e.$$arity=2,e))},v.$$arity=0),t.defn(ot,"$collect",m=function(){var e,n=this,r=m.$$p,i=r||s;if(r&&(m.$$p=null),i===s)return c(n,"enum_for",["collect"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=n,e.$$arity=0,e));var a=[];return n.$each.$$p=function(){var e=t.yieldX(i,arguments);a.push(e)},n.$each(),a},m.$$arity=0),t.defn(ot,"$collect_concat",y=function(){var e,n,r=this,i=y.$$p,a=i||s;return i&&(y.$$p=null),a===s?c(r,"enum_for",["collect_concat"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e)):c(r,"map",[],(n=function(e){n.$$s||this;return null==e&&(e=s),t.yield1(a,e)},n.$$s=r,n.$$arity=1,n)).$flatten(1)},y.$$arity=0),t.defn(ot,"$count",b=function(e){var n,r,i,a=this,$=b.$$p,o=$||s,l=s;return $&&(b.$$p=null),l=0,u(null!=e)?o=c(a,"proc",[],(n=function(r){var i,a=(n.$$s||this,arguments.length),$=a-0;$<0&&($=0),i=new Array($);for(var o=0;o<a;o++)i[o-0]=arguments[o];return t.const_get_relative(st,"Opal").$destructure(i)["$=="](e)},n.$$s=a,n.$$arity=-1,n)):u(o["$nil?"]())&&(o=c(a,"proc",[],(r=function(){r.$$s||this;return!0},r.$$s=a,r.$$arity=0,r))),c(a,"each",[],(i=function(e){var n,r=(i.$$s||this,arguments.length),a=r-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<r;$++)n[$-0]=arguments[$];return u(t.yieldX(o,n))?l++:s},i.$$s=a,i.$$arity=-1,i)),l},b.$$arity=-1),t.defn(ot,"$cycle",k=function(r){var i,a=this,$=k.$$p,o=$||s;if(null==r&&(r=s),$&&(k.$$p=null),o===s)return c(a,"enum_for",["cycle",r],(i=function(){var a=i.$$s||this;return r["$=="](s)?u(a["$respond_to?"]("size"))?t.const_get_qualified(t.const_get_relative(st,"Float"),"INFINITY"):s:(r=t.const_get_relative(st,"Opal")["$coerce_to!"](r,t.const_get_relative(st,"Integer"),"to_int"),u(e(r,0))?n(a.$enumerator_size(),r):0)},i.$$s=a,i.$$arity=0,i));if(u(r["$nil?"]()));else if(r=t.const_get_relative(st,"Opal")["$coerce_to!"](r,t.const_get_relative(st,"Integer"),"to_int"),u(r<=0))return s;var l,_,d,f,p=[];if(a.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments);t.yield1(o,e);p.push(e)},a.$each(),void 0!==l)return l;if(0===p.length)return s;if(r===s)for(;;)for(_=0,d=p.length;_<d;_++)f=t.yield1(o,p[_]);else for(;r>1;){for(_=0,d=p.length;_<d;_++)f=t.yield1(o,p[_]);r--}},k.$$arity=-1),t.defn(ot,"$detect",w=function(e){try{var n,r=this,i=w.$$p,a=i||s;return i&&(w.$$p=null),a===s?r.$enum_for("detect",e):(c(r,"each",[],(n=function(e){var r,i=(n.$$s||this,s),$=arguments.length,o=$-0;o<0&&(o=0),r=new Array(o);for(var l=0;l<$;l++)r[l-0]=arguments[l];return i=t.const_get_relative(st,"Opal").$destructure(r),u(t.yield1(a,i))?void t.ret(i):s},n.$$s=r,n.$$arity=-1,n)),void 0!==e?"function"==typeof e?e():e:s)}catch($){if($===t.returner)return $.$v;throw $}},w.$$arity=-1),t.defn(ot,"$drop",x=function(e){var n=this;e=t.const_get_relative(st,"Opal").$coerce_to(e,t.const_get_relative(st,"Integer"),"to_int"),u(e<0)&&n.$raise(t.const_get_relative(st,"ArgumentError"),"attempt to drop negative size");var r=[],i=0;return n.$each.$$p=function(){e<=i&&r.push(t.const_get_relative(st,"Opal").$destructure(arguments)),i++},n.$each(),r},x.$$arity=1),t.defn(ot,"$drop_while",E=function(){var e=this,n=E.$$p,r=n||s;if(n&&(E.$$p=null),r===s)return e.$enum_for("drop_while");var i=[],a=!0;return e.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments);if(a){var n=t.yield1(r,e);_(n)&&(a=!1,i.push(e))}else i.push(e)},e.$each(),i},E.$$arity=0),t.defn(ot,"$each_cons",O=function(e){var n,$=this,o=O.$$p,l=o||s;if(o&&(O.$$p=null),u(1!=arguments.length)&&$.$raise(t.const_get_relative(st,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),e=t.const_get_relative(st,"Opal").$try_convert(e,t.const_get_relative(st,"Integer"),"to_int"),u(e<=0)&&$.$raise(t.const_get_relative(st,"ArgumentError"),"invalid size"),l===s)return c($,"enum_for",["each_cons",e],(n=function(){var t,$=n.$$s||this,o=s;return o=$.$enumerator_size(),u(o["$nil?"]())?s:u(u(t=o["$=="](0))?t:r(o,e))?0:i(a(o,e),1)},n.$$s=$,n.$$arity=0,n));var _=[],d=s;return $.$each.$$p=function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments);_.push(n),_.length>e&&_.shift(),_.length==e&&t.yield1(l,_.slice(0,e))},$.$each(),d},O.$$arity=1),t.defn(ot,"$each_entry",A=function(e){var n,r,i=this,a=A.$$p,$=a||s,o=arguments.length,l=o-0;l<0&&(l=0),r=new Array(l);for(var u=0;u<o;u++)r[u-0]=arguments[u];return a&&(A.$$p=null),$===s?c(i,"to_enum",["each_entry"].concat(t.to_a(r)),(n=function(){var t=n.$$s||this;return t.$enumerator_size()},n.$$s=i,n.$$arity=0,n)):(i.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments);t.yield1($,e)},i.$each.apply(i,r),i)},A.$$arity=-1),t.defn(ot,"$each_slice",S=function(e){var n,r=this,i=S.$$p,a=i||s;if(i&&(S.$$p=null),e=t.const_get_relative(st,"Opal").$coerce_to(e,t.const_get_relative(st,"Integer"),"to_int"),
u(e<=0)&&r.$raise(t.const_get_relative(st,"ArgumentError"),"invalid slice size"),a===s)return c(r,"enum_for",["each_slice",e],(n=function(){var t=n.$$s||this;return u(t["$respond_to?"]("size"))?$(t.$size(),e).$ceil():s},n.$$s=r,n.$$arity=0,n));var o,l=[];return r.$each.$$p=function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments);l.push(n),l.length===e&&(t.yield1(a,l),l=[])},r.$each(),void 0!==o?o:(l.length>0&&t.yield1(a,l),s)},S.$$arity=1),t.defn(ot,"$each_with_index",R=function(e){var n,r,i=this,a=R.$$p,$=a||s,o=arguments.length,l=o-0;l<0&&(l=0),r=new Array(l);for(var u=0;u<o;u++)r[u-0]=arguments[u];if(a&&(R.$$p=null),$===s)return c(i,"enum_for",["each_with_index"].concat(t.to_a(r)),(n=function(){var t=n.$$s||this;return t.$enumerator_size()},n.$$s=i,n.$$arity=0,n));var _,d=0;return i.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments);$(e,d),d++},i.$each.apply(i,r),void 0!==_?_:i},R.$$arity=-1),t.defn(ot,"$each_with_object",M=function(e){var n,r=this,i=M.$$p,a=i||s;if(i&&(M.$$p=null),a===s)return c(r,"enum_for",["each_with_object",e],(n=function(){var t=n.$$s||this;return t.$enumerator_size()},n.$$s=r,n.$$arity=0,n));var $;return r.$each.$$p=function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments);a(n,e)},r.$each(),void 0!==$?$:e},M.$$arity=1),t.defn(ot,"$entries",T=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];var o=[];return r.$each.$$p=function(){o.push(t.const_get_relative(st,"Opal").$destructure(arguments))},r.$each.apply(r,n),o},T.$$arity=-1),t.alias(ot,"find","detect"),t.defn(ot,"$find_all",I=function(){var e,n=this,r=I.$$p,i=r||s;if(r&&(I.$$p=null),i===s)return c(n,"enum_for",["find_all"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=n,e.$$arity=0,e));var a=[];return n.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments),n=t.yield1(i,e);u(n)&&a.push(e)},n.$each(),a},I.$$arity=0),t.defn(ot,"$find_index",q=function(e){try{var n,r,i=this,a=q.$$p,$=a||s,o=s;return a&&(q.$$p=null),u(void 0===e&&$===s)?i.$enum_for("find_index"):(o=0,u(null!=e)?c(i,"each",[],(n=function(r){var i,a=(n.$$s||this,arguments.length),$=a-0;$<0&&($=0),i=new Array($);for(var s=0;s<a;s++)i[s-0]=arguments[s];return t.const_get_relative(st,"Opal").$destructure(i)["$=="](e)&&t.ret(o),o+=1},n.$$s=i,n.$$arity=-1,n)):c(i,"each",[],(r=function(e){var n,i=(r.$$s||this,arguments.length),a=i-0;a<0&&(a=0),n=new Array(a);for(var s=0;s<i;s++)n[s-0]=arguments[s];return u(t.yieldX($,t.to_a(n)))&&t.ret(o),o+=1},r.$$s=i,r.$$arity=-1,r)),s)}catch(l){if(l===t.returner)return l.$v;throw l}},q.$$arity=-1),t.defn(ot,"$first",C=function(e){try{var n,r,i=this,a=s,$=s;return u(void 0===e)?c(i,"each",[],(n=function(e){n.$$s||this;null==e&&(e=s),t.ret(e)},n.$$s=i,n.$$arity=1,n)):(a=[],e=t.const_get_relative(st,"Opal").$coerce_to(e,t.const_get_relative(st,"Integer"),"to_int"),u(e<0)&&i.$raise(t.const_get_relative(st,"ArgumentError"),"attempt to take negative size"),u(0==e)?[]:($=0,c(i,"each",[],(r=function(n){var i,o=(r.$$s||this,arguments.length),l=o-0;l<0&&(l=0),i=new Array(l);for(var c=0;c<o;c++)i[c-0]=arguments[c];return a.push(t.const_get_relative(st,"Opal").$destructure(i)),u(e<=++$)?void t.ret(a):s},r.$$s=i,r.$$arity=-1,r)),a))}catch(o){if(o===t.returner)return o.$v;throw o}},C.$$arity=-1),t.alias(ot,"flat_map","collect_concat"),t.defn(ot,"$grep",N=function(e){var n=this,r=N.$$p,i=r||s;r&&(N.$$p=null);var a=[];return i!==s?n.$each.$$p=function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments),r=e["$==="](n);u(r)&&(r=t.yield1(i,n),a.push(r))}:n.$each.$$p=function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments),r=e["$==="](n);u(r)&&a.push(n)},n.$each(),a},N.$$arity=1),t.defn(ot,"$grep_v",z=function(e){var n=this,r=z.$$p,i=r||s;r&&(z.$$p=null);var a=[];return i!==s?n.$each.$$p=function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments),r=e["$==="](n);_(r)&&(r=t.yield1(i,n),a.push(r))}:n.$each.$$p=function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments),r=e["$==="](n);_(r)&&a.push(n)},n.$each(),a},z.$$arity=1),t.defn(ot,"$group_by",P=function(){var e,n,r=this,i=P.$$p,$=i||s,o=s,l=s;if(i&&(P.$$p=null),$===s)return c(r,"enum_for",["group_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));o=t.const_get_relative(st,"Hash").$new();var _;return r.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments),r=t.yield1($,e);(u(n=o["$[]"](r))?n:(l=[r,[]],c(o,"[]=",t.to_a(l)),l[a(l.length,1)]))["$<<"](e)},r.$each(),void 0!==_?_:o},P.$$arity=0),t.defn(ot,"$include?",L=function(e){try{var n,r=this;return c(r,"each",[],(n=function(r){var i,a=(n.$$s||this,arguments.length),$=a-0;$<0&&($=0),i=new Array($);for(var o=0;o<a;o++)i[o-0]=arguments[o];return t.const_get_relative(st,"Opal").$destructure(i)["$=="](e)?void t.ret(!0):s},n.$$s=r,n.$$arity=-1,n)),!1}catch(i){if(i===t.returner)return i.$v;throw i}},L.$$arity=1),t.defn(ot,"$inject",D=function(e,n){var r=this,i=D.$$p,a=i||s;i&&(D.$$p=null);var $=e;return a!==s&&void 0===n?r.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments);return void 0===$?void($=e):(e=t.yieldX(a,[$,e]),void($=e))}:(void 0===n&&(t.const_get_relative(st,"Symbol")["$==="](e)||r.$raise(t.const_get_relative(st,"TypeError"),""+e.$inspect()+" is not a Symbol"),n=e,$=void 0),r.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments);return void 0===$?void($=e):void($=$.$__send__(n,e))}),r.$each(),void 0==$?s:$},D.$$arity=-1),t.defn(ot,"$lazy",B=function(){var e,n=this;return c(t.const_get_qualified(t.const_get_relative(st,"Enumerator"),"Lazy"),"new",[n,n.$enumerator_size()],(e=function(n,r){var i,a=(e.$$s||this,arguments.length),$=a-1;$<0&&($=0),i=new Array($);for(var o=1;o<a;o++)i[o-1]=arguments[o];return null==n&&(n=s),c(n,"yield",t.to_a(i))},e.$$s=n,e.$$arity=-2,e))},B.$$arity=0),t.defn(ot,"$enumerator_size",j=function(){var t=this;return u(t["$respond_to?"]("size"))?t.$size():s},j.$$arity=0),t.alias(ot,"map","collect"),t.defn(ot,"$max",U=function(e){var n=this,r=U.$$p,i=r||s;if(r&&(U.$$p=null),void 0===e||e===s){var a,$;return n.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments);return void 0===a?void(a=e):($=i!==s?t.yieldX(i,[e,a]):e["$<=>"](a),$===s&&n.$raise(t.const_get_relative(st,"ArgumentError"),"comparison failed"),void($>0&&(a=e)))},n.$each(),void 0===a?s:a}return e=t.const_get_relative(st,"Opal").$coerce_to(e,t.const_get_relative(st,"Integer"),"to_int"),c(n,"sort",[],i.$to_proc()).$reverse().$first(e)},U.$$arity=-1),t.defn(ot,"$max_by",F=function(){var e,n=this,r=F.$$p,i=r||s;if(r&&(F.$$p=null),!u(i))return c(n,"enum_for",["max_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=n,e.$$arity=0,e));var a,$;return n.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments),n=t.yield1(i,e);return void 0===a?(a=e,void($=n)):void(n["$<=>"]($)>0&&(a=e,$=n))},n.$each(),void 0===a?s:a},F.$$arity=0),t.alias(ot,"member?","include?"),t.defn(ot,"$min",H=function(){var e=this,n=H.$$p,r=n||s;n&&(H.$$p=null);var i;return r!==s?e.$each.$$p=function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments);if(void 0===i)return void(i=n);var a=r(n,i);a===s&&e.$raise(t.const_get_relative(st,"ArgumentError"),"comparison failed"),a<0&&(i=n)}:e.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments);return void 0===i?void(i=e):void(t.const_get_relative(st,"Opal").$compare(e,i)<0&&(i=e))},e.$each(),void 0===i?s:i},H.$$arity=0),t.defn(ot,"$min_by",G=function(){var e,n=this,r=G.$$p,i=r||s;if(r&&(G.$$p=null),!u(i))return c(n,"enum_for",["min_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=n,e.$$arity=0,e));var a,$;return n.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments),n=t.yield1(i,e);return void 0===a?(a=e,void($=n)):void(n["$<=>"]($)<0&&(a=e,$=n))},n.$each(),void 0===a?s:a},G.$$arity=0),t.defn(ot,"$minmax",Y=function(){var e,n,r=this,i=Y.$$p,a=i||s;i&&(Y.$$p=null),a=u(e=a)?e:c(r,"proc",[],(n=function(t,e){n.$$s||this;return null==t&&(t=s),null==e&&(e=s),t["$<=>"](e)},n.$$s=r,n.$$arity=2,n));var $=s,o=s,l=!0;return r.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments);if(l)$=o=e,l=!1;else{var n=a.$call($,e);n===s?r.$raise(t.const_get_relative(st,"ArgumentError"),"comparison failed"):n>0&&($=e);var i=a.$call(o,e);i===s?r.$raise(t.const_get_relative(st,"ArgumentError"),"comparison failed"):i<0&&(o=e)}},r.$each(),[$,o]},Y.$$arity=0),t.defn(ot,"$minmax_by",W=function(){var e=this,n=W.$$p;return n&&(W.$$p=null),e.$raise(t.const_get_relative(st,"NotImplementedError"))},W.$$arity=0),t.defn(ot,"$none?",K=function(){try{var e,n,r=this,i=K.$$p,a=i||s;return i&&(K.$$p=null),a!==s?c(r,"each",[],(e=function(n){var r,i=(e.$$s||this,arguments.length),$=i-0;$<0&&($=0),r=new Array($);for(var o=0;o<i;o++)r[o-0]=arguments[o];return u(t.yieldX(a,t.to_a(r)))?void t.ret(!1):s},e.$$s=r,e.$$arity=-1,e)):c(r,"each",[],(n=function(e){var r,i=(n.$$s||this,arguments.length),a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];return u(t.const_get_relative(st,"Opal").$destructure(r))?void t.ret(!1):s},n.$$s=r,n.$$arity=-1,n)),!0}catch($){if($===t.returner)return $.$v;throw $}},K.$$arity=0),t.defn(ot,"$one?",X=function(){try{var n,r,a=this,$=X.$$p,o=$||s,l=s;return $&&(X.$$p=null),l=0,o!==s?c(a,"each",[],(n=function(r){var a,$=(n.$$s||this,arguments.length),c=$-0;c<0&&(c=0),a=new Array(c);for(var _=0;_<$;_++)a[_-0]=arguments[_];return u(t.yieldX(o,t.to_a(a)))?(l=i(l,1),u(e(l,1))?void t.ret(!1):s):s},n.$$s=a,n.$$arity=-1,n)):c(a,"each",[],(r=function(n){var a,$=(r.$$s||this,arguments.length),o=$-0;o<0&&(o=0),a=new Array(o);for(var c=0;c<$;c++)a[c-0]=arguments[c];return u(t.const_get_relative(st,"Opal").$destructure(a))?(l=i(l,1),u(e(l,1))?void t.ret(!1):s):s},r.$$s=a,r.$$arity=-1,r)),l["$=="](1)}catch(_){if(_===t.returner)return _.$v;throw _}},X.$$arity=0),t.defn(ot,"$partition",V=function(){var e,n=this,r=V.$$p,i=r||s;if(r&&(V.$$p=null),i===s)return c(n,"enum_for",["partition"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=n,e.$$arity=0,e));var a=[],$=[];return n.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments),n=t.yield1(i,e);u(n)?a.push(e):$.push(e)},n.$each(),[a,$]},V.$$arity=0),t.alias(ot,"reduce","inject"),t.defn(ot,"$reject",J=function(){var e,n=this,r=J.$$p,i=r||s;if(r&&(J.$$p=null),i===s)return c(n,"enum_for",["reject"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=n,e.$$arity=0,e));var a=[];return n.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments),n=t.yield1(i,e);_(n)&&a.push(e)},n.$each(),a},J.$$arity=0),t.defn(ot,"$reverse_each",Z=function(){var e,n=this,r=Z.$$p,i=r||s;if(r&&(Z.$$p=null),i===s)return c(n,"enum_for",["reverse_each"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=n,e.$$arity=0,e));var a=[];n.$each.$$p=function(){a.push(arguments)},n.$each();for(var $=a.length-1;$>=0;$--)t.yieldX(i,a[$]);return a},Z.$$arity=0),t.alias(ot,"select","find_all"),t.defn(ot,"$slice_before",Q=function(e){var n,r=this,i=Q.$$p,a=i||s;return i&&(Q.$$p=null),u(void 0===e&&a===s)&&r.$raise(t.const_get_relative(st,"ArgumentError"),"both pattern and block are given"),u(void 0!==e&&a!==s||arguments.length>1)&&r.$raise(t.const_get_relative(st,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),c(t.const_get_relative(st,"Enumerator"),"new",[],(n=function(r){var i=n.$$s||this;null==r&&(r=s);var $=[];a!==s?void 0===e?i.$each.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments),n=t.yield1(a,e);u(n)&&$.length>0&&(r["$<<"]($),$=[]),$.push(e)}:i.$each.$$p=function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments),i=a(n,e.$dup());u(i)&&$.length>0&&(r["$<<"]($),$=[]),$.push(n)}:i.$each.$$p=function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments),i=e["$==="](n);u(i)&&$.length>0&&(r["$<<"]($),$=[]),$.push(n)},i.$each(),$.length>0&&r["$<<"]($)},n.$$s=r,n.$$arity=1,n))},Q.$$arity=-1),t.defn(ot,"$slice_after",tt=function(e){var n,r,i=this,a=tt.$$p,$=a||s;return a&&(tt.$$p=null),u(void 0===e&&$===s)&&i.$raise(t.const_get_relative(st,"ArgumentError"),"both pattern and block are given"),u(void 0!==e&&$!==s||arguments.length>1)&&i.$raise(t.const_get_relative(st,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),u(void 0!==e)&&($=c(i,"proc",[],(n=function(t){n.$$s||this;return null==t&&(t=s),e["$==="](t)},n.$$s=i,n.$$arity=1,n))),c(t.const_get_relative(st,"Enumerator"),"new",[],(r=function(e){var n=r.$$s||this;null==e&&(e=s);var i;n.$each.$$p=function(){var n=t.const_get_relative(st,"Opal").$destructure(arguments),r=t.yield1($,n);null==i&&(i=[]),u(r)?(i.push(n),e.$yield(i),i=null):i.push(n)},n.$each(),null!=i&&e.$yield(i)},r.$$s=i,r.$$arity=1,r))},tt.$$arity=-1),t.defn(ot,"$slice_when",et=function(){var e,n=this,r=et.$$p,i=r||s;return r&&(et.$$p=null),i!==s||n.$raise(t.const_get_relative(st,"ArgumentError"),"wrong number of arguments (0 for 1)"),c(t.const_get_relative(st,"Enumerator"),"new",[],(e=function(n){var r=e.$$s||this;null==n&&(n=s);var a=s,$=s;r.$each_cons.$$p=function(){var e=t.const_get_relative(st,"Opal").$destructure(arguments),r=e[0],o=e[1],l=t.yieldX(i,[r,o]);$=o,a===s&&(a=[]),u(l)?(a.push(r),n.$yield(a),a=[]):a.push(r)},r.$each_cons(2),a!==s&&(a.push($),n.$yield(a))},e.$$s=n,e.$$arity=1,e))},et.$$arity=0),t.defn(ot,"$sort",nt=function(){var t,e=this,n=nt.$$p,r=n||s,i=s;return n&&(nt.$$p=null),i=e.$to_a(),r!==s||(r=c(e,"lambda",[],(t=function(e,n){t.$$s||this;return null==e&&(e=s),null==n&&(n=s),e["$<=>"](n)},t.$$s=e,t.$$arity=2,t))),c(i,"sort",[],r.$to_proc())},nt.$$arity=0),t.defn(ot,"$sort_by",rt=function(){var e,n,r,i,a=this,$=rt.$$p,o=$||s,l=s;return $&&(rt.$$p=null),o===s?c(a,"enum_for",["sort_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=a,e.$$arity=0,e)):(l=c(a,"map",[],(n=function(){var e=(n.$$s||this,s);return e=t.const_get_relative(st,"Opal").$destructure(arguments),[t.yield1(o,e),e]},n.$$s=a,n.$$arity=0,n)),c(l,"sort!",[],(r=function(t,e){r.$$s||this;return null==t&&(t=s),null==e&&(e=s),t[0]["$<=>"](e[0])},r.$$s=a,r.$$arity=2,r)),c(l,"map!",[],(i=function(t){i.$$s||this;return null==t&&(t=s),t[1]},i.$$s=a,i.$$arity=1,i)))},rt.$$arity=0),t.defn(ot,"$take",it=function(t){var e=this;return e.$first(t)},it.$$arity=1),t.defn(ot,"$take_while",at=function(){try{var e,n=this,r=at.$$p,i=r||s,a=s;return r&&(at.$$p=null),u(i)?(a=[],c(n,"each",[],(e=function(n){var r,$=(e.$$s||this,s),o=arguments.length,l=o-0;l<0&&(l=0),r=new Array(l);for(var c=0;c<o;c++)r[c-0]=arguments[c];return $=t.const_get_relative(st,"Opal").$destructure(r),u(t.yield1(i,$))||t.ret(a),a.push($)},e.$$s=n,e.$$arity=-1,e))):n.$enum_for("take_while")}catch($){if($===t.returner)return $.$v;throw $}},at.$$arity=0),t.alias(ot,"to_a","entries"),t.defn(ot,"$zip",$t=function(e){var n,r=this,i=$t.$$p,a=arguments.length,$=a-0;$<0&&($=0),n=new Array($);for(var o=0;o<a;o++)n[o-0]=arguments[o];return i&&($t.$$p=null),c(r.$to_a(),"zip",t.to_a(n))},$t.$$arity=-1)}(o[0],o)},Opal.modules["corelib/enumerator"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var r=t.top,i=[],a=t.nil,$=t.breaker,o=t.slice,s=t.klass,l=t.truthy,c=t.send,u=t.falsy;return t.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),r.$require("corelib/enumerable"),function(r,i,_){function d(){}var f,p,h,g,v,m,y=d=s(r,i,"Enumerator",d),b=y.$$proto,k=[y].concat(_);return b.size=b.args=b.object=b.method=a,y.$include(t.const_get_relative(k,"Enumerable")),b.$$is_enumerator=!0,t.defs(y,"$for",f=function(t,e,n){var r,i=this,$=f.$$p,o=$||a;null==e&&(e="each");var s=arguments.length,l=s-2;l<0&&(l=0),r=new Array(l);for(var c=2;c<s;c++)r[c-2]=arguments[c];$&&(f.$$p=null);var u=i.$allocate();return u.object=t,u.size=o,u.method=e,u.args=r,u},f.$$arity=-2),t.defn(y,"$initialize",p=function(e){var n=this,r=p.$$p,i=r||a;return r&&(p.$$p=null),l(i)?(n.object=c(t.const_get_relative(k,"Generator"),"new",[],i.$to_proc()),n.method="each",n.args=[],n.size=arguments[0]||a,l(n.size)?n.size=t.const_get_relative(k,"Opal").$coerce_to(n.size,t.const_get_relative(k,"Integer"),"to_int"):a):(n.object=arguments[0],n.method=arguments[1]||"each",n.args=o.call(arguments,2),n.size=a)},p.$$arity=-1),t.defn(y,"$each",h=function(n){var r,i,$=this,o=h.$$p,s=o||a,u=arguments.length,_=u-0;_<0&&(_=0),i=new Array(_);for(var d=0;d<u;d++)i[d-0]=arguments[d];return o&&(h.$$p=null),l(l(r=s["$nil?"]())?i["$empty?"]():r)?$:(i=e($.args,i),l(s["$nil?"]())?c($.$class(),"new",[$.object,$.method].concat(t.to_a(i))):c($.object,"__send__",[$.method].concat(t.to_a(i)),s.$to_proc()))},h.$$arity=-1),t.defn(y,"$size",g=function(){var e=this;return l(t.const_get_relative(k,"Proc")["$==="](e.size))?c(e.size,"call",t.to_a(e.args)):e.size},g.$$arity=0),t.defn(y,"$with_index",v=function(e){var n,r=this,i=v.$$p,$=i||a;if(null==e&&(e=0),i&&(v.$$p=null),e=l(e)?t.const_get_relative(k,"Opal").$coerce_to(e,t.const_get_relative(k,"Integer"),"to_int"):0,!l($))return c(r,"enum_for",["with_index",e],(n=function(){var t=n.$$s||this;return t.$size()},n.$$s=r,n.$$arity=0,n));var o=e;return r.$each.$$p=function(){var e=t.const_get_relative(k,"Opal").$destructure(arguments),n=$(e,o);return o++,n},r.$each()},v.$$arity=-1),t.alias(y,"with_object","each_with_object"),t.defn(y,"$inspect",m=function(){var n=this,r=a;return r="#<"+n.$class()+": "+n.object.$inspect()+":"+n.method,l(n.args["$empty?"]())||(r=e(r,"("+n.args.$inspect()["$[]"](t.const_get_relative(k,"Range").$new(1,-2))+")")),e(r,">")},m.$$arity=0),function(e,n,r){function i(){}var o,u,_=i=s(e,n,"Generator",i),d=_.$$proto,f=[_].concat(r);return d.block=a,_.$include(t.const_get_relative(f,"Enumerable")),t.defn(_,"$initialize",o=function(){var e=this,n=o.$$p,r=n||a;return n&&(o.$$p=null),l(r)||e.$raise(t.const_get_relative(f,"LocalJumpError"),"no block given"),e.block=r},o.$$arity=0),t.defn(_,"$each",u=function(e){var n,r=this,i=u.$$p,o=i||a,s=a,l=arguments.length,_=l-0;_<0&&(_=0),n=new Array(_);for(var d=0;d<l;d++)n[d-0]=arguments[d];i&&(u.$$p=null),s=c(t.const_get_relative(f,"Yielder"),"new",[],o.$to_proc());try{n.unshift(s),t.yieldX(r.block,n)}catch(p){if(p===$)return $.$v;throw p}return r},u.$$arity=-1),a&&"each"}(k[0],null,k),function(e,n,r){function i(){}var o,l,u,_=i=s(e,n,"Yielder",i),d=_.$$proto;[_].concat(r);return d.block=a,t.defn(_,"$initialize",o=function(){var t=this,e=o.$$p,n=e||a;return e&&(o.$$p=null),t.block=n},o.$$arity=0),t.defn(_,"$yield",l=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var o=0;o<i;o++)n[o-0]=arguments[o];var s=t.yieldX(r.block,n);if(s===$)throw $;return s},l.$$arity=-1),t.defn(_,"$<<",u=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];return c(r,"yield",t.to_a(n)),r},u.$$arity=-1),a&&"<<"}(k[0],null,k),function(r,i,$){function o(){}var _,d,f,p,h,g,v,m,y,b,k,w,x,E=o=s(r,i,"Lazy",o),O=E.$$proto,A=[E].concat($);return O.enumerator=a,function(t,e,n){function r(){}var i=r=s(t,e,"StopLazyError",r);i.$$proto,[i].concat(n);return a}(A[0],t.const_get_relative(A,"Exception"),A),t.defn(E,"$initialize",_=function(e,n){var r,i=this,$=_.$$p,o=$||a;return null==n&&(n=a),$&&(_.$$p=null),o!==a||i.$raise(t.const_get_relative(A,"ArgumentError"),"tried to call lazy new without a block"),i.enumerator=e,c(i,t.find_super_dispatcher(i,"initialize",_,!1),[n],(r=function(n,i){var $,s,l=r.$$s||this,u=arguments.length,_=u-1;_<0&&(_=0),$=new Array(_);for(var d=1;d<u;d++)$[d-1]=arguments[d];null==n&&(n=a);try{return c(e,"each",t.to_a($),(s=function(e){var r,i=(s.$$s||this,arguments.length),a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];r.unshift(n),t.yieldX(o,r)},s.$$s=l,s.$$arity=-1,s))}catch(f){if(!t.rescue(f,[t.const_get_relative(A,"Exception")]))throw f;try{return a}finally{t.pop_exception()}}},r.$$s=i,r.$$arity=-2,r))},_.$$arity=-2),t.alias(E,"force","to_a"),t.defn(E,"$lazy",d=function(){var t=this;return t},d.$$arity=0),t.defn(E,"$collect",f=function(){var e,n=this,r=f.$$p,i=r||a;return r&&(f.$$p=null),l(i)||n.$raise(t.const_get_relative(A,"ArgumentError"),"tried to call lazy map without a block"),c(t.const_get_relative(A,"Lazy"),"new",[n,n.$enumerator_size()],(e=function(n,r){var $,o=(e.$$s||this,arguments.length),s=o-1;s<0&&(s=0),$=new Array(s);for(var l=1;l<o;l++)$[l-1]=arguments[l];null==n&&(n=a);var c=t.yieldX(i,$);n.$yield(c)},e.$$s=n,e.$$arity=-2,e))},f.$$arity=0),t.defn(E,"$collect_concat",p=function(){var e,n=this,r=p.$$p,i=r||a;return r&&(p.$$p=null),l(i)||n.$raise(t.const_get_relative(A,"ArgumentError"),"tried to call lazy map without a block"),c(t.const_get_relative(A,"Lazy"),"new",[n,a],(e=function(n,r){var $,o,s,l=e.$$s||this,u=arguments.length,_=u-1;_<0&&(_=0),$=new Array(_);for(var d=1;d<u;d++)$[d-1]=arguments[d];null==n&&(n=a);var f=t.yieldX(i,$);if(f["$respond_to?"]("force")&&f["$respond_to?"]("each"))c(f,"each",[],(o=function(t){o.$$s||this;return null==t&&(t=a),n.$yield(t)},o.$$s=l,o.$$arity=1,o));else{var p=t.const_get_relative(A,"Opal").$try_convert(f,t.const_get_relative(A,"Array"),"to_ary");p===a?n.$yield(f):c(f,"each",[],(s=function(t){s.$$s||this;return null==t&&(t=a),n.$yield(t)},s.$$s=l,s.$$arity=1,s))}},e.$$s=n,e.$$arity=-2,e))},p.$$arity=0),t.defn(E,"$drop",h=function(r){var i,$=this,o=a,s=a,u=a;return r=t.const_get_relative(A,"Opal").$coerce_to(r,t.const_get_relative(A,"Integer"),"to_int"),l(n(r,0))&&$.$raise(t.const_get_relative(A,"ArgumentError"),"attempt to drop negative size"),o=$.$enumerator_size(),s=function(){return l(t.const_get_relative(A,"Integer")["$==="](o))&&l(n(r,o))?r:o}(),u=0,c(t.const_get_relative(A,"Lazy"),"new",[$,s],(i=function($,o){var s,_=(i.$$s||this,arguments.length),d=_-1;d<0&&(d=0),s=new Array(d);for(var f=1;f<_;f++)s[f-1]=arguments[f];return null==$&&($=a),l(n(u,r))?u=e(u,1):c($,"yield",t.to_a(s))},i.$$s=$,i.$$arity=-2,i))},h.$$arity=1),t.defn(E,"$drop_while",g=function(){var e,n=this,r=g.$$p,i=r||a,$=a;return r&&(g.$$p=null),l(i)||n.$raise(t.const_get_relative(A,"ArgumentError"),"tried to call lazy drop_while without a block"),$=!0,c(t.const_get_relative(A,"Lazy"),"new",[n,a],(e=function(n,r){var o,s=(e.$$s||this,arguments.length),_=s-1;_<0&&(_=0),o=new Array(_);for(var d=1;d<s;d++)o[d-1]=arguments[d];if(null==n&&(n=a),!l($))return c(n,"yield",t.to_a(o));var f=t.yieldX(i,o);u(f)&&($=!1,c(n,"yield",t.to_a(o)))},e.$$s=n,e.$$arity=-2,e))},g.$$arity=0),t.defn(E,"$enum_for",v=function(e,n){var r,i=this,$=v.$$p,o=$||a;null==e&&(e="each");var s=arguments.length,l=s-1;l<0&&(l=0),r=new Array(l);for(var u=1;u<s;u++)r[u-1]=arguments[u];return $&&(v.$$p=null),c(i.$class(),"for",[i,e].concat(t.to_a(r)),o.$to_proc())},v.$$arity=-1),t.defn(E,"$find_all",m=function(){var e,n=this,r=m.$$p,i=r||a;return r&&(m.$$p=null),l(i)||n.$raise(t.const_get_relative(A,"ArgumentError"),"tried to call lazy select without a block"),c(t.const_get_relative(A,"Lazy"),"new",[n,a],(e=function(n,r){var $,o=(e.$$s||this,arguments.length),s=o-1;s<0&&(s=0),$=new Array(s);for(var u=1;u<o;u++)$[u-1]=arguments[u];null==n&&(n=a);var _=t.yieldX(i,$);l(_)&&c(n,"yield",t.to_a($))},e.$$s=n,e.$$arity=-2,e))},m.$$arity=0),t.alias(E,"flat_map","collect_concat"),t.defn(E,"$grep",y=function(e){var n,r,i=this,$=y.$$p,o=$||a;return $&&(y.$$p=null),l(o)?c(t.const_get_relative(A,"Lazy"),"new",[i,a],(n=function(r,i){var $,s=(n.$$s||this,arguments.length),c=s-1;c<0&&(c=0),$=new Array(c);for(var u=1;u<s;u++)$[u-1]=arguments[u];null==r&&(r=a);var _=t.const_get_relative(A,"Opal").$destructure($),d=e["$==="](_);l(d)&&(d=t.yield1(o,_),r.$yield(t.yield1(o,_)))},n.$$s=i,n.$$arity=-2,n)):c(t.const_get_relative(A,"Lazy"),"new",[i,a],(r=function(n,i){var $,o=(r.$$s||this,arguments.length),s=o-1;s<0&&(s=0),$=new Array(s);for(var c=1;c<o;c++)$[c-1]=arguments[c];null==n&&(n=a);var u=t.const_get_relative(A,"Opal").$destructure($),_=e["$==="](u);l(_)&&n.$yield(u)},r.$$s=i,r.$$arity=-2,r))},y.$$arity=1),t.alias(E,"map","collect"),t.alias(E,"select","find_all"),t.defn(E,"$reject",b=function(){var e,n=this,r=b.$$p,i=r||a;return r&&(b.$$p=null),l(i)||n.$raise(t.const_get_relative(A,"ArgumentError"),"tried to call lazy reject without a block"),c(t.const_get_relative(A,"Lazy"),"new",[n,a],(e=function(n,r){var $,o=(e.$$s||this,arguments.length),s=o-1;s<0&&(s=0),$=new Array(s);for(var l=1;l<o;l++)$[l-1]=arguments[l];null==n&&(n=a);var _=t.yieldX(i,$);u(_)&&c(n,"yield",t.to_a($))},e.$$s=n,e.$$arity=-2,e))},b.$$arity=0),t.defn(E,"$take",k=function(r){var i,$=this,o=a,s=a,u=a;return r=t.const_get_relative(A,"Opal").$coerce_to(r,t.const_get_relative(A,"Integer"),"to_int"),l(n(r,0))&&$.$raise(t.const_get_relative(A,"ArgumentError"),"attempt to take negative size"),o=$.$enumerator_size(),s=function(){return l(t.const_get_relative(A,"Integer")["$==="](o))&&l(n(r,o))?r:o}(),u=0,c(t.const_get_relative(A,"Lazy"),"new",[$,s],(i=function($,o){var s,_=i.$$s||this,d=arguments.length,f=d-1;f<0&&(f=0),s=new Array(f);for(var p=1;p<d;p++)s[p-1]=arguments[p];return null==$&&($=a),l(n(u,r))?(c($,"yield",t.to_a(s)),u=e(u,1)):_.$raise(t.const_get_relative(A,"StopLazyError"))},i.$$s=$,i.$$arity=-2,i))},k.$$arity=1),t.defn(E,"$take_while",w=function(){var e,n=this,r=w.$$p,i=r||a;return r&&(w.$$p=null),l(i)||n.$raise(t.const_get_relative(A,"ArgumentError"),"tried to call lazy take_while without a block"),c(t.const_get_relative(A,"Lazy"),"new",[n,a],(e=function(n,r){var $,o=e.$$s||this,s=arguments.length,u=s-1;u<0&&(u=0),$=new Array(u);for(var _=1;_<s;_++)$[_-1]=arguments[_];null==n&&(n=a);var d=t.yieldX(i,$);l(d)?c(n,"yield",t.to_a($)):o.$raise(t.const_get_relative(A,"StopLazyError"))},e.$$s=n,e.$$arity=-2,e))},w.$$arity=0),t.alias(E,"to_enum","enum_for"),t.defn(E,"$inspect",x=function(){var t=this;return"#<"+t.$class()+": "+t.enumerator.$inspect()+">"},x.$$arity=0),a&&"inspect"}(k[0],y,k)}(i[0],null,i)},Opal.modules["corelib/numeric"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var $=t.top,o=[],s=t.nil,l=(t.breaker,t.slice,t.klass),c=t.truthy;return t.add_stubs(["$require","$include","$instance_of?","$class","$Float","$coerce","$===","$raise","$__send__","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),$.$require("corelib/comparable"),function($,o,u){function _(){}var d,f,p,h,g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P,L,D,B,j,U,F,H,G,Y,W,K=_=l($,o,"Numeric",_),X=(K.$$proto,[K].concat(u));return K.$include(t.const_get_relative(X,"Comparable")),t.defn(K,"$coerce",d=function(t){var e=this;return c(t["$instance_of?"](e.$class()))?[t,e]:[e.$Float(t),e.$Float(e)]},d.$$arity=1),t.defn(K,"$__coerced__",f=function(e,n){var r,i,a=this,$=s,o=s,l=s;try{i=n.$coerce(a),r=t.to_ary(i),$=null==r[0]?s:r[0],o=null==r[1]?s:r[1],i}catch(c){if(!t.rescue(c,[t.const_get_relative(X,"StandardError")]))throw c;try{l=e,"+"["$==="](l)||"-"["$==="](l)||"*"["$==="](l)||"/"["$==="](l)||"%"["$==="](l)||"&"["$==="](l)||"|"["$==="](l)||"^"["$==="](l)||"**"["$==="](l)?a.$raise(t.const_get_relative(X,"TypeError"),""+n.$class()+" can't be coerce into Numeric"):(">"["$==="](l)||">="["$==="](l)||"<"["$==="](l)||"<="["$==="](l)||"<=>"["$==="](l))&&a.$raise(t.const_get_relative(X,"ArgumentError"),"comparison of "+a.$class()+" with "+n.$class()+" failed")}finally{t.pop_exception()}}return $.$__send__(e,o)},f.$$arity=2),t.defn(K,"$<=>",p=function(t){var e=this;return c(e["$equal?"](t))?0:s},p.$$arity=1),t.defn(K,"$+@",h=function(){var t=this;return t},h.$$arity=0),t.defn(K,"$-@",g=function(){var t=this;return e(0,t)},g.$$arity=0),t.defn(K,"$%",v=function(t){var r=this;return e(r,n(t,r.$div(t)))},v.$$arity=1),t.defn(K,"$abs",m=function(){var t=this;return r(t,0)?t["$-@"]():t},m.$$arity=0),t.defn(K,"$abs2",y=function(){var t=this;return n(t,t)},y.$$arity=0),t.defn(K,"$angle",b=function(){var e=this;return r(e,0)?t.const_get_qualified(t.const_get_relative(X,"Math"),"PI"):0},b.$$arity=0),t.alias(K,"arg","angle"),t.defn(K,"$ceil",k=function(){var t=this;return t.$to_f().$ceil()},k.$$arity=0),t.defn(K,"$conj",w=function(){var t=this;return t},w.$$arity=0),t.alias(K,"conjugate","conj"),t.defn(K,"$denominator",x=function(){var t=this;return t.$to_r().$denominator()},x.$$arity=0),t.defn(K,"$div",E=function(e){var n=this;return e["$=="](0)&&n.$raise(t.const_get_relative(X,"ZeroDivisionError"),"divided by o"),i(n,e).$floor()},E.$$arity=1),t.defn(K,"$divmod",O=function(t){var e=this;return[e.$div(t),e["$%"](t)]},O.$$arity=1),t.defn(K,"$fdiv",A=function(t){var e=this;return i(e.$to_f(),t)},A.$$arity=1),t.defn(K,"$floor",S=function(){var t=this;return t.$to_f().$floor()},S.$$arity=0),t.defn(K,"$i",R=function(){var t=this;return t.$Complex(0,t)},R.$$arity=0),t.defn(K,"$imag",M=function(){return 0},M.$$arity=0),t.alias(K,"imaginary","imag"),t.defn(K,"$integer?",T=function(){return!1},T.$$arity=0),t.alias(K,"magnitude","abs"),t.alias(K,"modulo","%"),t.defn(K,"$nonzero?",I=function(){var t=this;return c(t["$zero?"]())?s:t},I.$$arity=0),t.defn(K,"$numerator",q=function(){var t=this;return t.$to_r().$numerator()},q.$$arity=0),t.alias(K,"phase","arg"),t.defn(K,"$polar",C=function(){var t=this;return[t.$abs(),t.$arg()]},C.$$arity=0),t.defn(K,"$quo",N=function(e){var n=this;return i(t.const_get_relative(X,"Opal")["$coerce_to!"](n,t.const_get_relative(X,"Rational"),"to_r"),e)},N.$$arity=1),t.defn(K,"$real",z=function(){var t=this;return t},z.$$arity=0),t.defn(K,"$real?",P=function(){return!0},P.$$arity=0),t.defn(K,"$rect",L=function(){var t=this;return[t,0]},L.$$arity=0),t.alias(K,"rectangular","rect"),t.defn(K,"$round",D=function(t){var e=this;return e.$to_f().$round(t)},D.$$arity=-1),t.defn(K,"$to_c",B=function(){var t=this;return t.$Complex(t,0)},B.$$arity=0),t.defn(K,"$to_int",j=function(){var t=this;return t.$to_i()},j.$$arity=0),t.defn(K,"$truncate",U=function(){var t=this;return t.$to_f().$truncate()},U.$$arity=0),t.defn(K,"$zero?",F=function(){var t=this;return t["$=="](0)},F.$$arity=0),t.defn(K,"$positive?",H=function(){var t=this;return a(t,0)},H.$$arity=0),t.defn(K,"$negative?",G=function(){var t=this;return r(t,0)},G.$$arity=0),t.defn(K,"$dup",Y=function(){var e=this;return e.$raise(t.const_get_relative(X,"TypeError"),"can't dup "+e.$class())},Y.$$arity=0),t.defn(K,"$clone",W=function(){var e=this;return e.$raise(t.const_get_relative(X,"TypeError"),"can't clone "+e.$class())},W.$$arity=0),s&&"clone"}(o[0],null,o)},Opal.modules["corelib/array"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var $=t.top,o=[],s=t.nil,l=(t.breaker,t.slice,t.klass),c=t.truthy,u=t.hash2,_=t.send,d=t.gvars;return t.add_stubs(["$require","$include","$to_a","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$bsearch_index","$to_proc","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$!","$>=","$**","$delete_if","$each","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$dup","$<","$sort","$sort_by","$!=","$times","$[]=","$-","$<<","$values","$kind_of?","$last","$first","$upto","$reject","$pristine"]),
$.$require("corelib/enumerable"),$.$require("corelib/numeric"),function($,o,f){function p(){}function h(e,n){return n.$$name===t.Array?e:n.$allocate().$replace(e.$to_a())}function g(e,n){var r,i,a,$,o=e.length;return r=n.exclude,i=t.Opal.$coerce_to(n.begin,t.Integer,"to_int"),a=t.Opal.$coerce_to(n.end,t.Integer,"to_int"),i<0&&(i+=o,i<0)?s:i>o?s:a<0&&(a+=o,a<0)?[]:(r||(a+=1),$=e.slice(i,a),h($,e.$class()))}function v(e,n,r){var i,a=e.length;return n=t.Opal.$coerce_to(n,t.Integer,"to_int"),n<0&&(n+=a,n<0)?s:void 0===r?n>=a||n<0?s:e[n]:(r=t.Opal.$coerce_to(r,t.Integer,"to_int"),r<0||n>a||n<0?s:(i=e.slice(n,n+r),h(i,e.$class())))}function m(t,e){return t===e||0===e?1:e>0&&t>e?m(t-1,e-1)+m(t-1,e):0}function y(t,e){for(var n=e>=0?1:0;e;)n*=t,t--,e--;return n}var b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P,L,D,B,j,U,F,H,G,Y,W,K,X,V,J,Z,Q,tt,et,nt,rt,it,at,$t,ot,st,lt,ct,ut,_t,dt,ft,pt,ht,gt,vt,mt,yt,bt,kt,wt,xt,Et,Ot,At,St,Rt,Mt,Tt,It,qt,Ct,Nt,zt,Pt,Lt,Dt,Bt,jt,Ut,Ft,Ht,Gt,Yt,Wt,Kt,Xt,Vt,Jt,Zt,Qt,te,ee,ne,re=p=l($,o,"Array",p),ie=re.$$proto,ae=[re].concat(f);return ie.length=s,re.$include(t.const_get_relative(ae,"Enumerable")),ie.$$is_array=!0,t.defs(re,"$[]",b=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];return h(e,n)},b.$$arity=-1),t.defn(re,"$initialize",k=function(e,n){var r=this,i=k.$$p,a=i||s;if(null==e&&(e=s),null==n&&(n=s),i&&(k.$$p=null),e>t.const_get_qualified(t.const_get_relative(ae,"Integer"),"MAX")&&r.$raise(t.const_get_relative(ae,"ArgumentError"),"array size too big"),arguments.length>2&&r.$raise(t.const_get_relative(ae,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return r.splice(0,r.length),r;if(1===arguments.length){if(e.$$is_array)return r.$replace(e.$to_a()),r;if(e["$respond_to?"]("to_ary"))return r.$replace(e.$to_ary()),r}e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),e<0&&r.$raise(t.const_get_relative(ae,"ArgumentError"),"negative array size"),r.splice(0,r.length);var $,o;if(a===s)for($=0;$<e;$++)r.push(n);else for($=0,o;$<e;$++)o=a($),r[$]=o;return r},k.$$arity=-1),t.defs(re,"$try_convert",w=function(e){return t.const_get_relative(ae,"Opal")["$coerce_to?"](e,t.const_get_relative(ae,"Array"),"to_ary")},w.$$arity=1),t.defn(re,"$&",x=function(e){var n=this;e=c(t.const_get_relative(ae,"Array")["$==="](e))?e.$to_a():t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Array"),"to_ary").$to_a();var r,i,a,$=[],o=u([],{});for(r=0,i=e.length;r<i;r++)t.hash_put(o,e[r],!0);for(r=0,i=n.length;r<i;r++)a=n[r],void 0!==t.hash_delete(o,a)&&$.push(a);return $},x.$$arity=1),t.defn(re,"$|",E=function(e){var n=this;e=c(t.const_get_relative(ae,"Array")["$==="](e))?e.$to_a():t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Array"),"to_ary").$to_a();var r,i,a=u([],{});for(r=0,i=n.length;r<i;r++)t.hash_put(a,n[r],!0);for(r=0,i=e.length;r<i;r++)t.hash_put(a,e[r],!0);return a.$keys()},E.$$arity=1),t.defn(re,"$*",O=function(e){var n=this;if(c(e["$respond_to?"]("to_str")))return n.$join(e.$to_str());e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),c(e<0)&&n.$raise(t.const_get_relative(ae,"ArgumentError"),"negative argument");for(var r=[],i=n.$to_a(),a=0;a<e;a++)r=r.concat(i);return h(r,n.$class())},O.$$arity=1),t.defn(re,"$+",A=function(e){var n=this;return e=c(t.const_get_relative(ae,"Array")["$==="](e))?e.$to_a():t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Array"),"to_ary").$to_a(),n.concat(e)},A.$$arity=1),t.defn(re,"$-",S=function(e){var n=this;if(e=c(t.const_get_relative(ae,"Array")["$==="](e))?e.$to_a():t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Array"),"to_ary").$to_a(),c(0===n.length))return[];if(c(0===e.length))return n.slice();var r,i,a,$=[],o=u([],{});for(r=0,i=e.length;r<i;r++)t.hash_put(o,e[r],!0);for(r=0,i=n.length;r<i;r++)a=n[r],void 0===t.hash_get(o,a)&&$.push(a);return $},S.$$arity=1),t.defn(re,"$<<",R=function(t){var e=this;return e.push(t),e},R.$$arity=1),t.defn(re,"$<=>",M=function(e){var n=this;if(c(t.const_get_relative(ae,"Array")["$==="](e)))e=e.$to_a();else{if(!c(e["$respond_to?"]("to_ary")))return s;e=e.$to_ary().$to_a()}if(n.$hash()===e.$hash())return 0;for(var r=Math.min(n.length,e.length),i=0;i<r;i++){var a=n[i]["$<=>"](e[i]);if(0!==a)return a}return n.length["$<=>"](e.length)},M.$$arity=1),t.defn(re,"$==",T=function(e){function n(e,r){var a,$,o,s;if(e===r)return!0;if(!r.$$is_array)return!!t.const_get_relative(ae,"Opal")["$respond_to?"](r,"to_ary")&&r["$=="](e);if(e.constructor!==Array&&(e=e.$to_a()),r.constructor!==Array&&(r=r.$to_a()),e.length!==r.length)return!1;for(i[e.$object_id()]=!0,a=0,$=e.length;a<$;a++)if(o=e[a],s=r[a],o.$$is_array){if(s.$$is_array&&s.length!==o.length)return!1;if(!i.hasOwnProperty(o.$object_id())&&!n(o,s))return!1}else if(!o["$=="](s))return!1;return!0}var r=this,i={};return n(r,e)},T.$$arity=1),t.defn(re,"$[]",I=function(t,e){var n=this;return t.$$is_range?g(n,t):v(n,t,e)},I.$$arity=-2),t.defn(re,"$[]=",q=function(e,n,r){var i,a=this,$=s,o=s,l=a.length;if(c(t.const_get_relative(ae,"Range")["$==="](e))){$=c(t.const_get_relative(ae,"Array")["$==="](n))?n.$to_a():c(n["$respond_to?"]("to_ary"))?n.$to_ary().$to_a():[n];var u=e.exclude,_=t.const_get_relative(ae,"Opal").$coerce_to(e.begin,t.const_get_relative(ae,"Integer"),"to_int"),d=t.const_get_relative(ae,"Opal").$coerce_to(e.end,t.const_get_relative(ae,"Integer"),"to_int");if(_<0&&(_+=l,_<0&&a.$raise(t.const_get_relative(ae,"RangeError"),""+e.$inspect()+" out of range")),d<0&&(d+=l),u||(d+=1),_>l)for(i=l;i<_;i++)a[i]=s;return d<0?a.splice.apply(a,[_,0].concat($)):a.splice.apply(a,[_,d-_].concat($)),n}c(void 0===r)?o=1:(o=n,n=r,$=c(t.const_get_relative(ae,"Array")["$==="](n))?n.$to_a():c(n["$respond_to?"]("to_ary"))?n.$to_ary().$to_a():[n]);var f;if(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),o=t.const_get_relative(ae,"Opal").$coerce_to(o,t.const_get_relative(ae,"Integer"),"to_int"),e<0&&(f=e,e+=l,e<0&&a.$raise(t.const_get_relative(ae,"IndexError"),"index "+f+" too small for array; minimum "+-a.length)),o<0&&a.$raise(t.const_get_relative(ae,"IndexError"),"negative length ("+o+")"),e>l)for(i=l;i<e;i++)a[i]=s;return void 0===r?a[e]=n:a.splice.apply(a,[e,o].concat($)),n},q.$$arity=-3),t.defn(re,"$any?",C=function(){var e=this,n=C.$$p,r=s,i=s,a=s;for(n&&(C.$$p=null),i=0,a=arguments.length,r=new Array(a);i<a;i++)r[i]=arguments[i];return 0!==e.length&&_(e,t.find_super_dispatcher(e,"any?",C,!1),r,n)},C.$$arity=0),t.defn(re,"$assoc",N=function(t){for(var e,n=this,r=0,i=n.length;r<i;r++)if(e=n[r],e.length&&e[0]["$=="](t))return e;return s},N.$$arity=1),t.defn(re,"$at",z=function(e){var n=this;return e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),e<0&&(e+=n.length),e<0||e>=n.length?s:n[e]},z.$$arity=1),t.defn(re,"$bsearch_index",P=function(){var e=this,n=P.$$p,r=n||s;if(n&&(P.$$p=null),r===s)return e.$enum_for("bsearch_index");for(var i,a,$,o=0,l=e.length,c=!1,u=s;o<l;){if(i=o+Math.floor((l-o)/2),a=e[i],$=t.yield1(r,a),$===!0)u=i,c=!0;else if($===!1||$===s)c=!1;else if($.$$is_number){if(0===$)return i;c=$<0}else e.$raise(t.const_get_relative(ae,"TypeError"),"wrong argument type "+$.$class()+" (must be numeric, true, false or nil)");c?l=i:o=i+1}return u},P.$$arity=0),t.defn(re,"$bsearch",L=function(){var t=this,e=L.$$p,n=e||s,r=s;return e&&(L.$$p=null),n===s?t.$enum_for("bsearch"):(r=_(t,"bsearch_index",[],n.$to_proc()),null!=r&&r.$$is_number?t[r]:r)},L.$$arity=0),t.defn(re,"$cycle",D=function(r){var i,a,$=this,o=D.$$p,l=o||s;if(null==r&&(r=s),o&&(D.$$p=null),l===s)return _($,"enum_for",["cycle",r],(i=function(){var a=i.$$s||this;return r["$=="](s)?t.const_get_qualified(t.const_get_relative(ae,"Float"),"INFINITY"):(r=t.const_get_relative(ae,"Opal")["$coerce_to!"](r,t.const_get_relative(ae,"Integer"),"to_int"),c(e(r,0))?n(a.$enumerator_size(),r):0)},i.$$s=$,i.$$arity=0,i));if(c(c(a=$["$empty?"]())?a:r["$=="](0)))return s;var u,d,f;if(r===s)for(;;)for(u=0,d=$.length;u<d;u++)f=t.yield1(l,$[u]);else{if(r=t.const_get_relative(ae,"Opal")["$coerce_to!"](r,t.const_get_relative(ae,"Integer"),"to_int"),r<=0)return $;for(;r>0;){for(u=0,d=$.length;u<d;u++)f=t.yield1(l,$[u]);r--}}return $},D.$$arity=-1),t.defn(re,"$clear",B=function(){var t=this;return t.splice(0,t.length),t},B.$$arity=0),t.defn(re,"$count",j=function(e){var n,r=this,i=j.$$p,a=i||s,$=s,o=s,l=s;for(null==e&&(e=s),i&&(j.$$p=null),o=0,l=arguments.length,$=new Array(l);o<l;o++)$[o]=arguments[o];return c(c(n=e)?n:a)?_(r,t.find_super_dispatcher(r,"count",j,!1),$,i):r.$size()},j.$$arity=-1),t.defn(re,"$initialize_copy",U=function(t){var e=this;return e.$replace(t)},U.$$arity=1),t.defn(re,"$collect",F=function(){var e,n=this,r=F.$$p,i=r||s;if(r&&(F.$$p=null),i===s)return _(n,"enum_for",["collect"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e));for(var a=[],$=0,o=n.length;$<o;$++){var l=t.yield1(i,n[$]);a.push(l)}return a},F.$$arity=0),t.defn(re,"$collect!",H=function(){var e,n=this,r=H.$$p,i=r||s;if(r&&(H.$$p=null),i===s)return _(n,"enum_for",["collect!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e));for(var a=0,$=n.length;a<$;a++){var o=t.yield1(i,n[a]);n[a]=o}return n},H.$$arity=0),t.defn(re,"$combination",G=function(e){var n,r=this,i=G.$$p,a=i||s,$=s;if(i&&(G.$$p=null),$=t.const_get_relative(ae,"Opal")["$coerce_to!"](e,t.const_get_relative(ae,"Integer"),"to_int"),a===s)return _(r,"enum_for",["combination",$],(n=function(){var t=n.$$s||this;return m(t.length,$)},n.$$s=r,n.$$arity=0,n));var o,l,c,u,d,f,p;if(0===$)t.yield1(a,[]);else if(1===$)for(o=0,l=r.length;o<l;o++)t.yield1(a,[r[o]]);else if($===r.length)t.yield1(a,r.slice());else if($>=0&&$<r.length){for(c=[],o=0;o<=$+1;o++)c.push(0);for(u=[],d=0,f=!1,c[0]=-1;!f;){for(u[d]=r[c[d+1]];d<$-1;)d++,p=c[d+1]=c[d]+1,u[d]=r[p];t.yield1(a,u.slice()),d++;do f=0===d,c[d]++,d--;while(c[d+1]+$===r.length+d+1)}}return r},G.$$arity=1),t.defn(re,"$repeated_combination",Y=function(e){function n(e,r,i,a){if(i.length==e){var o=i.slice();return void t.yield1($,o)}for(var s=r;s<a.length;s++)i.push(a[s]),n(e,s,i,a),i.pop()}var r,i=this,a=Y.$$p,$=a||s,o=s;return a&&(Y.$$p=null),o=t.const_get_relative(ae,"Opal")["$coerce_to!"](e,t.const_get_relative(ae,"Integer"),"to_int"),$===s?_(i,"enum_for",["repeated_combination",o],(r=function(){var t=r.$$s||this;return m(t.length+o-1,o)},r.$$s=i,r.$$arity=0,r)):(o>=0&&n(o,0,[],i),i)},Y.$$arity=1),t.defn(re,"$compact",W=function(){for(var t,e=this,n=[],r=0,i=e.length;r<i;r++)(t=e[r])!==s&&n.push(t);return n},W.$$arity=0),t.defn(re,"$compact!",K=function(){for(var t=this,e=t.length,n=0,r=t.length;n<r;n++)t[n]===s&&(t.splice(n,1),r--,n--);return t.length===e?s:t},K.$$arity=0),t.defn(re,"$concat",X=function(e){var n=this;e=c(t.const_get_relative(ae,"Array")["$==="](e))?e.$to_a():t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Array"),"to_ary").$to_a();for(var r=0,i=e.length;r<i;r++)n.push(e[r]);return n},X.$$arity=1),t.defn(re,"$delete",V=function(e){var n=this,r=V.$$p,i=r||s;r&&(V.$$p=null);for(var a=n.length,$=0,o=a;$<o;$++)n[$]["$=="](e)&&(n.splice($,1),o--,$--);return n.length===a?i!==s?t.yieldX(i,[]):s:e},V.$$arity=1),t.defn(re,"$delete_at",J=function(e){var n=this;if(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),e<0&&(e+=n.length),e<0||e>=n.length)return s;var r=n[e];return n.splice(e,1),r},J.$$arity=1),t.defn(re,"$delete_if",Z=function(){var t,e=this,n=Z.$$p,r=n||s;if(n&&(Z.$$p=null),r===s)return _(e,"enum_for",["delete_if"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=0,$=e.length;a<$;a++)i=r(e[a]),i!==!1&&i!==s&&(e.splice(a,1),$--,a--);return e},Z.$$arity=0),t.defn(re,"$dig",Q=function(e,n){var r,i=this,a=s,$=arguments.length,o=$-1;o<0&&(o=0),r=new Array(o);for(var l=1;l<$;l++)r[l-1]=arguments[l];return a=i["$[]"](e),a===s||0===r.length?a:(c(a["$respond_to?"]("dig"))||i.$raise(t.const_get_relative(ae,"TypeError"),""+a.$class()+" does not have #dig method"),_(a,"dig",t.to_a(r)))},Q.$$arity=-2),t.defn(re,"$drop",tt=function(e){var n=this;return e<0&&n.$raise(t.const_get_relative(ae,"ArgumentError")),n.slice(e)},tt.$$arity=1),t.defn(re,"$dup",et=function(){var e=this,n=et.$$p,r=s,i=s,a=s;for(n&&(et.$$p=null),i=0,a=arguments.length,r=new Array(a);i<a;i++)r[i]=arguments[i];return e.$$class===t.Array&&e.$allocate.$$pristine&&e.$copy_instance_variables.$$pristine&&e.$initialize_dup.$$pristine?e.slice(0):_(e,t.find_super_dispatcher(e,"dup",et,!1),r,n)},et.$$arity=0),t.defn(re,"$each",nt=function(){var e,n=this,r=nt.$$p,i=r||s;if(r&&(nt.$$p=null),i===s)return _(n,"enum_for",["each"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e));for(var a=0,$=n.length;a<$;a++){t.yield1(i,n[a])}return n},nt.$$arity=0),t.defn(re,"$each_index",rt=function(){var e,n=this,r=rt.$$p,i=r||s;if(r&&(rt.$$p=null),i===s)return _(n,"enum_for",["each_index"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e));for(var a=0,$=n.length;a<$;a++){t.yield1(i,a)}return n},rt.$$arity=0),t.defn(re,"$empty?",it=function(){var t=this;return 0===t.length},it.$$arity=0),t.defn(re,"$eql?",at=function(t){function e(t,n){var i,a,$,o;if(!n.$$is_array)return!1;if(n=n.$to_a(),t.length!==n.length)return!1;for(r[t.$object_id()]=!0,i=0,a=t.length;i<a;i++)if($=t[i],o=n[i],$.$$is_array){if(o.$$is_array&&o.length!==$.length)return!1;if(!r.hasOwnProperty($.$object_id())&&!e($,o))return!1}else if(!$["$eql?"](o))return!1;return!0}var n=this,r={};return e(n,t)},at.$$arity=1),t.defn(re,"$fetch",$t=function(e,n){var r=this,i=$t.$$p,a=i||s;i&&($t.$$p=null);var $=e;return e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),e<0&&(e+=r.length),e>=0&&e<r.length?r[e]:a!==s?a($):null!=n?n:void(0===r.length?r.$raise(t.const_get_relative(ae,"IndexError"),"index "+$+" outside of array bounds: 0...0"):r.$raise(t.const_get_relative(ae,"IndexError"),"index "+$+" outside of array bounds: -"+r.length+"..."+r.length))},$t.$$arity=-2),t.defn(re,"$fill",ot=function(e){var n,r,i,a=this,$=ot.$$p,o=$||s,l=s,u=s,_=s,d=s,f=s,p=arguments.length,h=p-0;h<0&&(h=0),i=new Array(h);for(var g=0;g<p;g++)i[g-0]=arguments[g];$&&(ot.$$p=null);var v,m,y;if(c(o)?(c(i.length>2)&&a.$raise(t.const_get_relative(ae,"ArgumentError"),"wrong number of arguments ("+i.$length()+" for 0..2)"),r=i,n=t.to_ary(r),l=null==n[0]?s:n[0],u=null==n[1]?s:n[1],r):(c(0==i.length)?a.$raise(t.const_get_relative(ae,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):c(i.length>3)&&a.$raise(t.const_get_relative(ae,"ArgumentError"),"wrong number of arguments ("+i.$length()+" for 1..3)"),r=i,n=t.to_ary(r),_=null==n[0]?s:n[0],l=null==n[1]?s:n[1],u=null==n[2]?s:n[2],r),c(t.const_get_relative(ae,"Range")["$==="](l))){if(c(u)&&a.$raise(t.const_get_relative(ae,"TypeError"),"length invalid with range"),d=t.const_get_relative(ae,"Opal").$coerce_to(l.$begin(),t.const_get_relative(ae,"Integer"),"to_int"),c(d<0)&&(d+=a.length),c(d<0)&&a.$raise(t.const_get_relative(ae,"RangeError"),""+l.$inspect()+" out of range"),f=t.const_get_relative(ae,"Opal").$coerce_to(l.$end(),t.const_get_relative(ae,"Integer"),"to_int"),c(f<0)&&(f+=a.length),c(l["$exclude_end?"]())||(f+=1),c(f<=d))return a}else if(c(l))if(d=t.const_get_relative(ae,"Opal").$coerce_to(l,t.const_get_relative(ae,"Integer"),"to_int"),c(d<0)&&(d+=a.length),c(d<0)&&(d=0),c(u)){if(f=t.const_get_relative(ae,"Opal").$coerce_to(u,t.const_get_relative(ae,"Integer"),"to_int"),c(0==f))return a;f+=d}else f=a.length;else d=0,f=a.length;if(c(d>a.length))for(v=a.length;v<f;v++)a[v]=s;if(c(f>a.length)&&(a.length=f),c(o))for(m=a.length;d<f;d++)y=o(d),a[d]=y;else for(m=a.length;d<f;d++)a[d]=_;return a},ot.$$arity=-1),t.defn(re,"$first",st=function(e){var n=this;return null==e?0===n.length?s:n[0]:(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),e<0&&n.$raise(t.const_get_relative(ae,"ArgumentError"),"negative array size"),n.slice(0,e))},st.$$arity=-1),t.defn(re,"$flatten",lt=function(e){function n(e,i){var a,$,o,l,c=[];for(e=e.$to_a(),a=0,$=e.length;a<$;a++)if(o=e[a],t.const_get_relative(ae,"Opal")["$respond_to?"](o,"to_ary"))if(l=o.$to_ary(),l!==s)switch(l.$$is_array||r.$raise(t.const_get_relative(ae,"TypeError")),l===r&&r.$raise(t.const_get_relative(ae,"ArgumentError")),i){case void 0:c=c.concat(n(l));break;case 0:c.push(l);break;default:c.push.apply(c,n(l,i-1))}else c.push(o);else c.push(o);return c}var r=this;return void 0!==e&&(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int")),h(n(r,e),r.$class())},lt.$$arity=-1),t.defn(re,"$flatten!",ct=function(t){var e=this,n=e.$flatten(t);if(e.length==n.length){for(var r=0,i=e.length;r<i&&e[r]===n[r];r++);if(r==i)return s}return e.$replace(n),e},ct.$$arity=-1),t.defn(re,"$hash",ut=function(){var e,n,r,i=this,a=void 0===t.hash_ids,$=["A"],o=i.$object_id();try{if(a&&(t.hash_ids=Object.create(null)),t.hash_ids[o])return"self";for(r in t.hash_ids)if(e=t.hash_ids[r],i["$eql?"](e))return"self";for(t.hash_ids[o]=i,n=0;n<i.length;n++)e=i[n],$.push(e.$hash());return $.join(",")}finally{a&&(t.hash_ids=void 0)}},ut.$$arity=0),t.defn(re,"$include?",_t=function(t){for(var e=this,n=0,r=e.length;n<r;n++)if(e[n]["$=="](t))return!0;return!1},_t.$$arity=1),t.defn(re,"$index",dt=function(t){var e=this,n=dt.$$p,r=n||s;n&&(dt.$$p=null);var i,a,$;if(null!=t){for(i=0,a=e.length;i<a;i++)if(e[i]["$=="](t))return i}else{if(r===s)return e.$enum_for("index");for(i=0,a=e.length;i<a;i++)if($=r(e[i]),$!==!1&&$!==s)return i}return s},dt.$$arity=-1),t.defn(re,"$insert",ft=function(e,n){var r,i=this,a=arguments.length,$=a-1;$<0&&($=0),r=new Array($);for(var o=1;o<a;o++)r[o-1]=arguments[o];if(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),r.length>0){if(e<0&&(e+=i.length+1,e<0&&i.$raise(t.const_get_relative(ae,"IndexError"),""+e+" is out of bounds")),e>i.length)for(var l=i.length;l<e;l++)i.push(s);i.splice.apply(i,[e,0].concat(r))}return i},ft.$$arity=-2),t.defn(re,"$inspect",pt=function(){for(var t=this,e=[],n=t.$__id__(),r=0,i=t.length;r<i;r++){var a=t["$[]"](r);a.$__id__()===n?e.push("[...]"):e.push(a.$inspect())}return"["+e.join(", ")+"]"},pt.$$arity=0),t.defn(re,"$join",ht=function(e){var n=this;if(null==d[","]&&(d[","]=s),null==e&&(e=s),c(0===n.length))return"";c(e===s)&&(e=d[","]);var r,i,a,$,o=[];for(r=0,i=n.length;r<i;r++)a=n[r],t.const_get_relative(ae,"Opal")["$respond_to?"](a,"to_str")&&($=a.$to_str(),$!==s)?o.push($.$to_s()):t.const_get_relative(ae,"Opal")["$respond_to?"](a,"to_ary")&&($=a.$to_ary(),$===n&&n.$raise(t.const_get_relative(ae,"ArgumentError")),$!==s)?o.push($.$join(e)):t.const_get_relative(ae,"Opal")["$respond_to?"](a,"to_s")&&($=a.$to_s(),$!==s)?o.push($):n.$raise(t.const_get_relative(ae,"NoMethodError").$new(""+t.inspect(a)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return e===s?o.join(""):o.join(t.const_get_relative(ae,"Opal")["$coerce_to!"](e,t.const_get_relative(ae,"String"),"to_str").$to_s())},ht.$$arity=-1),t.defn(re,"$keep_if",gt=function(){var t,e=this,n=gt.$$p,r=n||s;if(n&&(gt.$$p=null),r===s)return _(e,"enum_for",["keep_if"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=0,$=e.length;a<$;a++)i=r(e[a]),i!==!1&&i!==s||(e.splice(a,1),$--,a--);return e},gt.$$arity=0),t.defn(re,"$last",vt=function(e){var n=this;return null==e?0===n.length?s:n[n.length-1]:(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),e<0&&n.$raise(t.const_get_relative(ae,"ArgumentError"),"negative array size"),e>n.length&&(e=n.length),n.slice(n.length-e,n.length))},vt.$$arity=-1),t.defn(re,"$length",mt=function(){var t=this;return t.length},mt.$$arity=0),t.alias(re,"map","collect"),t.alias(re,"map!","collect!"),t.defn(re,"$permutation",yt=function(e){var n,r=this,i=yt.$$p,a=i||s,$=s,o=s;if(i&&(yt.$$p=null),a===s)return _(r,"enum_for",["permutation",e],(n=function(){var t=n.$$s||this;return y(t.length,void 0===e?t.length:e)},n.$$s=r,n.$$arity=0,n));var l,c,u;if(e=void 0===e?r.length:t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),e<0||r.length<e);else if(0===e)t.yield1(a,[]);else if(1===e)for(var d=0;d<r.length;d++)t.yield1(a,[r[d]]);else $=t.const_get_relative(ae,"Array").$new(e),o=t.const_get_relative(ae,"Array").$new(r.length,!1),l=function(e,n,i,a,$){r=this;for(var o=0;o<r.length;o++)if(a["$[]"](o)["$!"]())if(n[i]=o,i<e-1)a[o]=!0,l.call(r,e,n,i+1,a,$),a[o]=!1;else{u=[];for(var s=0;s<n.length;s++)u.push(r[n[s]]);t.yield1($,u)}},a!==s?(c=r.slice(),l.call(c,e,$,0,o,a)):l.call(r,e,$,0,o,a);return r},yt.$$arity=-1),t.defn(re,"$repeated_permutation",bt=function(e){function n(e,r,i){if(r.length==e){var a=r.slice();return void t.yield1(o,a)}for(var $=0;$<i.length;$++)r.push(i[$]),n(e,r,i),r.pop()}var i,a=this,$=bt.$$p,o=$||s,l=s;return $&&(bt.$$p=null),l=t.const_get_relative(ae,"Opal")["$coerce_to!"](e,t.const_get_relative(ae,"Integer"),"to_int"),o===s?_(a,"enum_for",["repeated_permutation",l],(i=function(){var t=i.$$s||this;return c(r(l,0))?t.$size()["$**"](l):0},i.$$s=a,i.$$arity=0,i)):(n(l,[],a.slice()),a)},bt.$$arity=1),t.defn(re,"$pop",kt=function(e){var n=this;return c(void 0===e)?c(0===n.length)?s:n.pop():(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),c(e<0)&&n.$raise(t.const_get_relative(ae,"ArgumentError"),"negative array size"),c(0===n.length)?[]:c(e>n.length)?n.splice(0,n.length):n.splice(n.length-e,n.length))},kt.$$arity=-1),t.defn(re,"$product",wt=function(e){var n,r=this,i=wt.$$p,a=i||s,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var l=0;l<$;l++)n[l-0]=arguments[l];i&&(wt.$$p=null);var c,u,_,d,f=a!==s?null:[],p=n.length+1,h=new Array(p),g=new Array(p),v=new Array(p),m=1;for(v[0]=r,c=1;c<p;c++)v[c]=t.const_get_relative(ae,"Opal").$coerce_to(n[c-1],t.const_get_relative(ae,"Array"),"to_ary");for(c=0;c<p;c++){if(d=v[c].length,0===d)return f||r;m*=d,m>2147483647&&r.$raise(t.const_get_relative(ae,"RangeError"),"too big to product"),g[c]=d,h[c]=0}t:for(;;){for(_=[],c=0;c<p;c++)_.push(v[c][h[c]]);for(f?f.push(_):t.yield1(a,_),u=p-1,h[u]++;h[u]===g[u];){if(h[u]=0,--u<0)break t;h[u]++}}return f||r},wt.$$arity=-1),t.defn(re,"$push",xt=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];for(var $=0,o=e.length;$<o;$++)n.push(e[$]);return n},xt.$$arity=-1),t.defn(re,"$rassoc",Et=function(t){for(var e,n=this,r=0,i=n.length;r<i;r++)if(e=n[r],e.length&&void 0!==e[1]&&e[1]["$=="](t))return e;return s},Et.$$arity=1),t.defn(re,"$reject",Ot=function(){var t,e=this,n=Ot.$$p,r=n||s;if(n&&(Ot.$$p=null),r===s)return _(e,"enum_for",["reject"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=[],$=0,o=e.length;$<o;$++)i=r(e[$]),i!==!1&&i!==s||a.push(e[$]);return a},Ot.$$arity=0),t.defn(re,"$reject!",At=function(){var t,e=this,n=At.$$p,r=n||s,i=s;return n&&(At.$$p=null),r===s?_(e,"enum_for",["reject!"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t)):(i=e.$length(),_(e,"delete_if",[],r.$to_proc()),e.$length()["$=="](i)?s:e)},At.$$arity=0),t.defn(re,"$replace",St=function(e){var n=this;return e=c(t.const_get_relative(ae,"Array")["$==="](e))?e.$to_a():t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Array"),"to_ary").$to_a(),n.splice(0,n.length),n.push.apply(n,e),n},St.$$arity=1),t.defn(re,"$reverse",Rt=function(){var t=this;return t.slice(0).reverse()},Rt.$$arity=0),t.defn(re,"$reverse!",Mt=function(){var t=this;return t.reverse()},Mt.$$arity=0),t.defn(re,"$reverse_each",Tt=function(){var t,e=this,n=Tt.$$p,r=n||s;return n&&(Tt.$$p=null),r===s?_(e,"enum_for",["reverse_each"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t)):(_(e.$reverse(),"each",[],r.$to_proc()),e)},Tt.$$arity=0),t.defn(re,"$rindex",It=function(t){var e=this,n=It.$$p,r=n||s;n&&(It.$$p=null);var i,a;if(null!=t){for(i=e.length-1;i>=0&&!(i>=e.length);i--)if(e[i]["$=="](t))return i}else if(r!==s){for(i=e.length-1;i>=0&&!(i>=e.length);i--)if(a=r(e[i]),a!==!1&&a!==s)return i}else if(null==t)return e.$enum_for("rindex");return s},It.$$arity=-1),t.defn(re,"$rotate",qt=function(e){var n=this;null==e&&(e=1),e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int");var r,i,a,$;return 1===n.length?n.slice():0===n.length?[]:(r=n.slice(),i=e%r.length,a=r.slice(i),$=r.slice(0,i),a.concat($))},qt.$$arity=-1),t.defn(re,"$rotate!",Ct=function(e){var n=this,r=s;return null==e&&(e=1),0===n.length||1===n.length?n:(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),r=n.$rotate(e),n.$replace(r))},Ct.$$arity=-1),function(e,n,r){function i(){}var a,$,o=i=l(e,n,"SampleRandom",i),u=o.$$proto,_=[o].concat(r);return u.rng=s,t.defn(o,"$initialize",a=function(t){var e=this;return e.rng=t},a.$$arity=1),t.defn(o,"$rand",$=function(e){var n=this,r=s;return r=t.const_get_relative(_,"Opal").$coerce_to(n.rng.$rand(e),t.const_get_relative(_,"Integer"),"to_int"),c(r<0)&&n.$raise(t.const_get_relative(_,"RangeError"),"random value must be >= 0"),c(r<e)||n.$raise(t.const_get_relative(_,"RangeError"),"random value must be less than Array size"),r},$.$$arity=1),s&&"rand"}(ae[0],null,ae),t.defn(re,"$sample",Nt=function(e,n){var r,i=this,a=s,$=s;if(c(void 0===e))return i.$at(t.const_get_relative(ae,"Kernel").$rand(i.length));if(c(void 0===n)?c(a=t.const_get_relative(ae,"Opal")["$coerce_to?"](e,t.const_get_relative(ae,"Hash"),"to_hash"))?(n=a,e=s):(n=s,e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int")):(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),n=t.const_get_relative(ae,"Opal").$coerce_to(n,t.const_get_relative(ae,"Hash"),"to_hash")),c(c(r=e)?e<0:r)&&i.$raise(t.const_get_relative(ae,"ArgumentError"),"count must be greater than 0"),c(n)&&($=n["$[]"]("random")),$=c(c(r=$)?$["$respond_to?"]("rand"):r)?t.const_get_relative(ae,"SampleRandom").$new($):t.const_get_relative(ae,"Kernel"),!c(e))return i[$.$rand(i.length)];var o,l,u,_,d,f,p,h;switch(e>i.length&&(e=i.length),e){case 0:return[];case 1:return[i[$.$rand(i.length)]];case 2:return _=$.$rand(i.length),d=$.$rand(i.length),_===d&&(d=0===_?_+1:_-1),[i[_],i[d]];default:if(i.length/e>3){for(o=!1,l=0,u=t.const_get_relative(ae,"Array").$new(e),_=1,u[0]=$.$rand(i.length);_<e;){for(f=$.$rand(i.length),d=0;d<_;){for(;f===u[d];){if(l++,l>100){o=!0;break}f=$.$rand(i.length)}if(o)break;d++}if(o)break;u[_]=f,_++}if(!o){for(_=0;_<e;)u[_]=i[u[_]],_++;return u}}u=i.slice();for(var g=0;g<e;g++)p=$.$rand(i.length),h=u[g],u[g]=u[p],u[p]=h;return e===i.length?u:u["$[]"](0,e)}},Nt.$$arity=-1),t.defn(re,"$select",zt=function(){var e,n=this,r=zt.$$p,i=r||s;if(r&&(zt.$$p=null),i===s)return _(n,"enum_for",["select"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e));for(var a,$,o=[],l=0,c=n.length;l<c;l++)a=n[l],$=t.yield1(i,a),$!==!1&&$!==s&&o.push(a);return o},zt.$$arity=0),t.defn(re,"$select!",Pt=function(){var t,e=this,n=Pt.$$p,r=n||s;if(n&&(Pt.$$p=null),r===s)return _(e,"enum_for",["select!"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));var i=e.length;return _(e,"keep_if",[],r.$to_proc()),e.length===i?s:e},Pt.$$arity=0),t.defn(re,"$shift",Lt=function(e){var n=this;return c(void 0===e)?c(0===n.length)?s:n.shift():(e=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),c(e<0)&&n.$raise(t.const_get_relative(ae,"ArgumentError"),"negative array size"),c(0===n.length)?[]:n.splice(0,e))},Lt.$$arity=-1),t.alias(re,"size","length"),t.defn(re,"$shuffle",Dt=function(t){var e=this;return e.$dup().$to_a()["$shuffle!"](t)},Dt.$$arity=-1),t.defn(re,"$shuffle!",Bt=function(e){var n,r,i,a=this,$=a.length;for(void 0!==e&&(e=t.const_get_relative(ae,"Opal")["$coerce_to?"](e,t.const_get_relative(ae,"Hash"),"to_hash"),e!==s&&(e=e["$[]"]("random"),e!==s&&e["$respond_to?"]("rand")&&(n=e)));$;)n?(r=n.$rand($).$to_int(),r<0&&a.$raise(t.const_get_relative(ae,"RangeError"),"random number too small "+r),r>=$&&a.$raise(t.const_get_relative(ae,"RangeError"),"random number too big "+r)):r=a.$rand($),i=a[--$],a[$]=a[r],a[r]=i;return a},Bt.$$arity=-1),t.alias(re,"slice","[]"),t.defn(re,"$slice!",jt=function(e,n){var r=this,i=s,a=s,$=s,o=s,l=s;if(i=s,c(void 0===n))if(c(t.const_get_relative(ae,"Range")["$==="](e))){a=e,i=r["$[]"](a),$=t.const_get_relative(ae,"Opal").$coerce_to(a.$begin(),t.const_get_relative(ae,"Integer"),"to_int"),o=t.const_get_relative(ae,"Opal").$coerce_to(a.$end(),t.const_get_relative(ae,"Integer"),"to_int"),$<0&&($+=r.length),o<0?o+=r.length:o>=r.length&&(o=r.length-1,a.exclude&&(o+=1));var u=o-$;a.exclude?o-=1:u+=1,$<r.length&&$>=0&&o<r.length&&o>=0&&u>0&&r.splice($,u)}else{if(l=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),l<0&&(l+=r.length),l<0||l>=r.length)return s;i=r[l],0===l?r.shift():r.splice(l,1)}else{if(l=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),n=t.const_get_relative(ae,"Opal").$coerce_to(n,t.const_get_relative(ae,"Integer"),"to_int"),n<0)return s;i=r["$[]"](l,n),l<0&&(l+=r.length),l+n>r.length&&(n=r.length-l),l<r.length&&l>=0&&r.splice(l,n)}return i},jt.$$arity=-2),t.defn(re,"$sort",Ut=function(){var n=this,r=Ut.$$p,a=r||s;return r&&(Ut.$$p=null),c(n.length>1)?(a===s&&(a=function(t,e){return t["$<=>"](e)}),n.slice().sort(function(r,$){var o=a(r,$);return o===s&&n.$raise(t.const_get_relative(ae,"ArgumentError"),"comparison of "+r.$inspect()+" with "+$.$inspect()+" failed"),e(o,0)?1:i(o,0)?-1:0})):n},Ut.$$arity=0),t.defn(re,"$sort!",Ft=function(){var t=this,e=Ft.$$p,n=e||s;e&&(Ft.$$p=null);var r;r=n!==s?_(t.slice(),"sort",[],n.$to_proc()):t.slice().$sort(),t.length=0;for(var i=0,a=r.length;i<a;i++)t.push(r[i]);return t},Ft.$$arity=0),t.defn(re,"$sort_by!",Ht=function(){var t,e=this,n=Ht.$$p,r=n||s;return n&&(Ht.$$p=null),r===s?_(e,"enum_for",["sort_by!"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t)):e.$replace(_(e,"sort_by",[],r.$to_proc()))},Ht.$$arity=0),t.defn(re,"$take",Gt=function(e){var n=this;return e<0&&n.$raise(t.const_get_relative(ae,"ArgumentError")),n.slice(0,e)},Gt.$$arity=1),t.defn(re,"$take_while",Yt=function(){var t=this,e=Yt.$$p,n=e||s;e&&(Yt.$$p=null);for(var r,i,a=[],$=0,o=t.length;$<o;$++){if(r=t[$],i=n(r),i===!1||i===s)return a;a.push(r)}return a},Yt.$$arity=0),t.defn(re,"$to_a",Wt=function(){var t=this;return t},Wt.$$arity=0),t.alias(re,"to_ary","to_a"),t.defn(re,"$to_h",Kt=function(){var e,n,r,i,a=this,$=a.length,o=u([],{});for(e=0;e<$;e++)n=t.const_get_relative(ae,"Opal")["$coerce_to?"](a[e],t.const_get_relative(ae,"Array"),"to_ary"),n.$$is_array||a.$raise(t.const_get_relative(ae,"TypeError"),"wrong element type "+n.$class()+" at "+e+" (expected array)"),2!==n.length&&a.$raise(t.const_get_relative(ae,"ArgumentError"),"wrong array length at "+e+" (expected 2, was "+n.$length()+")"),r=n[0],i=n[1],t.hash_put(o,r,i);return o},Kt.$$arity=0),t.alias(re,"to_s","inspect"),t.defn(re,"$transpose",Xt=function(){var e,n=this,r=s,i=s;return c(n["$empty?"]())?[]:(r=[],i=s,_(n,"each",[],(e=function(n){var $,o,l=e.$$s||this;return null==n&&(n=s),n=c(t.const_get_relative(ae,"Array")["$==="](n))?n.$to_a():t.const_get_relative(ae,"Opal").$coerce_to(n,t.const_get_relative(ae,"Array"),"to_ary").$to_a(),i=c($=i)?$:n.length,c(n.length["$!="](i))&&l.$raise(t.const_get_relative(ae,"IndexError"),"element size differs ("+n.length+" should be "+i),_(n.length,"times",[],(o=function(e){var i,$=(o.$$s||this,s),l=s;return null==e&&(e=s),$=c(i=r["$[]"](e))?i:(l=[e,[]],_(r,"[]=",t.to_a(l)),
l[a(l.length,1)]),$["$<<"](n.$at(e))},o.$$s=l,o.$$arity=1,o))},e.$$s=n,e.$$arity=1,e)),r)},Xt.$$arity=0),t.defn(re,"$uniq",Vt=function(){var e=this,n=Vt.$$p,r=n||s;n&&(Vt.$$p=null);var i,a,$,o,l=u([],{});if(r===s)for(i=0,a=e.length;i<a;i++)$=e[i],void 0===t.hash_get(l,$)&&t.hash_put(l,$,$);else for(i=0,a=e.length;i<a;i++)$=e[i],o=t.yield1(r,$),void 0===t.hash_get(l,o)&&t.hash_put(l,o,$);return h(l.$values(),e.$class())},Vt.$$arity=0),t.defn(re,"$uniq!",Jt=function(){var e=this,n=Jt.$$p,r=n||s;n&&(Jt.$$p=null);var i,a,$,o,l=e.length,c=u([],{});for(i=0,a=l;i<a;i++)$=e[i],o=r===s?$:t.yield1(r,$),void 0!==t.hash_get(c,o)?(e.splice(i,1),a--,i--):t.hash_put(c,o,$);return e.length===l?s:e},Jt.$$arity=0),t.defn(re,"$unshift",Zt=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];for(var $=e.length-1;$>=0;$--)n.unshift(e[$]);return n},Zt.$$arity=-1),t.defn(re,"$values_at",Qt=function(e){var n,r,i=this,a=s,$=arguments.length,o=$-0;o<0&&(o=0),r=new Array(o);for(var l=0;l<$;l++)r[l-0]=arguments[l];return a=[],_(r,"each",[],(n=function(e){var r,i=n.$$s||this,$=s,o=s,l=s;return null==e&&(e=s),c(e["$kind_of?"](t.const_get_relative(ae,"Range")))?($=t.const_get_relative(ae,"Opal").$coerce_to(e.$last(),t.const_get_relative(ae,"Integer"),"to_int"),o=t.const_get_relative(ae,"Opal").$coerce_to(e.$first(),t.const_get_relative(ae,"Integer"),"to_int"),o<0?(o+=i.length,s):($<0&&($+=i.length),e["$exclude_end?"]()&&$--,$<o?s:_(o,"upto",[$],(r=function(t){var e=r.$$s||this;return null==t&&(t=s),a["$<<"](e.$at(t))},r.$$s=i,r.$$arity=1,r)))):(l=t.const_get_relative(ae,"Opal").$coerce_to(e,t.const_get_relative(ae,"Integer"),"to_int"),a["$<<"](i.$at(l)))},n.$$s=i,n.$$arity=1,n)),a},Qt.$$arity=-1),t.defn(re,"$zip",te=function(e){var n,r,i=this,a=te.$$p,$=a||s,o=arguments.length,l=o-0;l<0&&(l=0),r=new Array(l);for(var u=0;u<o;u++)r[u-0]=arguments[u];a&&(te.$$p=null);var _,d,f,p,h,g=[],v=i.length;for(p=0,h=r.length;p<h;p++)d=r[p],d.$$is_array||(d.$$is_enumerator?d.$size()===1/0?r[p]=d.$take(v):r[p]=d.$to_a():r[p]=(c(n=t.const_get_relative(ae,"Opal")["$coerce_to?"](d,t.const_get_relative(ae,"Array"),"to_ary"))?n:t.const_get_relative(ae,"Opal")["$coerce_to!"](d,t.const_get_relative(ae,"Enumerator"),"each")).$to_a());for(f=0;f<v;f++){for(_=[i[f]],p=0,h=r.length;p<h;p++)d=r[p][f],null==d&&(d=s),_[p+1]=d;g[f]=_}if($!==s){for(f=0;f<v;f++)$(g[f]);return s}return g},te.$$arity=-1),t.defs(re,"$inherited",ee=function(t){t.$$proto.$to_a=function(){return this.slice(0,this.length)}},ee.$$arity=1),t.defn(re,"$instance_variables",ne=function(){var e,n=this,r=ne.$$p,i=s,a=s,$=s;for(r&&(ne.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return _(_(n,t.find_super_dispatcher(n,"instance_variables",ne,!1),i,r),"reject",[],(e=function(t){var n;e.$$s||this;return null==t&&(t=s),c(n=/^@\d+$/.test(t))?n:t["$=="]("@length")},e.$$s=n,e.$$arity=1,e))},ne.$$arity=0),t.const_get_relative(ae,"Opal").$pristine(re,"allocate","copy_instance_variables","initialize_dup")}(o[0],Array,o)},Opal.modules["corelib/hash"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var i=t.top,a=[],$=t.nil,o=(t.breaker,t.slice,t.klass),s=t.send,l=t.hash2,c=t.truthy;return t.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$compare_by_identity","$lambda?","$abs","$arity","$call","$enum_for","$size","$respond_to?","$class","$dig","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$alias_method","$proc"]),i.$require("corelib/enumerable"),function(i,a,u){function _(){}var d,f,p,h,g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P,L,D,B,j,U,F,H,G,Y,W,K,X,V,J,Z,Q,tt,et,nt,rt,it,at,$t,ot,st,lt,ct,ut,_t,dt,ft=_=o(i,a,"Hash",_),pt=ft.$$proto,ht=[ft].concat(u);ft.$include(t.const_get_relative(ht,"Enumerable")),pt.$$is_hash=!0,t.defs(ft,"$[]",d=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var o=0;o<i;o++)n[o-0]=arguments[o];var s,l,c=n.length;if(1===c){if(s=t.const_get_relative(ht,"Opal")["$coerce_to?"](n["$[]"](0),t.const_get_relative(ht,"Hash"),"to_hash"),s!==$)return r.$allocate()["$merge!"](s);for(n=t.const_get_relative(ht,"Opal")["$coerce_to?"](n["$[]"](0),t.const_get_relative(ht,"Array"),"to_ary"),n===$&&r.$raise(t.const_get_relative(ht,"ArgumentError"),"odd number of arguments for Hash"),c=n.length,s=r.$allocate(),l=0;l<c;l++)if(n[l].$$is_array)switch(n[l].length){case 1:s.$store(n[l][0],$);break;case 2:s.$store(n[l][0],n[l][1]);break;default:r.$raise(t.const_get_relative(ht,"ArgumentError"),"invalid number of elements ("+n[l].length+" for 1..2)")}return s}for(c%2!==0&&r.$raise(t.const_get_relative(ht,"ArgumentError"),"odd number of arguments for Hash"),s=r.$allocate(),l=0;l<c;l+=2)s.$store(n[l],n[l+1]);return s},d.$$arity=-1),t.defs(ft,"$allocate",f=function(){var e=this,n=new e.$$alloc;return t.hash_init(n),n.$$none=$,n.$$proc=$,n},f.$$arity=0),t.defs(ft,"$try_convert",p=function(e){return t.const_get_relative(ht,"Opal")["$coerce_to?"](e,t.const_get_relative(ht,"Hash"),"to_hash")},p.$$arity=1),t.defn(ft,"$initialize",h=function(e){var n=this,r=h.$$p,i=r||$;return r&&(h.$$p=null),void 0!==e&&i!==$&&n.$raise(t.const_get_relative(ht,"ArgumentError"),"wrong number of arguments (1 for 0)"),n.$$none=void 0===e?$:e,n.$$proc=i,n},h.$$arity=-1),t.defn(ft,"$==",g=function(e){var n=this;if(n===e)return!0;if(!e.$$is_hash)return!1;if(n.$$keys.length!==e.$$keys.length)return!1;for(var r,i,a,$=0,o=n.$$keys,s=o.length;$<s;$++)if(r=o[$],r.$$is_string?(i=n.$$smap[r],a=e.$$smap[r]):(i=r.value,a=t.hash_get(e,r.key)),void 0===a||!i["$eql?"](a))return!1;return!0},g.$$arity=1),t.defn(ft,"$>=",v=function(e){var n,r=this,i=$;return e=t.const_get_relative(ht,"Opal")["$coerce_to!"](e,t.const_get_relative(ht,"Hash"),"to_hash"),!(r.$$keys.length<e.$$keys.length)&&(i=!0,s(e,"each",[],(n=function(t,e){var r=n.$$s||this,a=$;if(null==t&&(t=$),null==e&&(e=$),a=r.$fetch(t,null),null==a||a!==e)return void(i=!1)},n.$$s=r,n.$$arity=2,n)),i)},v.$$arity=1),t.defn(ft,"$>",m=function(n){var r=this;return n=t.const_get_relative(ht,"Opal")["$coerce_to!"](n,t.const_get_relative(ht,"Hash"),"to_hash"),!(r.$$keys.length<=n.$$keys.length)&&e(r,n)},m.$$arity=1),t.defn(ft,"$<",y=function(e){var r=this;return e=t.const_get_relative(ht,"Opal")["$coerce_to!"](e,t.const_get_relative(ht,"Hash"),"to_hash"),n(e,r)},y.$$arity=1),t.defn(ft,"$<=",b=function(n){var r=this;return n=t.const_get_relative(ht,"Opal")["$coerce_to!"](n,t.const_get_relative(ht,"Hash"),"to_hash"),e(n,r)},b.$$arity=1),t.defn(ft,"$[]",k=function(e){var n=this,r=t.hash_get(n,e);return void 0!==r?r:n.$default(e)},k.$$arity=1),t.defn(ft,"$[]=",w=function(e,n){var r=this;return t.hash_put(r,e,n),n},w.$$arity=2),t.defn(ft,"$assoc",x=function(t){for(var e,n=this,r=0,i=n.$$keys,a=i.length;r<a;r++)if(e=i[r],e.$$is_string){if(e["$=="](t))return[e,n.$$smap[e]]}else if(e.key["$=="](t))return[e.key,e.value];return $},x.$$arity=1),t.defn(ft,"$clear",E=function(){var e=this;return t.hash_init(e),e},E.$$arity=0),t.defn(ft,"$clone",O=function(){var e=this,n=new e.$$class.$$alloc;return t.hash_init(n),t.hash_clone(e,n),n},O.$$arity=0),t.defn(ft,"$compare_by_identity",A=function(){var e,n,r,i,a=this,$=a.$$keys;if(a.$$by_identity)return a;if(0===a.$$keys.length)return a.$$by_identity=!0,a;for(i=l([],{}).$compare_by_identity(),e=0,n=$.length;e<n;e++)r=$[e],r.$$is_string||(r=r.key),t.hash_put(i,r,t.hash_get(a,r));return a.$$by_identity=!0,a.$$map=i.$$map,a.$$smap=i.$$smap,a},A.$$arity=0),t.defn(ft,"$compare_by_identity?",S=function(){var t=this;return t.$$by_identity===!0},S.$$arity=0),t.defn(ft,"$default",R=function(t){var e=this;return void 0!==t&&e.$$proc!==$&&void 0!==e.$$proc?e.$$proc.$call(e,t):void 0===e.$$none?$:e.$$none},R.$$arity=-1),t.defn(ft,"$default=",M=function(t){var e=this;return e.$$proc=$,e.$$none=t,t},M.$$arity=1),t.defn(ft,"$default_proc",T=function(){var t=this;return void 0!==t.$$proc?t.$$proc:$},T.$$arity=0),t.defn(ft,"$default_proc=",I=function(e){var n=this,r=e;return r!==$&&(r=t.const_get_relative(ht,"Opal")["$coerce_to!"](r,t.const_get_relative(ht,"Proc"),"to_proc"),r["$lambda?"]()&&2!==r.$arity().$abs()&&n.$raise(t.const_get_relative(ht,"TypeError"),"default_proc takes two arguments")),n.$$none=$,n.$$proc=r,e},I.$$arity=1),t.defn(ft,"$delete",q=function(e){var n=this,r=q.$$p,i=r||$;r&&(q.$$p=null);var a=t.hash_delete(n,e);return void 0!==a?a:i!==$?i.$call(e):$},q.$$arity=1),t.defn(ft,"$delete_if",C=function(){var e,n=this,r=C.$$p,i=r||$;if(r&&(C.$$p=null),!c(i))return s(n,"enum_for",["delete_if"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e));for(var a,o,l,u=0,_=n.$$keys,d=_.length;u<d;u++)a=_[u],a.$$is_string?o=n.$$smap[a]:(o=a.value,a=a.key),l=i(a,o),l!==!1&&l!==$&&void 0!==t.hash_delete(n,a)&&(d--,u--);return n},C.$$arity=0),t.alias(ft,"dup","clone"),t.defn(ft,"$dig",N=function(e,n){var r,i=this,a=$,o=arguments.length,l=o-1;l<0&&(l=0),r=new Array(l);for(var u=1;u<o;u++)r[u-1]=arguments[u];return a=i["$[]"](e),a===$||0===r.length?a:(c(a["$respond_to?"]("dig"))||i.$raise(t.const_get_relative(ht,"TypeError"),""+a.$class()+" does not have #dig method"),s(a,"dig",t.to_a(r)))},N.$$arity=-2),t.defn(ft,"$each",z=function(){var e,n=this,r=z.$$p,i=r||$;if(r&&(z.$$p=null),!c(i))return s(n,"enum_for",["each"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e));for(var a,o,l=0,u=n.$$keys,_=u.length;l<_;l++)a=u[l],a.$$is_string?o=n.$$smap[a]:(o=a.value,a=a.key),t.yield1(i,[a,o]);return n},z.$$arity=0),t.defn(ft,"$each_key",P=function(){var t,e=this,n=P.$$p,r=n||$;if(n&&(P.$$p=null),!c(r))return s(e,"enum_for",["each_key"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=0,o=e.$$keys,l=o.length;a<l;a++)i=o[a],r(i.$$is_string?i:i.key);return e},P.$$arity=0),t.alias(ft,"each_pair","each"),t.defn(ft,"$each_value",L=function(){var t,e=this,n=L.$$p,r=n||$;if(n&&(L.$$p=null),!c(r))return s(e,"enum_for",["each_value"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=0,o=e.$$keys,l=o.length;a<l;a++)i=o[a],r(i.$$is_string?e.$$smap[i]:i.value);return e},L.$$arity=0),t.defn(ft,"$empty?",D=function(){var t=this;return 0===t.$$keys.length},D.$$arity=0),t.alias(ft,"eql?","=="),t.defn(ft,"$fetch",B=function(e,n){var r=this,i=B.$$p,a=i||$;i&&(B.$$p=null);var o=t.hash_get(r,e);return void 0!==o?o:a!==$?a(e):void 0!==n?n:r.$raise(t.const_get_relative(ht,"KeyError"),"key not found: "+e.$inspect())},B.$$arity=-2),t.defn(ft,"$fetch_values",j=function(t){var e,n,r=this,i=j.$$p,a=i||$,o=arguments.length,l=o-0;l<0&&(l=0),n=new Array(l);for(var c=0;c<o;c++)n[c-0]=arguments[c];return i&&(j.$$p=null),s(n,"map",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=$),s(n,"fetch",[t],a.$to_proc())},e.$$s=r,e.$$arity=1,e))},j.$$arity=-1),t.defn(ft,"$flatten",U=function(e){var n=this;null==e&&(e=1),e=t.const_get_relative(ht,"Opal")["$coerce_to!"](e,t.const_get_relative(ht,"Integer"),"to_int");for(var r,i,a=[],$=0,o=n.$$keys,s=o.length;$<s;$++)if(r=o[$],r.$$is_string?i=n.$$smap[r]:(i=r.value,r=r.key),a.push(r),i.$$is_array){if(1===e){a.push(i);continue}a=a.concat(i.$flatten(e-2))}else a.push(i);return a},U.$$arity=-1),t.defn(ft,"$has_key?",F=function(e){var n=this;return void 0!==t.hash_get(n,e)},F.$$arity=1),t.defn(ft,"$has_value?",H=function(t){for(var e,n=this,r=0,i=n.$$keys,a=i.length;r<a;r++)if(e=i[r],(e.$$is_string?n.$$smap[e]:e.value)["$=="](t))return!0;return!1},H.$$arity=1),t.defn(ft,"$hash",G=function(){var e,n,r=this,i=void 0===t.hash_ids,a=r.$object_id(),$=["Hash"];try{if(i&&(t.hash_ids=Object.create(null)),t[a])return"self";for(e in t.hash_ids)if(n=t.hash_ids[e],r["$eql?"](n))return"self";t.hash_ids[a]=r;for(var o=0,s=r.$$keys,l=s.length;o<l;o++)e=s[o],e.$$is_string?$.push([e,r.$$smap[e].$hash()]):$.push([e.key_hash,e.value.$hash()]);return $.sort().join()}finally{i&&(t.hash_ids=void 0)}},G.$$arity=0),t.alias(ft,"include?","has_key?"),t.defn(ft,"$index",Y=function(t){for(var e,n,r=this,i=0,a=r.$$keys,o=a.length;i<o;i++)if(e=a[i],e.$$is_string?n=r.$$smap[e]:(n=e.value,e=e.key),n["$=="](t))return e;return $},Y.$$arity=1),t.defn(ft,"$indexes",W=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];for(var o,s,l=[],c=0,u=n.length;c<u;c++)o=n[c],s=t.hash_get(r,o),void 0!==s?l.push(s):l.push(r.$default());return l},W.$$arity=-1),t.alias(ft,"indices","indexes");var gt;return t.defn(ft,"$inspect",K=function(){var t=this,e=void 0===gt,n=t.$object_id(),r=[];try{if(e&&(gt={}),gt.hasOwnProperty(n))return"{...}";gt[n]=!0;for(var i,a,$=0,o=t.$$keys,s=o.length;$<s;$++)i=o[$],i.$$is_string?a=t.$$smap[i]:(a=i.value,i=i.key),r.push(i.$inspect()+"=>"+a.$inspect());return"{"+r.join(", ")+"}"}finally{e&&(gt=void 0)}},K.$$arity=0),t.defn(ft,"$invert",X=function(){for(var e,n,r=this,i=t.hash(),a=0,$=r.$$keys,o=$.length;a<o;a++)e=$[a],e.$$is_string?n=r.$$smap[e]:(n=e.value,e=e.key),t.hash_put(i,n,e);return i},X.$$arity=0),t.defn(ft,"$keep_if",V=function(){var e,n=this,r=V.$$p,i=r||$;if(r&&(V.$$p=null),!c(i))return s(n,"enum_for",["keep_if"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e));for(var a,o,l,u=0,_=n.$$keys,d=_.length;u<d;u++)a=_[u],a.$$is_string?o=n.$$smap[a]:(o=a.value,a=a.key),l=i(a,o),l!==!1&&l!==$||void 0!==t.hash_delete(n,a)&&(d--,u--);return n},V.$$arity=0),t.alias(ft,"key","index"),t.alias(ft,"key?","has_key?"),t.defn(ft,"$keys",J=function(){for(var t,e=this,n=[],r=0,i=e.$$keys,a=i.length;r<a;r++)t=i[r],t.$$is_string?n.push(t):n.push(t.key);return n},J.$$arity=0),t.defn(ft,"$length",Z=function(){var t=this;return t.$$keys.length},Z.$$arity=0),t.alias(ft,"member?","has_key?"),t.defn(ft,"$merge",Q=function(t){var e=this,n=Q.$$p,r=n||$;return n&&(Q.$$p=null),s(e.$dup(),"merge!",[t],r.$to_proc())},Q.$$arity=1),t.defn(ft,"$merge!",tt=function(e){var n=this,r=tt.$$p,i=r||$;r&&(tt.$$p=null),e.$$is_hash||(e=t.const_get_relative(ht,"Opal")["$coerce_to!"](e,t.const_get_relative(ht,"Hash"),"to_hash"));var a,o,s,l,c=e.$$keys,u=c.length;if(i===$){for(a=0;a<u;a++)o=c[a],o.$$is_string?l=e.$$smap[o]:(l=o.value,o=o.key),t.hash_put(n,o,l);return n}for(a=0;a<u;a++)o=c[a],o.$$is_string?l=e.$$smap[o]:(l=o.value,o=o.key),s=t.hash_get(n,o),void 0!==s?t.hash_put(n,o,i(o,s,l)):t.hash_put(n,o,l);return n},tt.$$arity=1),t.defn(ft,"$rassoc",et=function(t){for(var e,n,r=this,i=0,a=r.$$keys,o=a.length;i<o;i++)if(e=a[i],e.$$is_string?n=r.$$smap[e]:(n=e.value,e=e.key),n["$=="](t))return[e,n];return $},et.$$arity=1),t.defn(ft,"$rehash",nt=function(){var e=this;return t.hash_rehash(e),e},nt.$$arity=0),t.defn(ft,"$reject",rt=function(){var e,n=this,r=rt.$$p,i=r||$;if(r&&(rt.$$p=null),!c(i))return s(n,"enum_for",["reject"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e));for(var a,o,l,u=t.hash(),_=0,d=n.$$keys,f=d.length;_<f;_++)a=d[_],a.$$is_string?o=n.$$smap[a]:(o=a.value,a=a.key),l=i(a,o),l!==!1&&l!==$||t.hash_put(u,a,o);return u},rt.$$arity=0),t.defn(ft,"$reject!",it=function(){var e,n=this,r=it.$$p,i=r||$;if(r&&(it.$$p=null),!c(i))return s(n,"enum_for",["reject!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e));for(var a,o,l,u=!1,_=0,d=n.$$keys,f=d.length;_<f;_++)a=d[_],a.$$is_string?o=n.$$smap[a]:(o=a.value,a=a.key),l=i(a,o),l!==!1&&l!==$&&void 0!==t.hash_delete(n,a)&&(u=!0,f--,_--);return u?n:$},it.$$arity=0),t.defn(ft,"$replace",at=function(e){var n=this,i=$;e=t.const_get_relative(ht,"Opal")["$coerce_to!"](e,t.const_get_relative(ht,"Hash"),"to_hash"),t.hash_init(n);for(var a,o,l=0,u=e.$$keys,_=u.length;l<_;l++)a=u[l],a.$$is_string?o=e.$$smap[a]:(o=a.value,a=a.key),t.hash_put(n,a,o);return c(e.$default_proc())?(i=[e.$default_proc()],s(n,"default_proc=",t.to_a(i)),i[r(i.length,1)]):(i=[e.$default()],s(n,"default=",t.to_a(i)),i[r(i.length,1)]),n},at.$$arity=1),t.defn(ft,"$select",$t=function(){var e,n=this,r=$t.$$p,i=r||$;if(r&&($t.$$p=null),!c(i))return s(n,"enum_for",["select"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e));for(var a,o,l,u=t.hash(),_=0,d=n.$$keys,f=d.length;_<f;_++)a=d[_],a.$$is_string?o=n.$$smap[a]:(o=a.value,a=a.key),l=i(a,o),l!==!1&&l!==$&&t.hash_put(u,a,o);return u},$t.$$arity=0),t.defn(ft,"$select!",ot=function(){var e,n=this,r=ot.$$p,i=r||$;if(r&&(ot.$$p=null),!c(i))return s(n,"enum_for",["select!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e));for(var a,o,l,u=$,_=0,d=n.$$keys,f=d.length;_<f;_++)a=d[_],a.$$is_string?o=n.$$smap[a]:(o=a.value,a=a.key),l=i(a,o),l!==!1&&l!==$||(void 0!==t.hash_delete(n,a)&&(f--,_--),u=n);return u},ot.$$arity=0),t.defn(ft,"$shift",st=function(){var e,n=this,r=n.$$keys;return r.length>0?(e=r[0],e=e.$$is_string?e:e.key,[e,t.hash_delete(n,e)]):n.$default($)},st.$$arity=0),t.alias(ft,"size","length"),ft.$alias_method("store","[]="),t.defn(ft,"$to_a",lt=function(){for(var t,e,n=this,r=[],i=0,a=n.$$keys,$=a.length;i<$;i++)t=a[i],t.$$is_string?e=n.$$smap[t]:(e=t.value,t=t.key),r.push([t,e]);return r},lt.$$arity=0),t.defn(ft,"$to_h",ct=function(){var e=this;if(e.$$class===t.Hash)return e;var n=new t.Hash.$$alloc;return t.hash_init(n),t.hash_clone(e,n),n},ct.$$arity=0),t.defn(ft,"$to_hash",ut=function(){var t=this;return t},ut.$$arity=0),t.defn(ft,"$to_proc",_t=function(){var e,n=this;return s(n,"proc",[],(e=function(n){var r=e.$$s||this;return null==n&&r.$raise(t.const_get_relative(ht,"ArgumentError"),"no key given"),r["$[]"](n)},e.$$s=n,e.$$arity=-1,e))},_t.$$arity=0),t.alias(ft,"to_s","inspect"),t.alias(ft,"update","merge!"),t.alias(ft,"value?","has_value?"),t.alias(ft,"values_at","indexes"),t.defn(ft,"$values",dt=function(){for(var t,e=this,n=[],r=0,i=e.$$keys,a=i.length;r<a;r++)t=i[r],t.$$is_string?n.push(e.$$smap[t]):n.push(t.value);return n},dt.$$arity=0),$&&"values"}(a[0],null,a)},Opal.modules["corelib/number"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var l=t.top,c=[],u=t.nil,_=(t.breaker,t.slice,t.klass),d=t.truthy,f=t.send,p=t.hash2;return t.add_stubs(["$require","$bridge","$raise","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$-@","$size","$<=","$>="]),l.$require("corelib/numeric"),function(l,c,h){function g(){}var v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P,L,D,B,j,U,F,H,G,Y,W,K,X,V,J,Z,Q,tt,et,nt,rt,it,at,$t,ot,st,lt,ct,ut,_t,dt,ft,pt,ht,gt,vt,mt,yt,bt,kt,wt,xt,Et,Ot,At,St,Rt=g=_(l,c,"Number",g),Mt=(Rt.$$proto,[Rt].concat(h));t.const_get_relative(Mt,"Opal").$bridge(Rt,Number),Number.prototype.$$is_number=!0,Rt.$$is_number_class=!0,t.defn(Rt,"$coerce",v=function(e){var n=this;if(e===u)n.$raise(t.const_get_relative(Mt,"TypeError"),"can't convert "+e.$class()+" into Float");else{if(e.$$is_string)return[n.$Float(e),n];if(e["$respond_to?"]("to_f"))return[t.const_get_relative(Mt,"Opal")["$coerce_to!"](e,t.const_get_relative(Mt,"Float"),"to_f"),n];if(e.$$is_number)return[e,n];n.$raise(t.const_get_relative(Mt,"TypeError"),"can't convert "+e.$class()+" into Float")}},v.$$arity=1),t.defn(Rt,"$__id__",m=function(){var t=this;return 2*t+1},m.$$arity=0),t.alias(Rt,"object_id","__id__"),t.defn(Rt,"$+",y=function(t){var e=this;return t.$$is_number?e+t:e.$__coerced__("+",t)},y.$$arity=1),t.defn(Rt,"$-",b=function(t){var e=this;return t.$$is_number?e-t:e.$__coerced__("-",t)},b.$$arity=1),t.defn(Rt,"$*",k=function(t){var e=this;return t.$$is_number?e*t:e.$__coerced__("*",t)},k.$$arity=1),t.defn(Rt,"$/",w=function(t){var e=this;return t.$$is_number?e/t:e.$__coerced__("/",t)},w.$$arity=1),t.alias(Rt,"fdiv","/"),t.defn(Rt,"$%",x=function(e){var n=this;return e.$$is_number?e==-(1/0)?e:0!=e?e<0||n<0?(n%e+e)%e:n%e:void n.$raise(t.const_get_relative(Mt,"ZeroDivisionError"),"divided by 0"):n.$__coerced__("%",e)},x.$$arity=1),t.defn(Rt,"$&",E=function(t){var e=this;return t.$$is_number?e&t:e.$__coerced__("&",t)},E.$$arity=1),t.defn(Rt,"$|",O=function(t){var e=this;return t.$$is_number?e|t:e.$__coerced__("|",t)},O.$$arity=1),t.defn(Rt,"$^",A=function(t){var e=this;return t.$$is_number?e^t:e.$__coerced__("^",t)},A.$$arity=1),t.defn(Rt,"$<",S=function(t){var e=this;return t.$$is_number?e<t:e.$__coerced__("<",t)},S.$$arity=1),t.defn(Rt,"$<=",R=function(t){var e=this;return t.$$is_number?e<=t:e.$__coerced__("<=",t)},R.$$arity=1),t.defn(Rt,"$>",M=function(t){var e=this;return t.$$is_number?e>t:e.$__coerced__(">",t)},M.$$arity=1),t.defn(Rt,"$>=",T=function(t){var e=this;return t.$$is_number?e>=t:e.$__coerced__(">=",t)},T.$$arity=1);var Tt=function(t,e){return e.$$is_number?isNaN(t)||isNaN(e)?u:t>e?1:t<e?-1:0:t.$__coerced__("<=>",e)};return t.defn(Rt,"$<=>",I=function(e){var n=this;try{return Tt(n,e)}catch(r){if(!t.rescue(r,[t.const_get_relative(Mt,"ArgumentError")]))throw r;try{return u}finally{t.pop_exception()}}},I.$$arity=1),t.defn(Rt,"$<<",q=function(e){var n=this;return e=t.const_get_relative(Mt,"Opal")["$coerce_to!"](e,t.const_get_relative(Mt,"Integer"),"to_int"),e>0?n<<e:n>>-e},q.$$arity=1),t.defn(Rt,"$>>",C=function(e){var n=this;return e=t.const_get_relative(Mt,"Opal")["$coerce_to!"](e,t.const_get_relative(Mt,"Integer"),"to_int"),e>0?n>>e:n<<-e},C.$$arity=1),t.defn(Rt,"$[]",N=function(e){var n=this;return e=t.const_get_relative(Mt,"Opal")["$coerce_to!"](e,t.const_get_relative(Mt,"Integer"),"to_int"),e<0?0:e>=32?n<0?1:0:n>>e&1},N.$$arity=1),t.defn(Rt,"$+@",z=function(){var t=this;return+t},z.$$arity=0),t.defn(Rt,"$-@",P=function(){var t=this;return-t},P.$$arity=0),t.defn(Rt,"$~",L=function(){var t=this;return~t},L.$$arity=0),t.defn(Rt,"$**",D=function(r){var i,a,$=this;return d(t.const_get_relative(Mt,"Integer")["$==="](r))?d(d(i=t.const_get_relative(Mt,"Integer")["$==="]($)["$!"]())?i:e(r,0))?Math.pow($,r):t.const_get_relative(Mt,"Rational").$new($,1)["$**"](r):d((i=n($,0))?d(a=t.const_get_relative(Mt,"Float")["$==="](r))?a:t.const_get_relative(Mt,"Rational")["$==="](r):n($,0))?t.const_get_relative(Mt,"Complex").$new($,0)["$**"](r.$to_f()):d(null!=r.$$is_number)?Math.pow($,r):$.$__coerced__("**",r)},D.$$arity=1),t.defn(Rt,"$===",B=function(t){var e=this;return t.$$is_number?e.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](e)},B.$$arity=1),t.defn(Rt,"$==",j=function(t){var e=this;return t.$$is_number?e.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](e)},j.$$arity=1),t.defn(Rt,"$abs",U=function(){var t=this;return Math.abs(t)},U.$$arity=0),t.defn(Rt,"$abs2",F=function(){var t=this;return Math.abs(t*t)},F.$$arity=0),t.defn(Rt,"$angle",H=function(){var t=this;return d(t["$nan?"]())?t:0==t?1/t>0?0:Math.PI:t<0?Math.PI:0},H.$$arity=0),t.alias(Rt,"arg","angle"),t.alias(Rt,"phase","angle"),t.defn(Rt,"$bit_length",G=function(){var e=this;if(d(t.const_get_relative(Mt,"Integer")["$==="](e))||e.$raise(t.const_get_relative(Mt,"NoMethodError").$new("undefined method `bit_length` for "+e+":Float","bit_length")),0===e||e===-1)return 0;for(var n=0,r=e<0?~e:e;0!=r;)n+=1,r>>>=1;return n},G.$$arity=0),t.defn(Rt,"$ceil",Y=function(){var t=this;return Math.ceil(t)},Y.$$arity=0),t.defn(Rt,"$chr",W=function(t){var e=this;return String.fromCharCode(e)},W.$$arity=-1),t.defn(Rt,"$denominator",K=function(){var e,n=this,r=K.$$p,i=u,a=u,$=u;for(r&&(K.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return d(d(e=n["$nan?"]())?e:n["$infinite?"]())?1:f(n,t.find_super_dispatcher(n,"denominator",K,!1),i,r)},K.$$arity=0),t.defn(Rt,"$downto",X=function(n){var a,$=this,o=X.$$p,s=o||u;if(o&&(X.$$p=null),s===u)return f($,"enum_for",["downto",n],(a=function(){var $=a.$$s||this;return d(t.const_get_relative(Mt,"Numeric")["$==="](n))||$.$raise(t.const_get_relative(Mt,"ArgumentError"),"comparison of "+$.$class()+" with "+n.$class()+" failed"),d(e(n,$))?0:r(i($,n),1)},a.$$s=$,a.$$arity=0,a));n.$$is_number||$.$raise(t.const_get_relative(Mt,"ArgumentError"),"comparison of "+$.$class()+" with "+n.$class()+" failed");for(var l=$;l>=n;l--)s(l);return $},X.$$arity=1),t.alias(Rt,"eql?","=="),t.defn(Rt,"$equal?",V=function(t){var e,n=this;return d(e=n["$=="](t))?e:isNaN(n)&&isNaN(t)},V.$$arity=1),t.defn(Rt,"$even?",J=function(){var t=this;return t%2===0},J.$$arity=0),t.defn(Rt,"$floor",Z=function(){var t=this;return Math.floor(t)},Z.$$arity=0),t.defn(Rt,"$gcd",Q=function(e){var n=this;d(t.const_get_relative(Mt,"Integer")["$==="](e))||n.$raise(t.const_get_relative(Mt,"TypeError"),"not an integer");for(var r=Math.abs(n),i=Math.abs(e);r>0;){var a=r;r=i%r,i=a}return i},Q.$$arity=1),t.defn(Rt,"$gcdlcm",tt=function(t){var e=this;return[e.$gcd(),e.$lcm()]},tt.$$arity=1),t.defn(Rt,"$integer?",et=function(){var t=this;return t%1===0},et.$$arity=0),t.defn(Rt,"$is_a?",nt=function(e){var n,r=this,i=nt.$$p,a=u,$=u,o=u;for(i&&(nt.$$p=null),$=0,o=arguments.length,a=new Array(o);$<o;$++)a[$]=arguments[$];return!!d((n=e["$=="](t.const_get_relative(Mt,"Fixnum")))?t.const_get_relative(Mt,"Integer")["$==="](r):e["$=="](t.const_get_relative(Mt,"Fixnum")))||(!!d((n=e["$=="](t.const_get_relative(Mt,"Integer")))?t.const_get_relative(Mt,"Integer")["$==="](r):e["$=="](t.const_get_relative(Mt,"Integer")))||(!!d((n=e["$=="](t.const_get_relative(Mt,"Float")))?t.const_get_relative(Mt,"Float")["$==="](r):e["$=="](t.const_get_relative(Mt,"Float")))||f(r,t.find_super_dispatcher(r,"is_a?",nt,!1),a,i)))},nt.$$arity=1),t.alias(Rt,"kind_of?","is_a?"),t.defn(Rt,"$instance_of?",rt=function(e){var n,r=this,i=rt.$$p,a=u,$=u,o=u;for(i&&(rt.$$p=null),$=0,o=arguments.length,a=new Array(o);$<o;$++)a[$]=arguments[$];return!!d((n=e["$=="](t.const_get_relative(Mt,"Fixnum")))?t.const_get_relative(Mt,"Integer")["$==="](r):e["$=="](t.const_get_relative(Mt,"Fixnum")))||(!!d((n=e["$=="](t.const_get_relative(Mt,"Integer")))?t.const_get_relative(Mt,"Integer")["$==="](r):e["$=="](t.const_get_relative(Mt,"Integer")))||(!!d((n=e["$=="](t.const_get_relative(Mt,"Float")))?t.const_get_relative(Mt,"Float")["$==="](r):e["$=="](t.const_get_relative(Mt,"Float")))||f(r,t.find_super_dispatcher(r,"instance_of?",rt,!1),a,i)))},rt.$$arity=1),t.defn(Rt,"$lcm",it=function(e){var n=this;return d(t.const_get_relative(Mt,"Integer")["$==="](e))||n.$raise(t.const_get_relative(Mt,"TypeError"),"not an integer"),0==n||0==e?0:Math.abs(n*e/n.$gcd(e))},it.$$arity=1),t.alias(Rt,"magnitude","abs"),t.alias(Rt,"modulo","%"),t.defn(Rt,"$next",at=function(){var t=this;return t+1},at.$$arity=0),t.defn(Rt,"$nonzero?",$t=function(){var t=this;return 0==t?u:t},$t.$$arity=0),t.defn(Rt,"$numerator",ot=function(){var e,n=this,r=ot.$$p,i=u,a=u,$=u;for(r&&(ot.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return d(d(e=n["$nan?"]())?e:n["$infinite?"]())?n:f(n,t.find_super_dispatcher(n,"numerator",ot,!1),i,r)},ot.$$arity=0),t.defn(Rt,"$odd?",st=function(){var t=this;return t%2!==0},st.$$arity=0),t.defn(Rt,"$ord",lt=function(){var t=this;return t},lt.$$arity=0),t.defn(Rt,"$pred",ct=function(){var t=this;return t-1},ct.$$arity=0),t.defn(Rt,"$quo",ut=function(e){var n=this,r=ut.$$p,i=u,$=u,o=u;for(r&&(ut.$$p=null),$=0,o=arguments.length,i=new Array(o);$<o;$++)i[$]=arguments[$];return d(t.const_get_relative(Mt,"Integer")["$==="](n))?f(n,t.find_super_dispatcher(n,"quo",ut,!1),i,r):a(n,e)},ut.$$arity=1),t.defn(Rt,"$rationalize",_t=function(e){var n,r,a=this,o=u,s=u;return arguments.length>1&&a.$raise(t.const_get_relative(Mt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),d(t.const_get_relative(Mt,"Integer")["$==="](a))?t.const_get_relative(Mt,"Rational").$new(a,1):d(a["$infinite?"]())?a.$raise(t.const_get_relative(Mt,"FloatDomainError"),"Infinity"):d(a["$nan?"]())?a.$raise(t.const_get_relative(Mt,"FloatDomainError"),"NaN"):d(null==e)?(r=t.const_get_relative(Mt,"Math").$frexp(a),n=t.to_ary(r),o=null==n[0]?u:n[0],s=null==n[1]?u:n[1],r,o=t.const_get_relative(Mt,"Math").$ldexp(o,t.const_get_qualified(t.const_get_relative(Mt,"Float"),"MANT_DIG")).$to_i(),s=i(s,t.const_get_qualified(t.const_get_relative(Mt,"Float"),"MANT_DIG")),t.const_get_relative(Mt,"Rational").$new($(2,o),1["$<<"](i(1,s))).$rationalize(t.const_get_relative(Mt,"Rational").$new(1,1["$<<"](i(1,s))))):a.$to_r().$rationalize(e)},_t.$$arity=-1),t.defn(Rt,"$round",dt=function($){var l,c,_=this,f=u,p=u;if(d(t.const_get_relative(Mt,"Integer")["$==="](_))){if(d(null==$))return _;if(d(d(l=t.const_get_relative(Mt,"Float")["$==="]($))?$["$infinite?"]():l)&&_.$raise(t.const_get_relative(Mt,"RangeError"),"Infinity"),$=t.const_get_relative(Mt,"Opal")["$coerce_to!"]($,t.const_get_relative(Mt,"Integer"),"to_int"),d(n($,t.const_get_qualified(t.const_get_relative(Mt,"Integer"),"MIN")))&&_.$raise(t.const_get_relative(Mt,"RangeError"),"out of bounds"),d($>=0))return _;if($=$["$-@"](),.415241*$-.125>_.$size())return 0;var h=Math.pow(10,$),g=Math.floor((Math.abs(g)+h/2)/h)*h;return _<0?-g:g}if(d(d(l=_["$nan?"]())?null==$:l)&&_.$raise(t.const_get_relative(Mt,"FloatDomainError"),"NaN"),$=t.const_get_relative(Mt,"Opal")["$coerce_to!"]($||0,t.const_get_relative(Mt,"Integer"),"to_int"),d(o($,0)))d(_["$nan?"]())?_.$raise(t.const_get_relative(Mt,"RangeError"),"NaN"):d(_["$infinite?"]())&&_.$raise(t.const_get_relative(Mt,"FloatDomainError"),"Infinity");else{if($["$=="](0))return Math.round(_);if(d(d(l=_["$nan?"]())?l:_["$infinite?"]()))return _}return c=t.const_get_relative(Mt,"Math").$frexp(_),l=t.to_ary(c),f=null==l[0]?u:l[0],p=null==l[1]?u:l[1],c,d(s($,i(r(t.const_get_qualified(t.const_get_relative(Mt,"Float"),"DIG"),2),function(){return d(e(p,0))?a(p,4):i(a(p,3),1)}())))?_:d(n($,function(){return d(e(p,0))?r(a(p,3),1):a(p,4)}()["$-@"]()))?0:Math.round(_*Math.pow(10,$))/Math.pow(10,$)},dt.$$arity=-1),t.defn(Rt,"$step",ft=function(e,n,r){function i(){0===v&&m.$raise(t.const_get_relative(Mt,"ArgumentError"),"step cannot be 0"),g=d(o=g)?o:_,v=d(o=v)?o:d(s=h)?s:1,g.$$is_number||m.$raise(t.const_get_relative(Mt,"ArgumentError"),"limit must be a number"),v.$$is_number||m.$raise(t.const_get_relative(Mt,"ArgumentError"),"step must be a number")}function a(){if(v>0&&m>g||v<0&&m<g)return 0;if(v===1/0||v===-(1/0))return 1;var e=Math.abs,n=Math.floor,r=(e(m)+e(g)+e(g-m))/e(v)*t.const_get_qualified(t.const_get_relative(Mt,"Float"),"EPSILON");return r===1/0||r===-(1/0)?0:(r>.5&&(r=.5),n((g-m)/v+r)+1)}function $(){if(i(),0===v)return 1/0;if(v%1!==0)return a();if(v>0&&m>g||v<0&&m<g)return 0;var t=Math.ceil,e=Math.abs,n=e(m-g)+1,r=e(v);return t(n/r)}var o,s,l,c,_,h,g,v,m=this,y=ft.$$p,b=y||u;if(c=t.slice.call(arguments,0,arguments.length),r=t.extract_kwargs(c),null==r||!r.$$is_hash){if(null!=r)throw t.ArgumentError.$new("expected kwargs");r=p([],{})}if(null==(_=r.$$smap.to)&&(_=u),null==(h=r.$$smap.by)&&(h=u),0<c.length&&(g=c.splice(0,1)[0]),null==g&&(g=u),0<c.length&&(v=c.splice(0,1)[0]),null==v&&(v=u),y&&(ft.$$p=null),g!==u&&_!==u&&m.$raise(t.const_get_relative(Mt,"ArgumentError"),"to is given twice"),v!==u&&h!==u&&m.$raise(t.const_get_relative(Mt,"ArgumentError"),"step is given twice"),b===u)return f(m,"enum_for",["step",g,v,p(["to","by"],{to:_,by:h})],(l=function(){l.$$s||this;return $()},l.$$s=m,l.$$arity=0,l));if(i(),0===v)for(;;)b(m);if(m%1!==0||g%1!==0||v%1!==0){var k=a();if(k>0)if(v===1/0||v===-(1/0))b(m);else{
var w,x=0;if(v>0)for(;x<k;)w=x*v+m,g<w&&(w=g),b(w),x+=1;else for(;x<k;)w=x*v+m,g>w&&(w=g),b(w),x+=1}}else{var E=m;if(v>0)for(;E<=g;)b(E),E+=v;else for(;E>=g;)b(E),E+=v}return m},ft.$$arity=-1),t.alias(Rt,"succ","next"),t.defn(Rt,"$times",pt=function(){var t,e=this,n=pt.$$p,r=n||u;if(n&&(pt.$$p=null),!d(r))return f(e,"enum_for",["times"],(t=function(){var e=t.$$s||this;return e},t.$$s=e,t.$$arity=0,t));for(var i=0;i<e;i++)r(i);return e},pt.$$arity=0),t.defn(Rt,"$to_f",ht=function(){var t=this;return t},ht.$$arity=0),t.defn(Rt,"$to_i",gt=function(){var t=this;return parseInt(t,10)},gt.$$arity=0),t.alias(Rt,"to_int","to_i"),t.defn(Rt,"$to_r",vt=function(){var e,n,r=this,a=u,o=u;return d(t.const_get_relative(Mt,"Integer")["$==="](r))?t.const_get_relative(Mt,"Rational").$new(r,1):(n=t.const_get_relative(Mt,"Math").$frexp(r),e=t.to_ary(n),a=null==e[0]?u:e[0],o=null==e[1]?u:e[1],n,a=t.const_get_relative(Mt,"Math").$ldexp(a,t.const_get_qualified(t.const_get_relative(Mt,"Float"),"MANT_DIG")).$to_i(),o=i(o,t.const_get_qualified(t.const_get_relative(Mt,"Float"),"MANT_DIG")),$(a,t.const_get_qualified(t.const_get_relative(Mt,"Float"),"RADIX")["$**"](o)).$to_r())},vt.$$arity=0),t.defn(Rt,"$to_s",mt=function(r){var i,a=this;return null==r&&(r=10),d(d(i=n(r,2))?i:e(r,36))&&a.$raise(t.const_get_relative(Mt,"ArgumentError"),"base must be between 2 and 36"),a.toString(r)},mt.$$arity=-1),t.alias(Rt,"truncate","to_i"),t.alias(Rt,"inspect","to_s"),t.defn(Rt,"$divmod",yt=function(e){var n,r=this,i=yt.$$p,a=u,$=u,o=u;for(i&&(yt.$$p=null),$=0,o=arguments.length,a=new Array(o);$<o;$++)a[$]=arguments[$];return d(d(n=r["$nan?"]())?n:e["$nan?"]())?r.$raise(t.const_get_relative(Mt,"FloatDomainError"),"NaN"):d(r["$infinite?"]())?r.$raise(t.const_get_relative(Mt,"FloatDomainError"),"Infinity"):f(r,t.find_super_dispatcher(r,"divmod",yt,!1),a,i)},yt.$$arity=1),t.defn(Rt,"$upto",bt=function(e){var a,$=this,o=bt.$$p,s=o||u;if(o&&(bt.$$p=null),s===u)return f($,"enum_for",["upto",e],(a=function(){var $=a.$$s||this;return d(t.const_get_relative(Mt,"Numeric")["$==="](e))||$.$raise(t.const_get_relative(Mt,"ArgumentError"),"comparison of "+$.$class()+" with "+e.$class()+" failed"),d(n(e,$))?0:r(i(e,$),1)},a.$$s=$,a.$$arity=0,a));e.$$is_number||$.$raise(t.const_get_relative(Mt,"ArgumentError"),"comparison of "+$.$class()+" with "+e.$class()+" failed");for(var l=$;l<=e;l++)s(l);return $},bt.$$arity=1),t.defn(Rt,"$zero?",kt=function(){var t=this;return 0==t},kt.$$arity=0),t.defn(Rt,"$size",wt=function(){return 4},wt.$$arity=0),t.defn(Rt,"$nan?",xt=function(){var t=this;return isNaN(t)},xt.$$arity=0),t.defn(Rt,"$finite?",Et=function(){var t=this;return t!=1/0&&t!=-(1/0)&&!isNaN(t)},Et.$$arity=0),t.defn(Rt,"$infinite?",Ot=function(){var t=this;return t==1/0?1:t==-(1/0)?-1:u},Ot.$$arity=0),t.defn(Rt,"$positive?",At=function(){var t=this;return 0!=t&&(t==1/0||1/t>0)},At.$$arity=0),t.defn(Rt,"$negative?",St=function(){var t=this;return t==-(1/0)||1/t<0},St.$$arity=0),u&&"negative?"}(c[0],t.const_get_relative(c,"Numeric"),c),t.const_set(c[0],"Fixnum",t.const_get_relative(c,"Number")),function(e,n,r){function i(){}var a,$=i=_(e,n,"Integer",i),o=($.$$proto,[$].concat(r));return $.$$is_number_class=!0,t.defs($,"$===",a=function(t){return!!t.$$is_number&&t%1===0},a.$$arity=1),t.const_set(o[0],"MAX",Math.pow(2,30)-1),t.const_set(o[0],"MIN",-Math.pow(2,30))}(c[0],t.const_get_relative(c,"Numeric"),c),function(e,n,r){function i(){}var a,$=i=_(e,n,"Float",i),o=($.$$proto,[$].concat(r));return $.$$is_number_class=!0,t.defs($,"$===",a=function(t){return!!t.$$is_number},a.$$arity=1),t.const_set(o[0],"INFINITY",1/0),t.const_set(o[0],"MAX",Number.MAX_VALUE),t.const_set(o[0],"MIN",Number.MIN_VALUE),t.const_set(o[0],"NAN",NaN),t.const_set(o[0],"DIG",15),t.const_set(o[0],"MANT_DIG",53),t.const_set(o[0],"RADIX",2),t.const_set(o[0],"EPSILON",Number.EPSILON||2.220446049250313e-16)}(c[0],t.const_get_relative(c,"Numeric"),c)},Opal.modules["corelib/range"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var l=t.top,c=[],u=t.nil,_=(t.breaker,t.slice,t.klass),d=t.truthy,f=t.send;return t.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),l.$require("corelib/enumerable"),function(l,c,p){function h(){}var g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N=h=_(l,c,"Range",h),z=N.$$proto,P=[N].concat(p);return z.begin=z.end=z.exclude=u,N.$include(t.const_get_relative(P,"Enumerable")),z.$$is_range=!0,N.$attr_reader("begin","end"),t.defn(N,"$initialize",g=function(e,n,r){var i=this;return null==r&&(r=!1),d(i.begin)&&i.$raise(t.const_get_relative(P,"NameError"),"'initialize' called twice"),d(e["$<=>"](n))||i.$raise(t.const_get_relative(P,"ArgumentError"),"bad value for range"),i.begin=e,i.end=n,i.exclude=r},g.$$arity=-3),t.defn(N,"$==",v=function(t){var e=this;return!!t.$$is_range&&(e.exclude===t.exclude&&e.begin==t.begin&&e.end==t.end)},v.$$arity=1),t.defn(N,"$===",m=function(t){var e=this;return e["$include?"](t)},m.$$arity=1),t.defn(N,"$cover?",y=function(t){var r,i=this,a=u,$=u;return a=i.begin["$<=>"](t),!!d(d(r=a)?e(a,0):r)&&($=t["$<=>"](i.end),d(i.exclude)?d(r=$)?n($,0):r:d(r=$)?e($,0):r)},y.$$arity=1),t.defn(N,"$each",b=function(){var e,r=this,i=b.$$p,a=i||u,$=u,o=u;if(i&&(b.$$p=null),a===u)return r.$enum_for("each");var s,l;if(r.begin.$$is_number&&r.end.$$is_number){for(r.begin%1===0&&r.end%1===0||r.$raise(t.const_get_relative(P,"TypeError"),"can't iterate from Float"),s=r.begin,l=r.end+function(){return d(r.exclude)?0:1}();s<l;s++)a(s);return r}if(r.begin.$$is_string&&r.end.$$is_string)return f(r.begin,"upto",[r.end,r.exclude],a.$to_proc()),r;for($=r.begin,o=r.end,d($["$respond_to?"]("succ"))||r.$raise(t.const_get_relative(P,"TypeError"),"can't iterate from "+$.$class());d(n($["$<=>"](o),0));)t.yield1(a,$),$=$.$succ();return d(d(e=r.exclude["$!"]())?$["$=="](o):e)&&t.yield1(a,$),r},b.$$arity=0),t.defn(N,"$eql?",k=function(e){var n,r,i=this;return!!d(t.const_get_relative(P,"Range")["$==="](e))&&(d(n=d(r=i.exclude["$==="](e["$exclude_end?"]()))?i.begin["$eql?"](e.$begin()):r)?i.end["$eql?"](e.$end()):n)},k.$$arity=1),t.defn(N,"$exclude_end?",w=function(){var t=this;return t.exclude},w.$$arity=0),t.defn(N,"$first",x=function(e){var n=this,r=x.$$p,i=u,a=u,$=u;for(r&&(x.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return d(null==e)?n.begin:f(n,t.find_super_dispatcher(n,"first",x,!1),i,r)},x.$$arity=-1),t.alias(N,"include?","cover?"),t.defn(N,"$last",E=function(t){var e=this;return d(null==t)?e.end:e.$to_a().$last(t)},E.$$arity=-1),t.defn(N,"$max",O=function(){var e,n=this,i=O.$$p,a=i||u,$=u,o=u,s=u;for(i&&(O.$$p=null),o=0,s=arguments.length,$=new Array(s);o<s;o++)$[o]=arguments[o];return a!==u?f(n,t.find_super_dispatcher(n,"max",O,!1),$,i):d(r(n.begin,n.end))?u:d(d(e=n.exclude)?n.begin["$=="](n.end):e)?u:n.exclude?n.end-1:n.end},O.$$arity=0),t.alias(N,"member?","cover?"),t.defn(N,"$min",A=function(){var e,n=this,i=A.$$p,a=i||u,$=u,o=u,s=u;for(i&&(A.$$p=null),o=0,s=arguments.length,$=new Array(s);o<s;o++)$[o]=arguments[o];return a!==u?f(n,t.find_super_dispatcher(n,"min",A,!1),$,i):d(r(n.begin,n.end))?u:d(d(e=n.exclude)?n.begin["$=="](n.end):e)?u:n.begin},A.$$arity=0),t.defn(N,"$size",S=function(){var e,r=this,a=u,$=u,o=u;return a=r.begin,$=r.end,d(r.exclude)&&($=i($,1)),d(d(e=t.const_get_relative(P,"Numeric")["$==="](a))?t.const_get_relative(P,"Numeric")["$==="]($):e)?d(n($,a))?0:(o=t.const_get_qualified(t.const_get_relative(P,"Float"),"INFINITY"),d(d(e=o["$=="](a.$abs()))?e:$.$abs()["$=="](o))?o:(Math.abs($-a)+1).$to_i()):u},S.$$arity=0),t.defn(N,"$step",R=function(e){function n(){e.$$is_number||(e=t.const_get_relative(P,"Opal")["$coerce_to!"](e,t.const_get_relative(P,"Integer"),"to_int")),e<0?p.$raise(t.const_get_relative(P,"ArgumentError"),"step can't be negative"):0===e&&p.$raise(t.const_get_relative(P,"ArgumentError"),"step can't be 0")}function i(){if(!p.begin["$respond_to?"]("succ"))return u;if(p.begin.$$is_string&&p.end.$$is_string)return u;if(e%1===0)return a(p.$size(),e).$ceil();var n,r=p.begin,i=p.end,$=Math.abs,o=Math.floor,s=($(r)+$(i)+$(i-r))/$(e)*t.const_get_qualified(t.const_get_relative(P,"Float"),"EPSILON");return s>.5&&(s=.5),p.exclude?(n=o((i-r)/e-s),n*e+r<i&&n++):n=o((i-r)/e+s)+1,n}var l,c,_,p=this,h=R.$$p,g=h||u,v=u;return null==e&&(e=1),h&&(R.$$p=null),g===u?f(p,"enum_for",["step",e],(l=function(){l.$$s||this;return n(),i()},l.$$s=p,l.$$arity=0,l)):(n(),d(p.begin.$$is_number&&p.end.$$is_number)?(v=0,function(){var n=t.new_brk();try{return f(p,"loop",[],(c=function(){var i=c.$$s||this,a=u;return null==i.begin&&(i.begin=u),null==i.exclude&&(i.exclude=u),null==i.end&&(i.end=u),a=$(i.begin,o(v,e)),d(i.exclude)?d(s(a,i.end))&&t.brk(u,n):d(r(a,i.end))&&t.brk(u,n),t.yield1(g,a),v=$(v,1)},c.$$s=p,c.$$brk=n,c.$$arity=0,c))}catch(i){if(i===n)return i.$v;throw i}}()):(p.begin.$$is_string&&p.end.$$is_string&&e%1!==0&&p.$raise(t.const_get_relative(P,"TypeError"),"no implicit conversion to float from string"),f(p,"each_with_index",[],(_=function(n,r){_.$$s||this;return null==n&&(n=u),null==r&&(r=u),r["$%"](e)["$=="](0)?t.yield1(g,n):u},_.$$s=p,_.$$arity=2,_))),p)},R.$$arity=-1),t.defn(N,"$bsearch",M=function(){var e=this,n=M.$$p,r=n||u;return n&&(M.$$p=null),r===u?e.$enum_for("bsearch"):(d(e.begin.$$is_number&&e.end.$$is_number)||e.$raise(t.const_get_relative(P,"TypeError"),"can't do binary search for "+e.begin.$class()),f(e.$to_a(),"bsearch",[],r.$to_proc()))},M.$$arity=0),t.defn(N,"$to_s",T=function(){var t=this;return""+t.begin+function(){return d(t.exclude)?"...":".."}()+t.end},T.$$arity=0),t.defn(N,"$inspect",I=function(){var t=this;return""+t.begin.$inspect()+function(){return d(t.exclude)?"...":".."}()+t.end.$inspect()},I.$$arity=0),t.defn(N,"$marshal_load",q=function(t){var e=this;return e.begin=t["$[]"]("begin"),e.end=t["$[]"]("end"),e.exclude=t["$[]"]("excl")},q.$$arity=1),t.defn(N,"$hash",C=function(){var t=this;return[t.begin,t.end,t.exclude].$hash()},C.$$arity=0),u&&"hash"}(c[0],null,c)},Opal.modules["corelib/proc"]=function(t){var e=(t.top,[]),n=t.nil,r=(t.breaker,t.slice),i=t.klass,a=t.truthy;return t.add_stubs(["$raise","$coerce_to!"]),function(e,$,o){function s(){}var l,c,u,_,d,f,p,h,g,v,m=s=i(e,$,"Proc",s),y=m.$$proto,b=[m].concat(o);return y.$$is_proc=!0,y.$$is_lambda=!1,t.defs(m,"$new",l=function(){var e=this,r=l.$$p,i=r||n;return r&&(l.$$p=null),a(i)||e.$raise(t.const_get_relative(b,"ArgumentError"),"tried to create a Proc object without a block"),i},l.$$arity=0),t.defn(m,"$call",c=function(e){var r,i=this,a=c.$$p,$=a||n,o=arguments.length,s=o-0;s<0&&(s=0),r=new Array(s);for(var l=0;l<o;l++)r[l-0]=arguments[l];a&&(c.$$p=null),$!==n&&(i.$$p=$);var u,_=i.$$brk;if(_)try{u=i.$$is_lambda?i.apply(null,r):t.yieldX(i,r)}catch(d){if(d===_)return _.$v;throw d}else u=i.$$is_lambda?i.apply(null,r):t.yieldX(i,r);return u},c.$$arity=-1),t.alias(m,"[]","call"),t.alias(m,"===","call"),t.alias(m,"yield","call"),t.defn(m,"$to_proc",u=function(){var t=this;return t},u.$$arity=0),t.defn(m,"$lambda?",_=function(){var t=this;return!!t.$$is_lambda},_.$$arity=0),t.defn(m,"$arity",d=function(){var t=this;return t.$$is_curried?-1:t.$$arity},d.$$arity=0),t.defn(m,"$source_location",f=function(){var t=this;return t.$$is_curried?n:n},f.$$arity=0),t.defn(m,"$binding",p=function(){var e=this;return e.$$is_curried&&e.$raise(t.const_get_relative(b,"ArgumentError"),"Can't create Binding"),n},p.$$arity=0),t.defn(m,"$parameters",h=function(){var t=this;if(t.$$is_curried)return[["rest"]];if(t.$$parameters){if(t.$$is_lambda)return t.$$parameters;var e,n,r=[];for(e=0,n=t.$$parameters.length;e<n;e++){var i=t.$$parameters[e];"req"===i[0]&&(i=["opt",i[1]]),r.push(i)}return r}return[]},h.$$arity=0),t.defn(m,"$curry",g=function(e){function n(){var a,$=r.call(arguments),o=$.length;return o>e&&i.$$is_lambda&&!i.$$is_curried&&i.$raise(t.const_get_relative(b,"ArgumentError"),"wrong number of arguments ("+o+" for "+e+")"),o>=e?i.$call.apply(i,$):(a=function(){return n.apply(null,$.concat(r.call(arguments)))},a.$$is_lambda=i.$$is_lambda,a.$$is_curried=!0,a)}var i=this;return void 0===e?e=i.length:(e=t.const_get_relative(b,"Opal")["$coerce_to!"](e,t.const_get_relative(b,"Integer"),"to_int"),i.$$is_lambda&&e!==i.length&&i.$raise(t.const_get_relative(b,"ArgumentError"),"wrong number of arguments ("+e+" for "+i.length+")")),n.$$is_lambda=i.$$is_lambda,n.$$is_curried=!0,n},g.$$arity=-1),t.defn(m,"$dup",v=function(){var t=this,e=t.$$original_proc||t,n=function(){return e.apply(this,arguments)};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},v.$$arity=0),t.alias(m,"clone","dup")}(e[0],Function,e)},Opal.modules["corelib/method"]=function(t){var e=(t.top,[]),n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function(e,a,$){function o(){}var s,l,c,u,_,d,f,p,h,g=o=r(e,a,"Method",o),v=g.$$proto,m=[g].concat($);return v.method=v.receiver=v.owner=v.name=n,g.$attr_reader("owner","receiver","name"),t.defn(g,"$initialize",s=function(t,e,n,r){var i=this;return i.receiver=t,i.owner=e,i.name=r,i.method=n},s.$$arity=4),t.defn(g,"$arity",l=function(){var t=this;return t.method.$arity()},l.$$arity=0),t.defn(g,"$parameters",c=function(){var t=this;return t.method.$$parameters},c.$$arity=0),t.defn(g,"$source_location",u=function(){var t,e=this;return i(t=e.method.$$source_location)?t:["(eval)",0]},u.$$arity=0),t.defn(g,"$comments",_=function(){var t,e=this;return i(t=e.method.$$comments)?t:[]},_.$$arity=0),t.defn(g,"$call",d=function(t){var e,r=this,i=d.$$p,a=i||n,$=arguments.length,o=$-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<$;s++)e[s-0]=arguments[s];return i&&(d.$$p=null),r.method.$$p=a,r.method.apply(r.receiver,e)},d.$$arity=-1),t.alias(g,"[]","call"),t.defn(g,"$unbind",f=function(){var e=this;return t.const_get_relative(m,"UnboundMethod").$new(e.receiver.$class(),e.owner,e.method,e.name)},f.$$arity=0),t.defn(g,"$to_proc",p=function(){var t=this,e=t.$call.bind(t);return e.$$unbound=t.method,e.$$is_lambda=!0,e},p.$$arity=0),t.defn(g,"$inspect",h=function(){var t=this;return"#<"+t.$class()+": "+t.receiver.$class()+"#"+t.name+" (defined in "+t.owner+" in "+t.$source_location().$join(":")+")>"},h.$$arity=0),n&&"inspect"}(e[0],null,e),function(e,a,$){function o(){}var s,l,c,u,_,d,f,p=o=r(e,a,"UnboundMethod",o),h=p.$$proto,g=[p].concat($);return h.method=h.owner=h.name=h.source=n,p.$attr_reader("source","owner","name"),t.defn(p,"$initialize",s=function(t,e,n,r){var i=this;return i.source=t,i.owner=e,i.method=n,i.name=r},s.$$arity=4),t.defn(p,"$arity",l=function(){var t=this;return t.method.$arity()},l.$$arity=0),t.defn(p,"$parameters",c=function(){var t=this;return t.method.$$parameters},c.$$arity=0),t.defn(p,"$source_location",u=function(){var t,e=this;return i(t=e.method.$$source_location)?t:["(eval)",0]},u.$$arity=0),t.defn(p,"$comments",_=function(){var t,e=this;return i(t=e.method.$$comments)?t:[]},_.$$arity=0),t.defn(p,"$bind",d=function(e){var n=this;return n.owner.$$is_module||t.is_a(e,n.owner)?t.const_get_relative(g,"Method").$new(e,n.owner,n.method,n.name):void n.$raise(t.const_get_relative(g,"TypeError"),"can't bind singleton method to a different class (expected "+e+".kind_of?("+n.owner+" to be true)")},d.$$arity=1),t.defn(p,"$inspect",f=function(){var t=this;return"#<"+t.$class()+": "+t.source+"#"+t.name+" (defined in "+t.owner+" in "+t.$source_location().$join(":")+")>"},f.$$arity=0),n&&"inspect"}(e[0],null,e)},Opal.modules["corelib/variables"]=function(t){var e=(t.top,[]),n=t.nil,r=(t.breaker,t.slice,t.gvars),i=t.hash2;return t.add_stubs(["$new"]),r["&"]=r["~"]=r["`"]=r["'"]=n,r.LOADED_FEATURES=r['"']=t.loaded_features,r.LOAD_PATH=r[":"]=[],r["/"]="\n",r[","]=n,t.const_set(e[0],"ARGV",[]),t.const_set(e[0],"ARGF",t.const_get_relative(e,"Object").$new()),t.const_set(e[0],"ENV",i([],{})),r.VERBOSE=!1,r.DEBUG=!1,r.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(t){var e=(t.top,[]),n=t.nil,r=(t.breaker,t.slice,t.module);return t.add_stubs(["$==","$new"]),function(e,i){var a,$=a=r(e,"Opal"),o=($.$$proto,[$].concat(i));t.const_set(o[0],"REGEXP_START",function(){return t.const_get_relative(o,"RUBY_ENGINE")["$=="]("opal")?"^":n}()),t.const_set(o[0],"REGEXP_END",function(){return t.const_get_relative(o,"RUBY_ENGINE")["$=="]("opal")?"$":n}()),t.const_set(o[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(o[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(o[0],"INLINE_IDENTIFIER_REGEXP",t.const_get_relative(o,"Regexp").$new("[^"+t.const_get_relative(o,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+t.const_get_relative(o,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),t.const_set(o[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(o[0],"CONST_NAME_REGEXP",t.const_get_relative(o,"Regexp").$new(""+t.const_get_relative(o,"REGEXP_START")+"(::)?[A-Z][^"+t.const_get_relative(o,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+t.const_get_relative(o,"REGEXP_END")))}(e[0],e)},Opal.modules["opal/mini"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("corelib/nil"),e.$require("corelib/boolean"),e.$require("corelib/string"),e.$require("corelib/comparable"),e.$require("corelib/enumerable"),e.$require("corelib/enumerator"),e.$require("corelib/array"),e.$require("corelib/hash"),e.$require("corelib/number"),e.$require("corelib/range"),e.$require("corelib/proc"),e.$require("corelib/method"),e.$require("corelib/regexp"),e.$require("corelib/variables"),e.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var i=t.top,a=[],$=t.nil,o=(t.breaker,t.slice,t.klass),s=t.send,l=t.truthy,c=t.gvars;return t.add_stubs(["$require","$new","$allocate","$initialize","$to_proc","$__send__","$class","$clone","$respond_to?","$==","$inspect","$+","$*","$map","$split","$enum_for","$each_line","$to_a","$%","$-"]),i.$require("corelib/string"),function(e,n,r){function i(){}var a,s=i=o(e,n,"String",i),l=(s.$$proto,[s].concat(r));return t.defs(s,"$inherited",a=function(e){var n=$;n=t.const_get_relative(l,"Class").$new(t.const_get_qualified(t.const_get_relative(l,"String"),"Wrapper")),e.$$proto=n.$$proto,e.$$proto.$$class=e,e.$$alloc=n.$$alloc,e.$$parent=t.const_get_qualified(t.const_get_relative(l,"String"),"Wrapper"),e.$allocate=n.$allocate,e.$new=n.$new},a.$$arity=1)}(a[0],null,a),function(i,a,u){function _(){}var d,f,p,h,g,v,m,y,b,k,w,x,E,O,A,S,R,M,T=_=o(i,a,"Wrapper",_),I=T.$$proto;[T].concat(u);return I.literal=$,I.$$is_string=!0,t.defs(T,"$allocate",d=function(e){var n=this,r=d.$$p,i=$;return null==e&&(e=""),r&&(d.$$p=null),i=s(n,t.find_super_dispatcher(n,"allocate",d,!1,_),[],null),i.literal=e,i},d.$$arity=-1),t.defs(T,"$new",f=function(e){var n,r=this,i=f.$$p,a=i||$,o=$,l=arguments.length,c=l-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<l;u++)n[u-0]=arguments[u];return i&&(f.$$p=null),o=r.$allocate(),s(o,"initialize",t.to_a(n),a.$to_proc()),o},f.$$arity=-1),t.defs(T,"$[]",p=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];return n.$allocate(e)},p.$$arity=-1),t.defn(T,"$initialize",h=function(t){var e=this;return null==t&&(t=""),e.literal=t},h.$$arity=-1),t.defn(T,"$method_missing",g=function(e){var n,r=this,i=g.$$p,a=i||$,o=$,c=arguments.length,u=c-0;u<0&&(u=0),n=new Array(u);for(var _=0;_<c;_++)n[_-0]=arguments[_];return i&&(g.$$p=null),o=s(r.literal,"__send__",t.to_a(n),a.$to_proc()),l(null!=o.$$is_string)?l(o==r.literal)?r:r.$class().$allocate(o):o},g.$$arity=-1),t.defn(T,"$initialize_copy",v=function(t){var e=this;return e.literal=t.literal.$clone()},v.$$arity=1),t.defn(T,"$respond_to?",m=function(e,n){var r,i=this,a=m.$$p,o=$,c=$,u=$;for(a&&(m.$$p=null),c=0,u=arguments.length,o=new Array(u);c<u;c++)o[c]=arguments[c];return l(r=s(i,t.find_super_dispatcher(i,"respond_to?",m,!1),o,a))?r:i.literal["$respond_to?"](e)},m.$$arity=-2),t.defn(T,"$==",y=function(t){var e=this;return e.literal["$=="](t)},y.$$arity=1),t.alias(T,"eql?","=="),t.alias(T,"===","=="),t.defn(T,"$to_s",b=function(){var t=this;return t.literal},b.$$arity=0),t.alias(T,"to_str","to_s"),t.defn(T,"$inspect",k=function(){var t=this;return t.literal.$inspect()},k.$$arity=0),t.defn(T,"$+",w=function(t){var n=this;return e(n.literal,t)},w.$$arity=1),t.defn(T,"$*",x=function(t){var e=this,r=n(e.literal,t);return r.$$is_string?e.$class().$allocate(r):r},x.$$arity=1),t.defn(T,"$split",E=function(t,e){var n,r=this;return s(r.literal.$split(t,e),"map",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=$),e.$class().$allocate(t)},n.$$s=r,n.$$arity=1,n))},E.$$arity=-1),t.defn(T,"$replace",O=function(t){var e=this;return e.literal=t},O.$$arity=1),t.defn(T,"$each_line",A=function(e){var n,r=this,i=A.$$p,a=i||$;return null==c["/"]&&(c["/"]=$),null==e&&(e=c["/"]),i&&(A.$$p=null),a===$?r.$enum_for("each_line",e):s(r.literal,"each_line",[e],(n=function(e){var r=n.$$s||this;return null==e&&(e=$),t.yield1(a,r.$class().$allocate(e))},n.$$s=r,n.$$arity=1,n))},A.$$arity=-1),t.defn(T,"$lines",S=function(t){var e=this,n=S.$$p,r=n||$,i=$;return null==c["/"]&&(c["/"]=$),null==t&&(t=c["/"]),n&&(S.$$p=null),i=s(e,"each_line",[t],r.$to_proc()),l(r)?e:i.$to_a()},S.$$arity=-1),t.defn(T,"$%",R=function(t){var e=this;return e.literal["$%"](t)},R.$$arity=1),t.defn(T,"$instance_variables",M=function(){var e=this,n=M.$$p,i=$,a=$,o=$;for(n&&(M.$$p=null),a=0,o=arguments.length,i=new Array(o);a<o;a++)i[a]=arguments[a];return r(s(e,t.find_super_dispatcher(e,"instance_variables",M,!1),i,n),["@literal"])},M.$$arity=0),$&&"instance_variables"}(t.const_get_relative(a,"String"),null,a)},Opal.modules["corelib/string/encoding"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n,r,i,a,$,o=t.top,s=[],l=t.nil,c=(t.breaker,t.slice,t.klass),u=t.truthy,_=t.send,d=t.hash2;return t.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$upcase","$constants","$const_get","$===","$==","$name","$include?","$names","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$nil?","$getbyte"]),o.$require("corelib/string"),function(n,r,i){function a(){}var $,o,s,f,p,h,g,v,m,y,b=a=c(n,r,"Encoding",a),k=b.$$proto,w=[b].concat(i);return k.ascii=k.dummy=k.name=l,t.defs(b,"$register",$=function(n,r){var i,a,o=this,s=$.$$p,c=s||l,f=l,p=l;return null==r&&(r=d([],{})),s&&($.$$p=null),f=e([n],u(i=r["$[]"]("aliases"))?i:[]),p=_(t.const_get_relative(w,"Class"),"new",[o],c.$to_proc()).$new(n,f,!!u(i=r["$[]"]("ascii"))&&i,!!u(i=r["$[]"]("dummy"))&&i),_(f,"each",[],(a=function(t){var e=a.$$s||this;return null==t&&(t=l),e.$const_set(t.$sub("-","_"),p)},a.$$s=o,a.$$arity=1,a))},$.$$arity=-2),t.defs(b,"$find",o=function(e){try{var n,r=this,i=l;return i=e.$upcase(),_((t.Module.$$nesting=w,r.$constants()),"each",[],(n=function(e){var r,a=n.$$s||this,$=l;return null==e&&(e=l),$=a.$const_get(e),u(t.const_get_relative(w,"Encoding")["$==="]($))&&u(u(r=$.$name()["$=="](i))?r:$.$names()["$include?"](i))?void t.ret($):l},n.$$s=r,n.$$arity=1,n)),r.$raise(t.const_get_relative(w,"ArgumentError"),"unknown encoding name - "+e)}catch(a){if(a===t.returner)return a.$v;throw a}},o.$$arity=1),function(t,e){t.$$proto,[t].concat(e);return t.$attr_accessor("default_external")}(t.get_singleton_class(b),w),b.$attr_reader("name","names"),t.defn(b,"$initialize",s=function(t,e,n,r){var i=this;return i.name=t,i.names=e,i.ascii=n,i.dummy=r},s.$$arity=4),t.defn(b,"$ascii_compatible?",f=function(){var t=this;return t.ascii},f.$$arity=0),t.defn(b,"$dummy?",p=function(){var t=this;return t.dummy},p.$$arity=0),t.defn(b,"$to_s",h=function(){var t=this;return t.name},h.$$arity=0),t.defn(b,"$inspect",g=function(){var t=this;return"#<Encoding:"+t.name+function(){return u(t.dummy)?" (dummy)":l}()+">"},g.$$arity=0),t.defn(b,"$each_byte",v=function(e){var n=this;return n.$raise(t.const_get_relative(w,"NotImplementedError"))},v.$$arity=-1),t.defn(b,"$getbyte",m=function(e){var n=this;return n.$raise(t.const_get_relative(w,"NotImplementedError"))},m.$$arity=-1),t.defn(b,"$bytesize",y=function(e){var n=this;return n.$raise(t.const_get_relative(w,"NotImplementedError"))},y.$$arity=-1),function(t,e,n){function r(){}var i=r=c(t,e,"EncodingError",r);i.$$proto,[i].concat(n);return l}(w[0],t.const_get_relative(w,"StandardError"),w),function(t,e,n){function r(){}var i=r=c(t,e,"CompatibilityError",r);i.$$proto,[i].concat(n);return l}(w[0],t.const_get_relative(w,"EncodingError"),w)}(s[0],null,s),_(t.const_get_relative(s,"Encoding"),"register",["UTF-8",d(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(n=function(){var e,r,i=n.$$s||this;return t.def(i,"$each_byte",e=function(n){var r=e.$$p,i=r||l;r&&(e.$$p=null);for(var a=0,$=n.length;a<$;a++){var o=n.charCodeAt(a);if(o<=127)t.yield1(i,o);else for(var s=encodeURIComponent(n.charAt(a)).substr(1).split("%"),c=0,u=s.length;c<u;c++)t.yield1(i,parseInt(s[c],16))}},e.$$arity=1),t.def(i,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),l&&"bytesize"},n.$$s=o,n.$$arity=0,n)),_(t.const_get_relative(s,"Encoding"),"register",["UTF-16LE"],(r=function(){var e,n,i=r.$$s||this;return t.def(i,"$each_byte",e=function(n){var r=e.$$p,i=r||l;r&&(e.$$p=null);for(var a=0,$=n.length;a<$;a++){var o=n.charCodeAt(a);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(i,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),l&&"bytesize"},r.$$s=o,r.$$arity=0,r)),_(t.const_get_relative(s,"Encoding"),"register",["UTF-16BE"],(i=function(){var e,n,r=i.$$s||this;return t.def(r,"$each_byte",e=function(n){var r=e.$$p,i=r||l;r&&(e.$$p=null);for(var a=0,$=n.length;a<$;a++){var o=n.charCodeAt(a);t.yield1(i,o>>8),t.yield1(i,255&o)}},e.$$arity=1),t.def(r,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),l&&"bytesize"},i.$$s=o,i.$$arity=0,i)),_(t.const_get_relative(s,"Encoding"),"register",["UTF-32LE"],(a=function(){var e,n,r=a.$$s||this;return t.def(r,"$each_byte",e=function(n){var r=e.$$p,i=r||l;r&&(e.$$p=null);for(var a=0,$=n.length;a<$;a++){var o=n.charCodeAt(a);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(r,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),l&&"bytesize"},a.$$s=o,a.$$arity=0,a)),_(t.const_get_relative(s,"Encoding"),"register",["ASCII-8BIT",d(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],($=function(){var e,n,r=$.$$s||this;return t.def(r,"$each_byte",e=function(n){var r=e.$$p,i=r||l;r&&(e.$$p=null);for(var a=0,$=n.length;a<$;a++)t.yield1(i,255&n.charCodeAt(a))},e.$$arity=1),t.def(r,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),l&&"bytesize"},$.$$s=o,$.$$arity=0,$)),function(e,n,r){function i(){}var a,$,o,s,d,f,p,h,g=i=c(e,n,"String",i),v=g.$$proto,m=[g].concat(r);return v.encoding=l,String.prototype.encoding=t.const_get_qualified(t.const_get_relative(m,"Encoding"),"UTF_16LE"),t.defn(g,"$bytes",a=function(){var t=this;return t.$each_byte().$to_a()},a.$$arity=0),t.defn(g,"$bytesize",$=function(){var t=this;return t.encoding.$bytesize(t)},$.$$arity=0),t.defn(g,"$each_byte",o=function(){var t=this,e=o.$$p,n=e||l;return e&&(o.$$p=null),n===l?t.$enum_for("each_byte"):(_(t.encoding,"each_byte",[t],n.$to_proc()),t)},o.$$arity=0),t.defn(g,"$encode",s=function(t){var e=this;return e.$dup().$force_encoding(t)},s.$$arity=1),t.defn(g,"$encoding",d=function(){var t=this;return t.encoding},d.$$arity=0),t.defn(g,"$force_encoding",f=function(e){var n=this;if(e===n.encoding)return n;if(e=t.const_get_relative(m,"Opal")["$coerce_to!"](e,t.const_get_relative(m,"String"),"to_s"),e=t.const_get_relative(m,"Encoding").$find(e),e["$=="](n.encoding))return n;u(e["$nil?"]())&&n.$raise(t.const_get_relative(m,"ArgumentError"),"unknown encoding name - "+e);var r=new String(n);return r.encoding=e,r},f.$$arity=1),t.defn(g,"$getbyte",p=function(t){var e=this;return e.encoding.$getbyte(e,t)},p.$$arity=1),t.defn(g,"$valid_encoding?",h=function(){return!0},h.$$arity=0),l&&"valid_encoding?"}(s[0],null,s)},Opal.modules["corelib/math"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var r=(t.top,[]),i=(t.nil,t.breaker,t.slice,t.module),a=t.truthy;return t.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),function(r,$){var o,s,l,c,u,_,d,f,p,h,g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P=o=i(r,"Math"),L=(P.$$proto,[P].concat($));t.const_set(L[0],"E",Math.E),t.const_set(L[0],"PI",Math.PI),t.const_set(L[0],"DomainError",t.const_get_relative(L,"Class").$new(t.const_get_relative(L,"StandardError"))),t.defs(P,"$checked",s=function(e,n){var r,i=this,a=arguments.length,$=a-1;$<0&&($=0),r=new Array($);for(var o=1;o<a;o++)r[o-1]=arguments[o];if(isNaN(r[0])||2==r.length&&isNaN(r[1]))return NaN;var s=Math[e].apply(null,r);return isNaN(s)&&i.$raise(t.const_get_relative(L,"DomainError"),'Numerical argument is out of domain - "'+e+'"'),s},s.$$arity=-2),t.defs(P,"$float!",l=function(e){var n=this;try{return n.$Float(e)}catch(r){if(!t.rescue(r,[t.const_get_relative(L,"ArgumentError")]))throw r;try{return n.$raise(t.const_get_relative(L,"Opal").$type_error(e,t.const_get_relative(L,"Float")))}finally{t.pop_exception()}}},l.$$arity=1),t.defs(P,"$integer!",c=function(e){var n=this;try{return n.$Integer(e)}catch(r){if(!t.rescue(r,[t.const_get_relative(L,"ArgumentError")]))throw r;try{return n.$raise(t.const_get_relative(L,"Opal").$type_error(e,t.const_get_relative(L,"Integer")))}finally{t.pop_exception()}}},c.$$arity=1),P.$module_function(),t.defn(P,"$acos",u=function(e){return t.const_get_relative(L,"Math").$checked("acos",t.const_get_relative(L,"Math")["$float!"](e))},u.$$arity=1),a("undefined"!=typeof Math.acosh)||(Math.acosh=function(t){return Math.log(t+Math.sqrt(t*t-1))}),t.defn(P,"$acosh",_=function(e){return t.const_get_relative(L,"Math").$checked("acosh",t.const_get_relative(L,"Math")["$float!"](e))},_.$$arity=1),t.defn(P,"$asin",d=function(e){return t.const_get_relative(L,"Math").$checked("asin",t.const_get_relative(L,"Math")["$float!"](e))},d.$$arity=1),a("undefined"!=typeof Math.asinh)||(Math.asinh=function(t){return Math.log(t+Math.sqrt(t*t+1))}),t.defn(P,"$asinh",f=function(e){return t.const_get_relative(L,"Math").$checked("asinh",t.const_get_relative(L,"Math")["$float!"](e))},f.$$arity=1),t.defn(P,"$atan",p=function(e){return t.const_get_relative(L,"Math").$checked("atan",t.const_get_relative(L,"Math")["$float!"](e))},p.$$arity=1),t.defn(P,"$atan2",h=function(e,n){return t.const_get_relative(L,"Math").$checked("atan2",t.const_get_relative(L,"Math")["$float!"](e),t.const_get_relative(L,"Math")["$float!"](n));
},h.$$arity=2),a("undefined"!=typeof Math.atanh)||(Math.atanh=function(t){return.5*Math.log((1+t)/(1-t))}),t.defn(P,"$atanh",g=function(e){return t.const_get_relative(L,"Math").$checked("atanh",t.const_get_relative(L,"Math")["$float!"](e))},g.$$arity=1),a("undefined"!=typeof Math.cbrt)||(Math.cbrt=function(t){if(0==t)return 0;if(t<0)return-Math.cbrt(-t);for(var e=t,n=0;e<.125;)e*=8,n--;for(;e>1;)e*=.125,n++;for(e=(-.46946116*e+1.072302)*e+.3812513;n<0;)e*=.5,n++;for(;n>0;)e*=2,n--;return e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e)}),t.defn(P,"$cbrt",v=function(e){return t.const_get_relative(L,"Math").$checked("cbrt",t.const_get_relative(L,"Math")["$float!"](e))},v.$$arity=1),t.defn(P,"$cos",m=function(e){return t.const_get_relative(L,"Math").$checked("cos",t.const_get_relative(L,"Math")["$float!"](e))},m.$$arity=1),a("undefined"!=typeof Math.cosh)||(Math.cosh=function(t){return(Math.exp(t)+Math.exp(-t))/2}),t.defn(P,"$cosh",y=function(e){return t.const_get_relative(L,"Math").$checked("cosh",t.const_get_relative(L,"Math")["$float!"](e))},y.$$arity=1),a("undefined"!=typeof Math.erf)||(Math.erf=function(t){var e=.254829592,n=-.284496736,r=1.421413741,i=-1.453152027,a=1.061405429,$=.3275911,o=1;t<0&&(o=-1),t=Math.abs(t);var s=1/(1+$*t),l=1-((((a*s+i)*s+r)*s+n)*s+e)*s*Math.exp(-t*t);return o*l}),t.defn(P,"$erf",b=function(e){return t.const_get_relative(L,"Math").$checked("erf",t.const_get_relative(L,"Math")["$float!"](e))},b.$$arity=1),a("undefined"!=typeof Math.erfc)||(Math.erfc=function(t){var e=Math.abs(t),n=1/(.5*e+1),r=.17087277*n+-.82215223,i=n*r+1.48851587,a=n*i+-1.13520398,$=n*a+.27886807,o=n*$+-.18628806,s=n*o+.09678418,l=n*s+.37409196,c=n*l+1.00002368,u=n*c,_=-e*e-1.26551223+u,d=n*Math.exp(_);return t<0?2-d:d}),t.defn(P,"$erfc",k=function(e){return t.const_get_relative(L,"Math").$checked("erfc",t.const_get_relative(L,"Math")["$float!"](e))},k.$$arity=1),t.defn(P,"$exp",w=function(e){return t.const_get_relative(L,"Math").$checked("exp",t.const_get_relative(L,"Math")["$float!"](e))},w.$$arity=1),t.defn(P,"$frexp",x=function(e){if(e=t.const_get_relative(L,"Math")["$float!"](e),isNaN(e))return[NaN,0];var n=Math.floor(Math.log(Math.abs(e))/Math.log(2))+1,r=e/Math.pow(2,n);return[r,n]},x.$$arity=1),t.defn(P,"$gamma",E=function(n){var r=this;n=t.const_get_relative(L,"Math")["$float!"](n);var i,a,$,o,s,l,c,u,_,d=4.7421875,f=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(n))return NaN;if(0===n&&1/n<0)return-(1/0);if(n!==-1&&n!==-(1/0)||r.$raise(t.const_get_relative(L,"DomainError"),'Numerical argument is out of domain - "gamma"'),t.const_get_relative(L,"Integer")["$==="](n)){if(n<=0)return isFinite(n)?1/0:NaN;if(n>171)return 1/0;for(o=n-2,s=n-1;o>1;)s*=o,o--;return 0==s&&(s=1),s}if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*t.const_get_relative(L,"Math").$gamma(e(1,n)));if(n>=171.35)return 1/0;if(n>85)return l=n*n,c=l*n,u=c*n,_=u*n,Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*l)-139/(51840*c)-571/(2488320*u)+163879/(209018880*_)+5246819/(75246796800*_*n));for(n-=1,$=f[0],i=1;i<f.length;++i)$+=f[i]/(n+i);return a=n+d+.5,Math.sqrt(2*Math.PI)*Math.pow(a,n+.5)*Math.exp(-a)*$},E.$$arity=1),a("undefined"!=typeof Math.hypot)||(Math.hypot=function(t,e){return Math.sqrt(t*t+e*e)}),t.defn(P,"$hypot",O=function(e,n){return t.const_get_relative(L,"Math").$checked("hypot",t.const_get_relative(L,"Math")["$float!"](e),t.const_get_relative(L,"Math")["$float!"](n))},O.$$arity=2),t.defn(P,"$ldexp",A=function(e,n){var r=this;return e=t.const_get_relative(L,"Math")["$float!"](e),n=t.const_get_relative(L,"Math")["$integer!"](n),isNaN(n)&&r.$raise(t.const_get_relative(L,"RangeError"),"float NaN out of range of integer"),e*Math.pow(2,n)},A.$$arity=2),t.defn(P,"$lgamma",S=function(e){return e==-1?[1/0,1]:[Math.log(Math.abs(t.const_get_relative(L,"Math").$gamma(e))),t.const_get_relative(L,"Math").$gamma(e)<0?-1:1]},S.$$arity=1),t.defn(P,"$log",R=function(e,r){var i=this;return a(t.const_get_relative(L,"String")["$==="](e))&&i.$raise(t.const_get_relative(L,"Opal").$type_error(e,t.const_get_relative(L,"Float"))),a(null==r)?t.const_get_relative(L,"Math").$checked("log",t.const_get_relative(L,"Math")["$float!"](e)):(a(t.const_get_relative(L,"String")["$==="](r))&&i.$raise(t.const_get_relative(L,"Opal").$type_error(r,t.const_get_relative(L,"Float"))),n(t.const_get_relative(L,"Math").$checked("log",t.const_get_relative(L,"Math")["$float!"](e)),t.const_get_relative(L,"Math").$checked("log",t.const_get_relative(L,"Math")["$float!"](r))))},R.$$arity=-2),a("undefined"!=typeof Math.log10)||(Math.log10=function(t){return Math.log(t)/Math.LN10}),t.defn(P,"$log10",M=function(e){var n=this;return a(t.const_get_relative(L,"String")["$==="](e))&&n.$raise(t.const_get_relative(L,"Opal").$type_error(e,t.const_get_relative(L,"Float"))),t.const_get_relative(L,"Math").$checked("log10",t.const_get_relative(L,"Math")["$float!"](e))},M.$$arity=1),a("undefined"!=typeof Math.log2)||(Math.log2=function(t){return Math.log(t)/Math.LN2}),t.defn(P,"$log2",T=function(e){var n=this;return a(t.const_get_relative(L,"String")["$==="](e))&&n.$raise(t.const_get_relative(L,"Opal").$type_error(e,t.const_get_relative(L,"Float"))),t.const_get_relative(L,"Math").$checked("log2",t.const_get_relative(L,"Math")["$float!"](e))},T.$$arity=1),t.defn(P,"$sin",I=function(e){return t.const_get_relative(L,"Math").$checked("sin",t.const_get_relative(L,"Math")["$float!"](e))},I.$$arity=1),a("undefined"!=typeof Math.sinh)||(Math.sinh=function(t){return(Math.exp(t)-Math.exp(-t))/2}),t.defn(P,"$sinh",q=function(e){return t.const_get_relative(L,"Math").$checked("sinh",t.const_get_relative(L,"Math")["$float!"](e))},q.$$arity=1),t.defn(P,"$sqrt",C=function(e){return t.const_get_relative(L,"Math").$checked("sqrt",t.const_get_relative(L,"Math")["$float!"](e))},C.$$arity=1),t.defn(P,"$tan",N=function(e){return e=t.const_get_relative(L,"Math")["$float!"](e),a(e["$infinite?"]())?t.const_get_qualified(t.const_get_relative(L,"Float"),"NAN"):t.const_get_relative(L,"Math").$checked("tan",t.const_get_relative(L,"Math")["$float!"](e))},N.$$arity=1),a("undefined"!=typeof Math.tanh)||(Math.tanh=function(t){return t==1/0?1:t==-(1/0)?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}),t.defn(P,"$tanh",z=function(e){return t.const_get_relative(L,"Math").$checked("tanh",t.const_get_relative(L,"Math")["$float!"](e))},z.$$arity=1)}(r[0],r)},Opal.modules["corelib/complex"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var $=t.top,o=[],s=t.nil,l=(t.breaker,t.slice,t.klass),c=t.truthy,u=t.module;return t.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$to_s","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$zero?","$infinite?"]),$.$require("corelib/numeric"),function($,o,u){function _(){}var d,f,p,h,g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P,L,D,B,j,U=_=l($,o,"Complex",_),F=U.$$proto,H=[U].concat(u);return F.real=F.imag=s,t.defs(U,"$rect",d=function(e,n){var r,i,a,$=this;return null==n&&(n=0),c(c(r=c(i=c(a=t.const_get_relative(H,"Numeric")["$==="](e))?e["$real?"]():a)?t.const_get_relative(H,"Numeric")["$==="](n):i)?n["$real?"]():r)||$.$raise(t.const_get_relative(H,"TypeError"),"not a real"),$.$new(e,n)},d.$$arity=-2),function(e,n){e.$$proto,[e].concat(n);return t.alias(e,"rectangular","rect")}(t.get_singleton_class(U),H),t.defs(U,"$polar",f=function(n,r){var i,a,$,o=this;return null==r&&(r=0),c(c(i=c(a=c($=t.const_get_relative(H,"Numeric")["$==="](n))?n["$real?"]():$)?t.const_get_relative(H,"Numeric")["$==="](r):a)?r["$real?"]():i)||o.$raise(t.const_get_relative(H,"TypeError"),"not a real"),o.$new(e(n,t.const_get_relative(H,"Math").$cos(r)),e(n,t.const_get_relative(H,"Math").$sin(r)))},f.$$arity=-2),U.$attr_reader("real","imag"),t.defn(U,"$initialize",p=function(t,e){var n=this;return null==e&&(e=0),n.real=t,n.imag=e},p.$$arity=-2),t.defn(U,"$coerce",h=function(e){var n,r=this;return c(t.const_get_relative(H,"Complex")["$==="](e))?[e,r]:c(c(n=t.const_get_relative(H,"Numeric")["$==="](e))?e["$real?"]():n)?[t.const_get_relative(H,"Complex").$new(e,0),r]:r.$raise(t.const_get_relative(H,"TypeError"),""+e.$class()+" can't be coerced into Complex")},h.$$arity=1),t.defn(U,"$==",g=function(e){var n,r=this;return c(t.const_get_relative(H,"Complex")["$==="](e))?(n=r.real["$=="](e.$real()))?r.imag["$=="](e.$imag()):r.real["$=="](e.$real()):c(c(n=t.const_get_relative(H,"Numeric")["$==="](e))?e["$real?"]():n)?(n=r.real["$=="](e))?r.imag["$=="](0):r.real["$=="](e):e["$=="](r)},g.$$arity=1),t.defn(U,"$-@",v=function(){var t=this;return t.$Complex(t.real["$-@"](),t.imag["$-@"]())},v.$$arity=0),t.defn(U,"$+",m=function(e){var r,i=this;return c(t.const_get_relative(H,"Complex")["$==="](e))?i.$Complex(n(i.real,e.$real()),n(i.imag,e.$imag())):c(c(r=t.const_get_relative(H,"Numeric")["$==="](e))?e["$real?"]():r)?i.$Complex(n(i.real,e),i.imag):i.$__coerced__("+",e)},m.$$arity=1),t.defn(U,"$-",y=function(e){var n,i=this;return c(t.const_get_relative(H,"Complex")["$==="](e))?i.$Complex(r(i.real,e.$real()),r(i.imag,e.$imag())):c(c(n=t.const_get_relative(H,"Numeric")["$==="](e))?e["$real?"]():n)?i.$Complex(r(i.real,e),i.imag):i.$__coerced__("-",e)},y.$$arity=1),t.defn(U,"$*",b=function(i){var a,$=this;return c(t.const_get_relative(H,"Complex")["$==="](i))?$.$Complex(r(e($.real,i.$real()),e($.imag,i.$imag())),n(e($.real,i.$imag()),e($.imag,i.$real()))):c(c(a=t.const_get_relative(H,"Numeric")["$==="](i))?i["$real?"]():a)?$.$Complex(e($.real,i),e($.imag,i)):$.$__coerced__("*",i)},b.$$arity=1),t.defn(U,"$/",k=function(n){var r,a,$,o,s=this;return c(t.const_get_relative(H,"Complex")["$==="](n))?c(c(r=c(a=c($=c(o=t.const_get_relative(H,"Number")["$==="](s.real))?s.real["$nan?"]():o)?$:c(o=t.const_get_relative(H,"Number")["$==="](s.imag))?s.imag["$nan?"]():o)?a:c($=t.const_get_relative(H,"Number")["$==="](n.$real()))?n.$real()["$nan?"]():$)?r:c(a=t.const_get_relative(H,"Number")["$==="](n.$imag()))?n.$imag()["$nan?"]():a)?t.const_get_relative(H,"Complex").$new(t.const_get_qualified(t.const_get_relative(H,"Float"),"NAN"),t.const_get_qualified(t.const_get_relative(H,"Float"),"NAN")):i(e(s,n.$conj()),n.$abs2()):c(c(r=t.const_get_relative(H,"Numeric")["$==="](n))?n["$real?"]():r)?s.$Complex(s.real.$quo(n),s.imag.$quo(n)):s.$__coerced__("/",n)},k.$$arity=1),t.defn(U,"$**",w=function($){var o,l,u,_,d=this,f=s,p=s,h=s,g=s,v=s,m=s,y=s,b=s,k=s,w=s,x=s;if($["$=="](0))return t.const_get_relative(H,"Complex").$new(1,0);if(c(t.const_get_relative(H,"Complex")["$==="]($)))return l=d.$polar(),o=t.to_ary(l),f=null==o[0]?s:o[0],p=null==o[1]?s:o[1],l,h=$.$real(),g=$.$imag(),v=t.const_get_relative(H,"Math").$exp(r(e(h,t.const_get_relative(H,"Math").$log(f)),e(g,p))),m=n(e(p,h),e(g,t.const_get_relative(H,"Math").$log(f))),t.const_get_relative(H,"Complex").$polar(v,m);if(c(t.const_get_relative(H,"Integer")["$==="]($))){if(c(a($,0))){for(y=d,b=y,k=r($,1);c(k["$!="](0));){for(;c((_=k.$divmod(2),u=t.to_ary(_),w=null==u[0]?s:u[0],x=null==u[1]?s:u[1],x["$=="](0)));)y=d.$Complex(r(e(y.$real(),y.$real()),e(y.$imag(),y.$imag())),e(e(2,y.$real()),y.$imag())),k=w;b=e(b,y),k=r(k,1)}return b}return i(t.const_get_relative(H,"Rational").$new(1,1),d)["$**"]($["$-@"]())}return c(c(o=t.const_get_relative(H,"Float")["$==="]($))?o:t.const_get_relative(H,"Rational")["$==="]($))?(l=d.$polar(),o=t.to_ary(l),f=null==o[0]?s:o[0],p=null==o[1]?s:o[1],l,t.const_get_relative(H,"Complex").$polar(f["$**"]($),e(p,$))):d.$__coerced__("**",$)},w.$$arity=1),t.defn(U,"$abs",x=function(){var e=this;return t.const_get_relative(H,"Math").$hypot(e.real,e.imag)},x.$$arity=0),t.defn(U,"$abs2",E=function(){var t=this;return n(e(t.real,t.real),e(t.imag,t.imag))},E.$$arity=0),t.defn(U,"$angle",O=function(){var e=this;return t.const_get_relative(H,"Math").$atan2(e.imag,e.real)},O.$$arity=0),t.alias(U,"arg","angle"),t.defn(U,"$conj",A=function(){var t=this;return t.$Complex(t.real,t.imag["$-@"]())},A.$$arity=0),t.alias(U,"conjugate","conj"),t.defn(U,"$denominator",S=function(){var t=this;return t.real.$denominator().$lcm(t.imag.$denominator())},S.$$arity=0),t.alias(U,"divide","/"),t.defn(U,"$eql?",R=function(e){var n,r,i=this;return c(n=c(r=t.const_get_relative(H,"Complex")["$==="](e))?i.real.$class()["$=="](i.imag.$class()):r)?i["$=="](e):n},R.$$arity=1),t.defn(U,"$fdiv",M=function(e){var n=this;return c(t.const_get_relative(H,"Numeric")["$==="](e))||n.$raise(t.const_get_relative(H,"TypeError"),""+e.$class()+" can't be coerced into Complex"),i(n,e)},M.$$arity=1),t.defn(U,"$hash",T=function(){var t=this;return"Complex:"+t.real+":"+t.imag},T.$$arity=0),t.alias(U,"imaginary","imag"),t.defn(U,"$inspect",I=function(){var t=this;return"("+t.$to_s()+")"},I.$$arity=0),t.alias(U,"magnitude","abs"),t.udef(U,"$negative?"),t.defn(U,"$numerator",q=function(){var t=this,n=s;return n=t.$denominator(),t.$Complex(e(t.real.$numerator(),i(n,t.real.$denominator())),e(t.imag.$numerator(),i(n,t.imag.$denominator())))},q.$$arity=0),t.alias(U,"phase","arg"),t.defn(U,"$polar",C=function(){var t=this;return[t.$abs(),t.$arg()]},C.$$arity=0),t.udef(U,"$positive?"),t.alias(U,"quo","/"),t.defn(U,"$rationalize",N=function(e){var n=this;return arguments.length>1&&n.$raise(t.const_get_relative(H,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),c(n.imag["$!="](0))&&n.$raise(t.const_get_relative(H,"RangeError"),"can't' convert "+n+" into Rational"),n.$real().$rationalize(e)},N.$$arity=-1),t.defn(U,"$real?",z=function(){return!1},z.$$arity=0),t.defn(U,"$rect",P=function(){var t=this;return[t.real,t.imag]},P.$$arity=0),t.alias(U,"rectangular","rect"),t.defn(U,"$to_f",L=function(){var e=this;return e.imag["$=="](0)||e.$raise(t.const_get_relative(H,"RangeError"),"can't convert "+e+" into Float"),e.real.$to_f()},L.$$arity=0),t.defn(U,"$to_i",D=function(){var e=this;return e.imag["$=="](0)||e.$raise(t.const_get_relative(H,"RangeError"),"can't convert "+e+" into Integer"),e.real.$to_i()},D.$$arity=0),t.defn(U,"$to_r",B=function(){var e=this;return e.imag["$=="](0)||e.$raise(t.const_get_relative(H,"RangeError"),"can't convert "+e+" into Rational"),e.real.$to_r()},B.$$arity=0),t.defn(U,"$to_s",j=function(){var e,r,i,a=this,$=s;return $=a.real.$inspect(),$=c(c(e=c(r=c(i=t.const_get_relative(H,"Number")["$==="](a.imag))?a.imag["$nan?"]():i)?r:a.imag["$positive?"]())?e:a.imag["$zero?"]())?n($,"+"):n($,"-"),$=n($,a.imag.$abs().$inspect()),c(c(e=t.const_get_relative(H,"Number")["$==="](a.imag))?c(r=a.imag["$nan?"]())?r:a.imag["$infinite?"]():e)&&($=n($,"*")),n($,"i")},j.$$arity=0),t.const_set(H[0],"I",U.$new(0,1))}(o[0],t.const_get_relative(o,"Numeric"),o),function(e,n){var r,i,a=r=u(e,"Kernel"),$=(a.$$proto,[a].concat(n));t.defn(a,"$Complex",i=function(e,n){return null==n&&(n=s),c(n)?t.const_get_relative($,"Complex").$new(e,n):t.const_get_relative($,"Complex").$new(e,0)},i.$$arity=-2)}(o[0],o)},Opal.modules["corelib/rational"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var s=t.top,l=[],c=t.nil,u=(t.breaker,t.slice,t.klass),_=t.truthy,d=t.module;return t.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$attr_reader","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$to_s","$<=","$truncate","$send","$convert"]),s.$require("corelib/numeric"),function(s,l,d){function f(){}var p,h,g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P,L,D,B,j=f=u(s,l,"Rational",f),U=j.$$proto,F=[j].concat(d);return U.num=U.den=c,t.defs(j,"$reduce",p=function(r,i){var a=this,$=c;if(r=r.$to_i(),i=i.$to_i(),i["$=="](0))a.$raise(t.const_get_relative(F,"ZeroDivisionError"),"divided by 0");else if(_(e(i,0)))r=r["$-@"](),i=i["$-@"]();else if(i["$=="](1))return a.$new(r,i);return $=r.$gcd(i),a.$new(n(r,$),n(i,$))},p.$$arity=2),t.defs(j,"$convert",h=function(e,r){var i,a,$=this;return _(_(i=e["$nil?"]())?i:r["$nil?"]())&&$.$raise(t.const_get_relative(F,"TypeError"),"cannot convert nil into Rational"),_(_(i=t.const_get_relative(F,"Integer")["$==="](e))?t.const_get_relative(F,"Integer")["$==="](r):i)?$.$reduce(e,r):(_(_(i=_(a=t.const_get_relative(F,"Float")["$==="](e))?a:t.const_get_relative(F,"String")["$==="](e))?i:t.const_get_relative(F,"Complex")["$==="](e))&&(e=e.$to_r()),_(_(i=_(a=t.const_get_relative(F,"Float")["$==="](r))?a:t.const_get_relative(F,"String")["$==="](r))?i:t.const_get_relative(F,"Complex")["$==="](r))&&(r=r.$to_r()),_(_(i=r["$equal?"](1))?t.const_get_relative(F,"Integer")["$==="](e)["$!"]():i)?t.const_get_relative(F,"Opal")["$coerce_to!"](e,t.const_get_relative(F,"Rational"),"to_r"):_(_(i=t.const_get_relative(F,"Numeric")["$==="](e))?t.const_get_relative(F,"Numeric")["$==="](r):i)?n(e,r):$.$reduce(e,r))},h.$$arity=2),j.$attr_reader("numerator","denominator"),t.defn(j,"$initialize",g=function(t,e){var n=this;return n.num=t,n.den=e},g.$$arity=2),t.defn(j,"$numerator",v=function(){var t=this;return t.num},v.$$arity=0),t.defn(j,"$denominator",m=function(){var t=this;return t.den},m.$$arity=0),t.defn(j,"$coerce",y=function(e){var n=this,r=c;return function(){return r=e,t.const_get_relative(F,"Rational")["$==="](r)?[e,n]:t.const_get_relative(F,"Integer")["$==="](r)?[e.$to_r(),n]:t.const_get_relative(F,"Float")["$==="](r)?[e,n.$to_f()]:c}()},y.$$arity=1),t.defn(j,"$==",b=function(e){var n,r=this,i=c;return function(){return i=e,t.const_get_relative(F,"Rational")["$==="](i)?(n=r.num["$=="](e.$numerator()))?r.den["$=="](e.$denominator()):r.num["$=="](e.$numerator()):t.const_get_relative(F,"Integer")["$==="](i)?(n=r.num["$=="](e))?r.den["$=="](1):r.num["$=="](e):t.const_get_relative(F,"Float")["$==="](i)?r.$to_f()["$=="](e):e["$=="](r)}()},b.$$arity=1),t.defn(j,"$<=>",k=function(e){var n=this,a=c;return function(){return a=e,t.const_get_relative(F,"Rational")["$==="](a)?r(i(n.num,e.$denominator()),i(n.den,e.$numerator()))["$<=>"](0):t.const_get_relative(F,"Integer")["$==="](a)?r(n.num,i(n.den,e))["$<=>"](0):t.const_get_relative(F,"Float")["$==="](a)?n.$to_f()["$<=>"](e):n.$__coerced__("<=>",e)}()},k.$$arity=1),t.defn(j,"$+",w=function(e){var n=this,r=c,$=c,o=c;return function(){return r=e,t.const_get_relative(F,"Rational")["$==="](r)?($=a(i(n.num,e.$denominator()),i(n.den,e.$numerator())),o=i(n.den,e.$denominator()),n.$Rational($,o)):t.const_get_relative(F,"Integer")["$==="](r)?n.$Rational(a(n.num,i(e,n.den)),n.den):t.const_get_relative(F,"Float")["$==="](r)?a(n.$to_f(),e):n.$__coerced__("+",e)}()},w.$$arity=1),t.defn(j,"$-",x=function(e){var n=this,a=c,$=c,o=c;return function(){return a=e,t.const_get_relative(F,"Rational")["$==="](a)?($=r(i(n.num,e.$denominator()),i(n.den,e.$numerator())),o=i(n.den,e.$denominator()),n.$Rational($,o)):t.const_get_relative(F,"Integer")["$==="](a)?n.$Rational(r(n.num,i(e,n.den)),n.den):t.const_get_relative(F,"Float")["$==="](a)?r(n.$to_f(),e):n.$__coerced__("-",e)}()},x.$$arity=1),t.defn(j,"$*",E=function(e){var n=this,r=c,a=c,$=c;return function(){return r=e,t.const_get_relative(F,"Rational")["$==="](r)?(a=i(n.num,e.$numerator()),$=i(n.den,e.$denominator()),n.$Rational(a,$)):t.const_get_relative(F,"Integer")["$==="](r)?n.$Rational(i(n.num,e),n.den):t.const_get_relative(F,"Float")["$==="](r)?i(n.$to_f(),e):n.$__coerced__("*",e)}()},E.$$arity=1),t.defn(j,"$/",O=function(e){var r=this,a=c,$=c,o=c;return function(){return a=e,t.const_get_relative(F,"Rational")["$==="](a)?($=i(r.num,e.$denominator()),o=i(r.den,e.$numerator()),r.$Rational($,o)):t.const_get_relative(F,"Integer")["$==="](a)?e["$=="](0)?n(r.$to_f(),0):r.$Rational(r.num,i(r.den,e)):t.const_get_relative(F,"Float")["$==="](a)?n(r.$to_f(),e):r.$__coerced__("/",e)}()},O.$$arity=1),t.defn(j,"$**",A=function(n){var r,i=this,a=c;return function(){return a=n,t.const_get_relative(F,"Integer")["$==="](a)?_((r=i["$=="](0))?e(n,0):i["$=="](0))?t.const_get_qualified(t.const_get_relative(F,"Float"),"INFINITY"):_($(n,0))?i.$Rational(i.num["$**"](n),i.den["$**"](n)):_(e(n,0))?i.$Rational(i.den["$**"](n["$-@"]()),i.num["$**"](n["$-@"]())):i.$Rational(1,1):t.const_get_relative(F,"Float")["$==="](a)?i.$to_f()["$**"](n):t.const_get_relative(F,"Rational")["$==="](a)?n["$=="](0)?i.$Rational(1,1):n.$denominator()["$=="](1)?_(e(n,0))?i.$Rational(i.den["$**"](n.$numerator().$abs()),i.num["$**"](n.$numerator().$abs())):i.$Rational(i.num["$**"](n.$numerator()),i.den["$**"](n.$numerator())):_((r=i["$=="](0))?e(n,0):i["$=="](0))?i.$raise(t.const_get_relative(F,"ZeroDivisionError"),"divided by 0"):i.$to_f()["$**"](n):i.$__coerced__("**",n)}()},A.$$arity=1),t.defn(j,"$abs",S=function(){var t=this;return t.$Rational(t.num.$abs(),t.den.$abs())},S.$$arity=0),t.defn(j,"$ceil",R=function(t){var e=this;return null==t&&(t=0),t["$=="](0)?n(e.num["$-@"](),e.den)["$-@"]().$ceil():e.$with_precision("ceil",t)},R.$$arity=-1),t.alias(j,"divide","/"),t.defn(j,"$floor",M=function(t){var e=this;return null==t&&(t=0),t["$=="](0)?n(e.num["$-@"](),e.den)["$-@"]().$floor():e.$with_precision("floor",t)},M.$$arity=-1),t.defn(j,"$hash",T=function(){var t=this;return"Rational:"+t.num+":"+t.den},T.$$arity=0),t.defn(j,"$inspect",I=function(){var t=this;return"("+t.$to_s()+")"},I.$$arity=0),t.alias(j,"quo","/"),t.defn(j,"$rationalize",q=function(e){var i=this;if(arguments.length>1&&i.$raise(t.const_get_relative(F,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==e)return i;for(var $,s,l,c,u,_=e.$abs(),d=r(i,_),f=a(i,_),p=0,h=1,g=1,v=0;;){if(l=d.$ceil(),o(l,f))break;c=l-1,$=c*h+p,s=c*v+g,u=n(1,r(f,c)),f=n(1,r(d,c)),d=u,p=h,g=v,h=$,v=s}return i.$Rational(l*h+p,l*v+g)},q.$$arity=-1),t.defn(j,"$round",C=function(t){var r=this,$=c,o=c,s=c;return null==t&&(t=0),t["$=="](0)?r.num["$=="](0)?0:r.den["$=="](1)?r.num:($=a(i(r.num.$abs(),2),r.den),o=i(r.den,2),s=n($,o).$truncate(),_(e(r.num,0))?s["$-@"]():s):r.$with_precision("round",t)},C.$$arity=-1),t.defn(j,"$to_f",N=function(){var t=this;return n(t.num,t.den)},N.$$arity=0),t.defn(j,"$to_i",z=function(){var t=this;return t.$truncate()},z.$$arity=0),t.defn(j,"$to_r",P=function(){var t=this;return t},P.$$arity=0),t.defn(j,"$to_s",L=function(){var t=this;return""+t.num+"/"+t.den},L.$$arity=0),t.defn(j,"$truncate",D=function(t){var n=this;return null==t&&(t=0),t["$=="](0)?_(e(n.num,0))?n.$ceil():n.$floor():n.$with_precision("truncate",t)},D.$$arity=-1),t.defn(j,"$with_precision",B=function(r,a){var $=this,o=c,s=c;return _(t.const_get_relative(F,"Integer")["$==="](a))||$.$raise(t.const_get_relative(F,"TypeError"),"not an Integer"),o=10["$**"](a),s=i($,o),_(e(a,1))?n(s.$send(r),o).$to_i():$.$Rational(s.$send(r),o)},B.$$arity=2),c&&"with_precision"}(l[0],t.const_get_relative(l,"Numeric"),l),function(e,n){var r,i,a=r=d(e,"Kernel"),$=(a.$$proto,[a].concat(n));t.defn(a,"$Rational",i=function(e,n){return null==n&&(n=1),t.const_get_relative($,"Rational").$convert(e,n)},i.$$arity=-2)}(l[0],l)},Opal.modules["corelib/time"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var o=t.top,s=[],l=t.nil,c=(t.breaker,t.slice),u=t.klass,_=t.truthy,d=t.range;return t.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),o.$require("corelib/comparable"),function(o,s,f){function p(){}function h(e,n,r,i,a,$){if(e=e.$$is_string?parseInt(e,10):t.const_get_relative($t,"Opal")["$coerce_to!"](e,t.const_get_relative($t,"Integer"),"to_int"),n===l)n=1;else if(!n.$$is_number)if(n["$respond_to?"]("to_str"))switch(n=n.$to_str(),n.toLowerCase()){case"jan":n=1;break;case"feb":n=2;break;case"mar":n=3;break;case"apr":n=4;break;case"may":n=5;break;case"jun":n=6;break;case"jul":n=7;break;case"aug":n=8;break;case"sep":n=9;break;case"oct":n=10;break;case"nov":n=11;break;case"dec":n=12;break;default:n=n.$to_i()}else n=t.const_get_relative($t,"Opal")["$coerce_to!"](n,t.const_get_relative($t,"Integer"),"to_int");return(n<1||n>12)&&at.$raise(t.const_get_relative($t,"ArgumentError"),"month out of range: "+n),n-=1,r=r===l?1:r.$$is_string?parseInt(r,10):t.const_get_relative($t,"Opal")["$coerce_to!"](r,t.const_get_relative($t,"Integer"),"to_int"),(r<1||r>31)&&at.$raise(t.const_get_relative($t,"ArgumentError"),"day out of range: "+r),i=i===l?0:i.$$is_string?parseInt(i,10):t.const_get_relative($t,"Opal")["$coerce_to!"](i,t.const_get_relative($t,"Integer"),"to_int"),(i<0||i>24)&&at.$raise(t.const_get_relative($t,"ArgumentError"),"hour out of range: "+i),a=a===l?0:a.$$is_string?parseInt(a,10):t.const_get_relative($t,"Opal")["$coerce_to!"](a,t.const_get_relative($t,"Integer"),"to_int"),(a<0||a>59)&&at.$raise(t.const_get_relative($t,"ArgumentError"),"min out of range: "+a),$===l?$=0:$.$$is_number||($=$.$$is_string?parseInt($,10):t.const_get_relative($t,"Opal")["$coerce_to!"]($,t.const_get_relative($t,"Integer"),"to_int")),($<0||$>60)&&at.$raise(t.const_get_relative($t,"ArgumentError"),"sec out of range: "+$),[e,n,r,i,a,$]}var g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P,L,D,B,j,U,F,H,G,Y,W,K,X,V,J,Z,Q,tt,et,nt,rt,it,at=p=u(o,s,"Time",p),$t=(at.$$proto,[at].concat(f));at.$include(t.const_get_relative($t,"Comparable"));var ot=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],st=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],lt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ct=["January","February","March","April","May","June","July","August","September","October","November","December"];return t.defs(at,"$at",g=function(e,n){var r,i=this;return t.const_get_relative($t,"Time")["$==="](e)?(void 0!==n&&i.$raise(t.const_get_relative($t,"TypeError"),"can't convert Time into an exact number"),r=new Date(e.getTime()),r.is_utc=e.is_utc,r):(e.$$is_number||(e=t.const_get_relative($t,"Opal")["$coerce_to!"](e,t.const_get_relative($t,"Integer"),"to_int")),void 0===n?new Date(1e3*e):(n.$$is_number||(n=t.const_get_relative($t,"Opal")["$coerce_to!"](n,t.const_get_relative($t,"Integer"),"to_int")),new Date(1e3*e+n/1e3)))},g.$$arity=-2),t.defs(at,"$new",v=function(e,n,r,i,a,$,o){var s=this;null==n&&(n=l),null==r&&(r=l),null==i&&(i=l),null==a&&(a=l),null==$&&($=l),null==o&&(o=l);var c,u;return void 0===e?new Date:(o!==l&&s.$raise(t.const_get_relative($t,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),c=h(e,n,r,i,a,$),e=c[0],n=c[1],r=c[2],i=c[3],a=c[4],$=c[5],u=new Date(e,n,r,i,a,0,1e3*$),e<100&&u.setFullYear(e),u)},v.$$arity=-1),t.defs(at,"$local",m=function(t,e,n,r,i,a,$,o,s,u){null==e&&(e=l),null==n&&(n=l),null==r&&(r=l),null==i&&(i=l),null==a&&(a=l),null==$&&($=l),null==o&&(o=l),null==s&&(s=l),null==u&&(u=l);var _,d;return 10===arguments.length&&(_=c.call(arguments),t=_[5],e=_[4],n=_[3],r=_[2],i=_[1],a=_[0]),_=h(t,e,n,r,i,a),t=_[0],e=_[1],n=_[2],r=_[3],i=_[4],a=_[5],d=new Date(t,e,n,r,i,0,1e3*a),t<100&&d.setFullYear(t),d},m.$$arity=-2),t.defs(at,"$gm",y=function(t,e,n,r,i,a,$,o,s,u){null==e&&(e=l),null==n&&(n=l),null==r&&(r=l),null==i&&(i=l),null==a&&(a=l),null==$&&($=l),null==o&&(o=l),null==s&&(s=l),null==u&&(u=l);var _,d;return 10===arguments.length&&(_=c.call(arguments),t=_[5],e=_[4],n=_[3],r=_[2],i=_[1],a=_[0]),_=h(t,e,n,r,i,a),t=_[0],e=_[1],n=_[2],r=_[3],i=_[4],a=_[5],d=new Date(Date.UTC(t,e,n,r,i,0,1e3*a)),t<100&&d.setUTCFullYear(t),d.is_utc=!0,d},y.$$arity=-2),function(e,n){e.$$proto,[e].concat(n);return t.alias(e,"mktime","local"),t.alias(e,"utc","gm")}(t.get_singleton_class(at),$t),t.defs(at,"$now",b=function(){var t=this;return t.$new()},b.$$arity=0),t.defn(at,"$+",k=function(e){var n=this;_(t.const_get_relative($t,"Time")["$==="](e))&&n.$raise(t.const_get_relative($t,"TypeError"),"time + time?"),e.$$is_number||(e=t.const_get_relative($t,"Opal")["$coerce_to!"](e,t.const_get_relative($t,"Integer"),"to_int"));var r=new Date(n.getTime()+1e3*e);return r.is_utc=n.is_utc,r},k.$$arity=1),t.defn(at,"$-",w=function(e){var n=this;if(_(t.const_get_relative($t,"Time")["$==="](e)))return(n.getTime()-e.getTime())/1e3;e.$$is_number||(e=t.const_get_relative($t,"Opal")["$coerce_to!"](e,t.const_get_relative($t,"Integer"),"to_int"));var r=new Date(n.getTime()-1e3*e);return r.is_utc=n.is_utc,r},w.$$arity=1),t.defn(at,"$<=>",x=function(r){var i=this,a=l;return _(t.const_get_relative($t,"Time")["$==="](r))?i.$to_f()["$<=>"](r.$to_f()):(a=r["$<=>"](i),_(a["$nil?"]())?l:_(e(a,0))?-1:_(n(a,0))?1:0)},x.$$arity=1),t.defn(at,"$==",E=function(e){var n,r=this;return _(n=t.const_get_relative($t,"Time")["$==="](e))?r.$to_f()===e.$to_f():n},E.$$arity=1),t.defn(at,"$asctime",O=function(){var t=this;return t.$strftime("%a %b %e %H:%M:%S %Y")},O.$$arity=0),t.alias(at,"ctime","asctime"),t.defn(at,"$day",A=function(){var t=this;return t.is_utc?t.getUTCDate():t.getDate()},A.$$arity=0),t.defn(at,"$yday",S=function(){var e=this,n=l,$=l,o=l;return n=t.const_get_relative($t,"Time").$new(e.$year()).$to_i(),$=t.const_get_relative($t,"Time").$new(e.$year(),e.$month(),e.$day()).$to_i(),o=86400,r(i(a($,n),o).$round(),1)},S.$$arity=0),t.defn(at,"$isdst",R=function(){var t=this,e=new Date(t.getFullYear(),0,1),n=new Date(t.getFullYear(),6,1);return t.getTimezoneOffset()<Math.max(e.getTimezoneOffset(),n.getTimezoneOffset())},R.$$arity=0),t.alias(at,"dst?","isdst"),t.defn(at,"$dup",M=function(){var t=this,e=l;return e=new Date(t.getTime()),e.$copy_instance_variables(t),e.$initialize_dup(t),e},M.$$arity=0),t.defn(at,"$eql?",T=function(e){var n,r=this;return _(n=e["$is_a?"](t.const_get_relative($t,"Time")))?r["$<=>"](e)["$zero?"]():n},T.$$arity=1),t.defn(at,"$friday?",I=function(){var t=this;return 5==t.$wday()},I.$$arity=0),t.defn(at,"$hash",q=function(){var t=this;return"Time:"+t.getTime()},q.$$arity=0),t.defn(at,"$hour",C=function(){var t=this;return t.is_utc?t.getUTCHours():t.getHours()},C.$$arity=0),t.defn(at,"$inspect",N=function(){var t=this;return _(t["$utc?"]())?t.$strftime("%Y-%m-%d %H:%M:%S UTC"):t.$strftime("%Y-%m-%d %H:%M:%S %z")},N.$$arity=0),t.alias(at,"mday","day"),t.defn(at,"$min",z=function(){var t=this;return t.is_utc?t.getUTCMinutes():t.getMinutes()},z.$$arity=0),t.defn(at,"$mon",P=function(){
var t=this;return(t.is_utc?t.getUTCMonth():t.getMonth())+1},P.$$arity=0),t.defn(at,"$monday?",L=function(){var t=this;return 1==t.$wday()},L.$$arity=0),t.alias(at,"month","mon"),t.defn(at,"$saturday?",D=function(){var t=this;return 6==t.$wday()},D.$$arity=0),t.defn(at,"$sec",B=function(){var t=this;return t.is_utc?t.getUTCSeconds():t.getSeconds()},B.$$arity=0),t.defn(at,"$succ",j=function(){var t=this,e=new Date(t.getTime()+1e3);return e.is_utc=t.is_utc,e},j.$$arity=0),t.defn(at,"$usec",U=function(){var t=this;return 1e3*t.getMilliseconds()},U.$$arity=0),t.defn(at,"$zone",F=function(){var t,e=this,n=e.toString();return t=n.indexOf("(")==-1?n.match(/[A-Z]{3,4}/)[0]:n.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join(""),"GMT"==t&&/(GMT\W*\d{4})/.test(n)?RegExp.$1:t},F.$$arity=0),t.defn(at,"$getgm",H=function(){var t=this,e=new Date(t.getTime());return e.is_utc=!0,e},H.$$arity=0),t.alias(at,"getutc","getgm"),t.defn(at,"$gmtime",G=function(){var t=this;return t.is_utc=!0,t},G.$$arity=0),t.alias(at,"utc","gmtime"),t.defn(at,"$gmt?",Y=function(){var t=this;return t.is_utc===!0},Y.$$arity=0),t.defn(at,"$gmt_offset",W=function(){var t=this;return 60*-t.getTimezoneOffset()},W.$$arity=0),t.defn(at,"$strftime",K=function(t){var e=this;return t.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(t,n,r,i,a){var $="",o=n.indexOf("0")!==-1,s=n.indexOf("-")===-1,l=n.indexOf("_")!==-1,c=n.indexOf("^")!==-1,u=n.indexOf("#")!==-1,_=(n.match(":")||[]).length;switch(r=parseInt(r,10),o&&l&&(n.indexOf("0")<n.indexOf("_")?o=!1:l=!1),a){case"Y":$+=e.$year();break;case"C":o=!l,$+=Math.round(e.$year()/100);break;case"y":o=!l,$+=e.$year()%100;break;case"m":o=!l,$+=e.$mon();break;case"B":$+=ct[e.$mon()-1];break;case"b":case"h":l=!o,$+=lt[e.$mon()-1];break;case"d":o=!l,$+=e.$day();break;case"e":l=!o,$+=e.$day();break;case"j":$+=e.$yday();break;case"H":o=!l,$+=e.$hour();break;case"k":l=!o,$+=e.$hour();break;case"I":o=!l,$+=e.$hour()%12||12;break;case"l":l=!o,$+=e.$hour()%12||12;break;case"P":$+=e.$hour()>=12?"pm":"am";break;case"p":$+=e.$hour()>=12?"PM":"AM";break;case"M":o=!l,$+=e.$min();break;case"S":o=!l,$+=e.$sec();break;case"L":o=!l,r=isNaN(r)?3:r,$+=e.getMilliseconds();break;case"N":r=isNaN(r)?9:r,$+=e.getMilliseconds().toString().$rjust(3,"0"),$=$.$ljust(r,"0");break;case"z":var f=e.getTimezoneOffset(),p=Math.floor(Math.abs(f)/60),h=Math.abs(f)%60;$+=f<0?"+":"-",$+=p<10?"0":"",$+=p,_>0&&($+=":"),$+=h<10?"0":"",$+=h,_>1&&($+=":00");break;case"Z":$+=e.$zone();break;case"A":$+=ot[e.$wday()];break;case"a":$+=st[e.$wday()];break;case"u":$+=e.$wday()+1;break;case"w":$+=e.$wday();break;case"V":$+=e.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":$+=e.$cweek_cyear()["$[]"](1);break;case"g":$+=e.$cweek_cyear()["$[]"](1)["$[]"](d(-2,-1,!1));break;case"s":$+=e.$to_i();break;case"n":$+="\n";break;case"t":$+="\t";break;case"%":$+="%";break;case"c":$+=e.$strftime("%a %b %e %T %Y");break;case"D":case"x":$+=e.$strftime("%m/%d/%y");break;case"F":$+=e.$strftime("%Y-%m-%d");break;case"v":$+=e.$strftime("%e-%^b-%4Y");break;case"r":$+=e.$strftime("%I:%M:%S %p");break;case"R":$+=e.$strftime("%H:%M");break;case"T":case"X":$+=e.$strftime("%H:%M:%S");break;default:return t}return c&&($=$.toUpperCase()),u&&($=$.replace(/[A-Z]/,function(t){t.toLowerCase()}).replace(/[a-z]/,function(t){t.toUpperCase()})),s&&(o||l)&&($=$.$rjust(isNaN(r)?2:r,l?" ":"0")),$})},K.$$arity=1),t.defn(at,"$sunday?",X=function(){var t=this;return 0==t.$wday()},X.$$arity=0),t.defn(at,"$thursday?",V=function(){var t=this;return 4==t.$wday()},V.$$arity=0),t.defn(at,"$to_a",J=function(){var t=this;return[t.$sec(),t.$min(),t.$hour(),t.$day(),t.$month(),t.$year(),t.$wday(),t.$yday(),t.$isdst(),t.$zone()]},J.$$arity=0),t.defn(at,"$to_f",Z=function(){var t=this;return t.getTime()/1e3},Z.$$arity=0),t.defn(at,"$to_i",Q=function(){var t=this;return parseInt(t.getTime()/1e3,10)},Q.$$arity=0),t.alias(at,"to_s","inspect"),t.defn(at,"$tuesday?",tt=function(){var t=this;return 2==t.$wday()},tt.$$arity=0),t.alias(at,"tv_sec","to_i"),t.alias(at,"tv_usec","usec"),t.alias(at,"utc?","gmt?"),t.alias(at,"gmtoff","gmt_offset"),t.alias(at,"utc_offset","gmt_offset"),t.defn(at,"$wday",et=function(){var t=this;return t.is_utc?t.getUTCDay():t.getDay()},et.$$arity=0),t.defn(at,"$wednesday?",nt=function(){var t=this;return 3==t.$wday()},nt.$$arity=0),t.defn(at,"$year",rt=function(){var t=this;return t.is_utc?t.getUTCFullYear():t.getFullYear()},rt.$$arity=0),t.defn(at,"$cweek_cyear",it=function(){var e,n=this,o=l,s=l,c=l,u=l,d=l,f=l,p=l,h=l;return o=t.const_get_relative($t,"Time").$new(n.$year(),1,1),s=o.$wday(),c=0,u=n.$year(),_(_(e=$(s,4))?s["$!="](0):e)?d=a(s,1):(d=a(a(s,7),1),d["$=="](-8)&&(d=-1)),f=i(r(n.$yday(),d),7).$ceil(),_($(f,0))?t.const_get_relative($t,"Time").$new(a(n.$year(),1),12,31).$cweek_cyear():(f["$=="](53)&&(p=t.const_get_relative($t,"Time").$new(n.$year(),12,31),h=p.$wday(),_(_(e=$(h,3))?h["$!="](0):e)&&(f=1,u=r(u,1))),[f,u])},it.$$arity=0),l&&"cweek_cyear"}(s[0],Date,s)},Opal.modules["corelib/struct"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var $=t.top,o=[],s=t.nil,l=(t.breaker,t.slice,t.klass),c=t.truthy,u=t.send,_=t.hash2;return t.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$>","$length","$class","$each_with_index","$[]","$[]=","$-","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$join","$each_pair","$inspect","$inject","$flatten","$to_a","$respond_to?","$dig","$values_at"]),$.$require("corelib/enumerable"),function($,o,d){function f(){}var p,h,g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N=f=l($,o,"Struct",f),z=(N.$$proto,[N].concat(d));return N.$include(t.const_get_relative(z,"Enumerable")),t.defs(N,"$new",p=function(e,n){var r,i,a,$=this,o=p.$$p,l=o||s,_=s,d=arguments.length,f=d-1;f<0&&(f=0),a=new Array(f);for(var h=1;h<d;h++)a[h-1]=arguments[h];if(o&&(p.$$p=null),c(e))try{e=t.const_get_relative(z,"Opal")["$const_name!"](e)}catch(g){if(!t.rescue(g,[t.const_get_relative(z,"TypeError"),t.const_get_relative(z,"NameError")]))throw g;try{a.$unshift(e),e=s}finally{t.pop_exception()}}return u(a,"map",[],(r=function(e){r.$$s||this;return null==e&&(e=s),t.const_get_relative(z,"Opal")["$coerce_to!"](e,t.const_get_relative(z,"String"),"to_str")},r.$$s=$,r.$$arity=1,r)),_=u(t.const_get_relative(z,"Class"),"new",[$],(i=function(){var e,n=i.$$s||this;return u(a,"each",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=s),n.$define_struct_attribute(t)},e.$$s=n,e.$$arity=1,e)),function(e,n){var r;e.$$proto,[e].concat(n);return t.defn(e,"$new",r=function(e){var n,r=this,i=s,a=arguments.length,$=a-0;$<0&&($=0),n=new Array($);for(var o=0;o<a;o++)n[o-0]=arguments[o];return i=r.$allocate(),i.$$data={},u(i,"initialize",t.to_a(n)),i},r.$$arity=-1),t.alias(e,"[]","new")}(t.get_singleton_class(n),z)},i.$$s=$,i.$$arity=0,i)),c(l)&&u(_,"module_eval",[],l.$to_proc()),c(e)&&t.const_get_relative(z,"Struct").$const_set(e,_),_},p.$$arity=-2),t.defs(N,"$define_struct_attribute",h=function(e){var n,r,i=this;return i["$=="](t.const_get_relative(z,"Struct"))&&i.$raise(t.const_get_relative(z,"ArgumentError"),"you cannot define attributes to the Struct class"),i.$members()["$<<"](e),u(i,"define_method",[e],(n=function(){var t=n.$$s||this;return t.$$data[e]},n.$$s=i,n.$$arity=0,n)),u(i,"define_method",[""+e+"="],(r=function(t){var n=r.$$s||this;return null==t&&(t=s),n.$$data[e]=t},r.$$s=i,r.$$arity=1,r))},h.$$arity=1),t.defs(N,"$members",g=function(){var e,n=this;return null==n.members&&(n.members=s),n["$=="](t.const_get_relative(z,"Struct"))&&n.$raise(t.const_get_relative(z,"ArgumentError"),"the Struct class has no members"),n.members=c(e=n.members)?e:[]},g.$$arity=0),t.defs(N,"$inherited",v=function(t){var e,n=this,r=s;return null==n.members&&(n.members=s),r=n.members,u(t,"instance_eval",[],(e=function(){var t=e.$$s||this;return t.members=r},e.$$s=n,e.$$arity=0,e))},v.$$arity=1),t.defn(N,"$initialize",m=function(r){var i,a,$=this,o=arguments.length,l=o-0;l<0&&(l=0),a=new Array(l);for(var _=0;_<o;_++)a[_-0]=arguments[_];return c(e(a.$length(),$.$class().$members().$length()))&&$.$raise(t.const_get_relative(z,"ArgumentError"),"struct size differs"),u($.$class().$members(),"each_with_index",[],(i=function(e,r){var $=i.$$s||this,o=s;return null==e&&(e=s),null==r&&(r=s),o=[e,a["$[]"](r)],u($,"[]=",t.to_a(o)),o[n(o.length,1)]},i.$$s=$,i.$$arity=2,i))},m.$$arity=-1),t.defn(N,"$members",y=function(){var t=this;return t.$class().$members()},y.$$arity=0),t.defn(N,"$hash",b=function(){var e=this;return t.const_get_relative(z,"Hash").$new(e.$$data).$hash()},b.$$arity=0),t.defn(N,"$[]",k=function(e){var n=this;return c(t.const_get_relative(z,"Integer")["$==="](e))?(c(r(e,n.$class().$members().$size()["$-@"]()))&&n.$raise(t.const_get_relative(z,"IndexError"),"offset "+e+" too small for struct(size:"+n.$class().$members().$size()+")"),c(i(e,n.$class().$members().$size()))&&n.$raise(t.const_get_relative(z,"IndexError"),"offset "+e+" too large for struct(size:"+n.$class().$members().$size()+")"),e=n.$class().$members()["$[]"](e)):c(t.const_get_relative(z,"String")["$==="](e))?n.$$data.hasOwnProperty(e)||n.$raise(t.const_get_relative(z,"NameError").$new("no member '"+e+"' in struct",e)):n.$raise(t.const_get_relative(z,"TypeError"),"no implicit conversion of "+e.$class()+" into Integer"),e=t.const_get_relative(z,"Opal")["$coerce_to!"](e,t.const_get_relative(z,"String"),"to_str"),n.$$data[e]},k.$$arity=1),t.defn(N,"$[]=",w=function(e,n){var a=this;return c(t.const_get_relative(z,"Integer")["$==="](e))?(c(r(e,a.$class().$members().$size()["$-@"]()))&&a.$raise(t.const_get_relative(z,"IndexError"),"offset "+e+" too small for struct(size:"+a.$class().$members().$size()+")"),c(i(e,a.$class().$members().$size()))&&a.$raise(t.const_get_relative(z,"IndexError"),"offset "+e+" too large for struct(size:"+a.$class().$members().$size()+")"),e=a.$class().$members()["$[]"](e)):c(t.const_get_relative(z,"String")["$==="](e))?c(a.$class().$members()["$include?"](e.$to_sym()))||a.$raise(t.const_get_relative(z,"NameError").$new("no member '"+e+"' in struct",e)):a.$raise(t.const_get_relative(z,"TypeError"),"no implicit conversion of "+e.$class()+" into Integer"),e=t.const_get_relative(z,"Opal")["$coerce_to!"](e,t.const_get_relative(z,"String"),"to_str"),a.$$data[e]=n},w.$$arity=2),t.defn(N,"$==",x=function(e){function n(e,r){var $,o,s;i[e.$__id__()]=!0,a[r.$__id__()]=!0;for($ in e.$$data)if(o=e.$$data[$],s=r.$$data[$],t.const_get_relative(z,"Struct")["$==="](o)){if(!(i.hasOwnProperty(o.$__id__())&&a.hasOwnProperty(s.$__id__())||n(o,s)))return!1}else if(!o["$=="](s))return!1;return!0}var r=this;if(!c(e["$instance_of?"](r.$class())))return!1;var i={},a={};return n(r,e)},x.$$arity=1),t.defn(N,"$eql?",E=function(e){function n(e,r){var $,o,s;i[e.$__id__()]=!0,a[r.$__id__()]=!0;for($ in e.$$data)if(o=e.$$data[$],s=r.$$data[$],t.const_get_relative(z,"Struct")["$==="](o)){if(!(i.hasOwnProperty(o.$__id__())&&a.hasOwnProperty(s.$__id__())||n(o,s)))return!1}else if(!o["$eql?"](s))return!1;return!0}var r=this;if(!c(e["$instance_of?"](r.$class())))return!1;var i={},a={};return n(r,e)},E.$$arity=1),t.defn(N,"$each",O=function(){var e,n,r=this,i=O.$$p,a=i||s;return i&&(O.$$p=null),a===s?u(r,"enum_for",["each"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e)):(u(r.$class().$members(),"each",[],(n=function(e){var r=n.$$s||this;return null==e&&(e=s),t.yield1(a,r["$[]"](e))},n.$$s=r,n.$$arity=1,n)),r)},O.$$arity=0),t.defn(N,"$each_pair",A=function(){var e,n,r=this,i=A.$$p,a=i||s;return i&&(A.$$p=null),a===s?u(r,"enum_for",["each_pair"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e)):(u(r.$class().$members(),"each",[],(n=function(e){var r=n.$$s||this;return null==e&&(e=s),t.yield1(a,[e,r["$[]"](e)])},n.$$s=r,n.$$arity=1,n)),r)},A.$$arity=0),t.defn(N,"$length",S=function(){var t=this;return t.$class().$members().$length()},S.$$arity=0),t.alias(N,"size","length"),t.defn(N,"$to_a",R=function(){var t,e=this;return u(e.$class().$members(),"map",[],(t=function(e){var n=t.$$s||this;return null==e&&(e=s),n["$[]"](e)},t.$$s=e,t.$$arity=1,t))},R.$$arity=0),t.alias(N,"values","to_a"),t.defn(N,"$inspect",M=function(){var e,n,r=this,i=s;return i="#<struct ",c(c(e=t.const_get_relative(z,"Struct")["$==="](r))?r.$class().$name():e)&&(i=a(i,""+r.$class()+" ")),i=a(i,u(r.$each_pair(),"map",[],(n=function(t,e){n.$$s||this;return null==t&&(t=s),null==e&&(e=s),""+t+"="+e.$inspect()},n.$$s=r,n.$$arity=2,n)).$join(", ")),i=a(i,">")},M.$$arity=0),t.alias(N,"to_s","inspect"),t.defn(N,"$to_h",T=function(){var e,r=this;return u(r.$class().$members(),"inject",[_([],{})],(e=function(r,i){var a=e.$$s||this,$=s;return null==r&&(r=s),null==i&&(i=s),$=[i,a["$[]"](i)],u(r,"[]=",t.to_a($)),$[n($.length,1)],r},e.$$s=r,e.$$arity=2,e))},T.$$arity=0),t.defn(N,"$values_at",I=function(e){var n,r,i=this,a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var o=0;o<a;o++)r[o-0]=arguments[o];r=u(r,"map",[],(n=function(t){n.$$s||this;return null==t&&(t=s),t.$$is_range?t.$to_a():t},n.$$s=i,n.$$arity=1,n)).$flatten();for(var l=[],c=0,_=r.length;c<_;c++)r[c].$$is_number||i.$raise(t.const_get_relative(z,"TypeError"),"no implicit conversion of "+r[c].$class()+" into Integer"),l.push(i["$[]"](r[c]));return l},I.$$arity=-1),t.defn(N,"$dig",q=function(e,n){var r,i=this,a=s,$=arguments.length,o=$-1;o<0&&(o=0),r=new Array(o);for(var l=1;l<$;l++)r[l-1]=arguments[l];return a=c(e.$$is_string&&i.$$data.hasOwnProperty(e))?i.$$data[e]||s:s,a===s||0===r.length?a:(c(a["$respond_to?"]("dig"))||i.$raise(t.const_get_relative(z,"TypeError"),""+a.$class()+" does not have #dig method"),u(a,"dig",t.to_a(r)))},q.$$arity=-2),t.defs(N,"$_load",C=function(e){var n=this,r=s;return r=u(e,"values_at",t.to_a(n.$members())),u(n,"new",t.to_a(r))},C.$$arity=1)}(o[0],null,o)},Opal.modules["corelib/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=(t.top,[]),r=t.nil,i=(t.breaker,t.slice,t.klass),a=t.module,$=t.send,o=t.gvars,s=t.truthy,l=r;t.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function(e,n,l){function c(){}var u,_,d,f,p=c=i(e,n,"IO",c),h=p.$$proto,g=[p].concat(l);return h.tty=h.closed=r,t.const_set(g[0],"SEEK_SET",0),t.const_set(g[0],"SEEK_CUR",1),t.const_set(g[0],"SEEK_END",2),t.defn(p,"$tty?",u=function(){var t=this;return t.tty},u.$$arity=0),t.defn(p,"$closed?",_=function(){var t=this;return t.closed},_.$$arity=0),p.$attr_accessor("write_proc"),t.defn(p,"$write",d=function(t){var e=this;return e.write_proc(t),t.$size()},d.$$arity=1),p.$attr_accessor("sync","tty"),t.defn(p,"$flush",f=function(){return r},f.$$arity=0),function(e,n){var i,l,c,u,_=i=a(e,"Writable");_.$$proto,[_].concat(n);t.defn(_,"$<<",l=function(t){var e=this;return e.$write(t),e},l.$$arity=1),t.defn(_,"$print",c=function(t){var e,n,i=this;null==o[","]&&(o[","]=r);var a=arguments.length,s=a-0;s<0&&(s=0),n=new Array(s);for(var l=0;l<a;l++)n[l-0]=arguments[l];return i.$write($(n,"map",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=r),n.$String(t)},e.$$s=i,e.$$arity=1,e)).$join(o[","])),r},c.$$arity=-1),t.defn(_,"$puts",u=function(t){var e,n,i=this,a=r;null==o["/"]&&(o["/"]=r);var l=arguments.length,c=l-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<l;u++)n[u-0]=arguments[u];return a=o["/"],s(n["$empty?"]())?i.$write(o["/"]):i.$write($(n,"map",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=r),n.$String(t).$chomp()},e.$$s=i,e.$$arity=1,e)).$concat([r]).$join(a)),r},u.$$arity=-1)}(g[0],g),function(e,n){var i,$,s,l,c,u=i=a(e,"Readable"),_=(u.$$proto,[u].concat(n));t.defn(u,"$readbyte",$=function(){var t=this;return t.$getbyte()},$.$$arity=0),t.defn(u,"$readchar",s=function(){var t=this;return t.$getc()},s.$$arity=0),t.defn(u,"$readline",l=function(e){var n=this;return null==o["/"]&&(o["/"]=r),null==e&&(e=o["/"]),n.$raise(t.const_get_relative(_,"NotImplementedError"))},l.$$arity=-1),t.defn(u,"$readpartial",c=function(e,n){var i=this;return null==n&&(n=r),i.$raise(t.const_get_relative(_,"NotImplementedError"))},c.$$arity=-2)}(g[0],g)}(n[0],null,n),t.const_set(n[0],"STDERR",o.stderr=t.const_get_relative(n,"IO").$new()),t.const_set(n[0],"STDIN",o.stdin=t.const_get_relative(n,"IO").$new()),t.const_set(n[0],"STDOUT",o.stdout=t.const_get_relative(n,"IO").$new());var c=t.global.console;return l=["object"==typeof process&&"object"==typeof process.stdout?function(t){process.stdout.write(t)}:function(t){c.log(t)}],$(t.const_get_relative(n,"STDOUT"),"write_proc=",t.to_a(l)),l[e(l.length,1)],l=["object"==typeof process&&"object"==typeof process.stderr?function(t){process.stderr.write(t)}:function(t){c.warn(t)}],$(t.const_get_relative(n,"STDERR"),"write_proc=",t.to_a(l)),l[e(l.length,1)],t.const_get_relative(n,"STDOUT").$extend(t.const_get_qualified(t.const_get_relative(n,"IO"),"Writable")),t.const_get_relative(n,"STDERR").$extend(t.const_get_qualified(t.const_get_relative(n,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(t){var e,n,r=t.top,i=[];t.nil,t.breaker,t.slice;return t.add_stubs(["$include"]),t.defs(r,"$to_s",e=function(){return"main"},e.$$arity=0),t.defs(r,"$include",n=function(e){return t.const_get_relative(i,"Object").$include(e)},n.$$arity=1)},Opal.modules["corelib/dir"]=function(t){var e=(t.top,[]),n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$[]"]),function(e,a,$){function o(){}var s=o=r(e,a,"Dir",o),l=(s.$$proto,[s].concat($));return function(e,r){var a,$,o,s=(e.$$proto,[e].concat(r));return t.defn(e,"$chdir",a=function(e){var r=a.$$p,i=r||n,$=n;return r&&(a.$$p=null),function(){try{return $=t.current_dir,t.current_dir=e,t.yieldX(i,[])}finally{t.current_dir=$}}()},a.$$arity=1),t.defn(e,"$pwd",$=function(){return t.current_dir||"."},$.$$arity=0),t.alias(e,"getwd","pwd"),t.defn(e,"$home",o=function(){var e;return i(e=t.const_get_relative(s,"ENV")["$[]"]("HOME"))?e:"."},o.$$arity=0),n&&"home"}(t.get_singleton_class(s),l)}(e[0],null,e)},Opal.modules["corelib/file"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r=(t.top,[]),i=t.nil,a=(t.breaker,t.slice,t.klass),$=t.send,o=t.truthy,s=t.range;return t.add_stubs(["$join","$compact","$split","$==","$first","$home","$[]=","$-","$pwd","$each","$pop","$<<","$respond_to?","$coerce_to!","$+","$basename","$empty?","$rindex","$[]","$nil?","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$end_with?","$start_with?","$sub"]),function(r,l,c){function u(){}var _=u=a(r,l,"File",u),d=(_.$$proto,[_].concat(c));return t.const_set(d[0],"Separator",t.const_set(d[0],"SEPARATOR","/")),t.const_set(d[0],"ALT_SEPARATOR",i),t.const_set(d[0],"PATH_SEPARATOR",":"),t.const_set(d[0],"FNM_SYSCASE",0),function(r,a){function l(e){return o(e["$respond_to?"]("to_path"))&&(e=e.$to_path()),e=t.const_get_relative(m,"Opal")["$coerce_to!"](e,t.const_get_relative(m,"String"),"to_str")}function c(){return t.const_get_relative(m,"ALT_SEPARATOR")===i?t.escape_regexp(t.const_get_relative(m,"SEPARATOR")):t.escape_regexp(n(t.const_get_relative(m,"SEPARATOR"),t.const_get_relative(m,"ALT_SEPARATOR")))}var u,_,d,f,p,h,g,v,m=(r.$$proto,[r].concat(a));return t.defn(r,"$expand_path",u=function(n,r){var a,o=this,s=i,l=i,c=i;return null==r&&(r=i),n=[r,n].$compact().$join(t.const_get_relative(m,"SEPARATOR")),s=n.$split(t.const_get_relative(m,"SEPARATOR")),l=[],s.$first()["$=="]("~")&&(c=[0,t.const_get_relative(m,"Dir").$home()],$(s,"[]=",t.to_a(c)),c[e(c.length,1)]),s.$first()["$=="](".")&&(c=[0,t.const_get_relative(m,"Dir").$pwd()],$(s,"[]=",t.to_a(c)),c[e(c.length,1)]),$(s,"each",[],(a=function(t){a.$$s||this;return null==t&&(t=i),t["$=="]("..")?l.$pop():l["$<<"](t)},a.$$s=o,a.$$arity=1,a)),l.$join(t.const_get_relative(m,"SEPARATOR"))},u.$$arity=-2),t.alias(r,"realpath","expand_path"),t.defn(r,"$dirname",_=function(t){var e=i;e=c(),t=l(t);var n=t.match(new RegExp("^["+e+"]"));return t=t.replace(new RegExp("["+e+"]+$"),""),t=t.replace(new RegExp("[^"+e+"]+$"),""),t=t.replace(new RegExp("["+e+"]+$"),""),""===t?n?"/":".":t},_.$$arity=1),t.defn(r,"$basename",d=function(e,n){var r=i;return null==n&&(n=i),r=c(),e=l(e),0==e.length?e:(n=n!==i?t.const_get_relative(m,"Opal")["$coerce_to!"](n,t.const_get_relative(m,"String"),"to_str"):null,e=e.replace(new RegExp("(.)["+r+"]*$"),"$1"),e=e.replace(new RegExp("^(?:.*["+r+"])?([^"+r+"]+)$"),"$1"),".*"===n?e=e.replace(/\.[^\.]+$/,""):null!==n&&(n=t.escape_regexp(n),e=e.replace(new RegExp(""+n+"$"),"")),e)},d.$$arity=-2),t.defn(r,"$extname",f=function(r){var a,$=this,c=i,u=i;return r=l(r),c=$.$basename(r),o(c["$empty?"]())?"":(u=c["$[]"](s(1,-1,!1)).$rindex("."),o(o(a=u["$nil?"]())?a:n(u,1)["$=="](e(c.$length(),1)))?"":c["$[]"](t.Range.$new(n(u,1),-1,!1)))},f.$$arity=1),t.defn(r,"$exist?",p=function(e){return null!=t.modules[e]},p.$$arity=1),t.alias(r,"exists?","exist?"),t.defn(r,"$directory?",h=function(e){var n,r=this,a=i,o=i;a=[];for(var s in t.modules)a.push(s);return e=e.$gsub(new RegExp("(^."+t.const_get_relative(m,"SEPARATOR")+"+|"+t.const_get_relative(m,"SEPARATOR")+"+$)")),o=$(a,"find",[],(n=function(t){n.$$s||this;return null==t&&(t=i),t["$=~"](new RegExp("^"+e))},n.$$s=r,n.$$arity=1,n))},h.$$arity=1),t.defn(r,"$join",g=function(e){var r,a,s,l,c=this,u=i,_=arguments.length,d=_-0;d<0&&(d=0),l=new Array(d);for(var f=0;f<_;f++)l[f-0]=arguments[f];return l.$length()["$=="](0)?"":(u="",l=$(l.$flatten().$each_with_index(),"map",[],(r=function(e,a){var $;r.$$s||this;return null==e&&(e=i),null==a&&(a=i),o(($=a["$=="](0))?e["$empty?"]():a["$=="](0))?t.const_get_relative(m,"SEPARATOR"):o(($=l.$length()["$=="](n(a,1)))?e["$empty?"]():l.$length()["$=="](n(a,1)))?t.const_get_relative(m,"SEPARATOR"):e},r.$$s=c,r.$$arity=2,r)),l=$(l,"reject",[],(a=function(t){a.$$s||this;return null==t&&(t=i),t["$empty?"]()},a.$$s=c,a.$$arity=1,a)),$(l,"each_with_index",[],(s=function(e,r){var a,$=(s.$$s||this,i);return null==e&&(e=i),null==r&&(r=i),$=l["$[]"](n(r,1)),o($["$nil?"]())?u=""+u+e:(o(o(a=e["$end_with?"](t.const_get_relative(m,"SEPARATOR")))?$["$start_with?"](t.const_get_relative(m,"SEPARATOR")):a)&&(e=e.$sub(new RegExp(""+t.const_get_relative(m,"SEPARATOR")+"+$"),"")),u=o(o(a=e["$end_with?"](t.const_get_relative(m,"SEPARATOR")))?a:$["$start_with?"](t.const_get_relative(m,"SEPARATOR")))?""+u+e:""+u+e+t.const_get_relative(m,"SEPARATOR"))},s.$$s=c,s.$$arity=2,s)),u)},g.$$arity=-1),t.defn(r,"$split",v=function(e){return e.$split(t.const_get_relative(m,"SEPARATOR"))},v.$$arity=1),i&&"split"}(t.get_singleton_class(_),d)}(r[0],t.const_get_relative(r,"IO"),r)},Opal.modules["corelib/process"]=function(t){var e=(t.top,[]),n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$const_set","$size","$<<","$__register_clock__","$to_f","$now","$new","$[]","$raise"]),function(e,a,$){function o(){}var s,l,c,u,_=o=r(e,a,"Process",o),d=(_.$$proto,[_].concat($)),f=n;if(_.__clocks__=[],t.defs(_,"$__register_clock__",s=function(t,e){var r=this;return null==r.__clocks__&&(r.__clocks__=n),r.$const_set(t,r.__clocks__.$size()),r.__clocks__["$<<"](e)},s.$$arity=2),_.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),f=!1,t.global.performance)f=function(){return performance.now()};else if(t.global.process&&process.hrtime){var p=process.hrtime();f=function(){var t=process.hrtime(p),e=t[1]/1e3|0;return 1e3*t[0]+e/1e3}}return i(f)&&_.$__register_clock__("CLOCK_MONOTONIC",f),t.defs(_,"$pid",l=function(){return 0},l.$$arity=0),t.defs(_,"$times",c=function(){var e=n;return e=t.const_get_relative(d,"Time").$now().$to_f(),t.const_get_qualified(t.const_get_relative(d,"Benchmark"),"Tms").$new(e,e,e,e,e)},c.$$arity=0),t.defs(_,"$clock_gettime",u=function(e,r){var a,$=this,o=n;null==$.__clocks__&&($.__clocks__=n),null==r&&(r="float_second"),i(a=o=$.__clocks__["$[]"](e))?a:$.$raise(t.const_get_qualified(t.const_get_relative(d,"Errno"),"EINVAL"),"clock_gettime("+e+") "+$.__clocks__["$[]"](e));var s=o();switch(r){case"float_second":return s/1e3;case"float_millisecond":return s/1;case"float_microsecond":return 1e3*s;case"second":return s/1e3|0;case"millisecond":return s/1|0;case"microsecond":return 1e3*s|0;case"nanosecond":return 1e6*s|0;default:$.$raise(t.const_get_relative(d,"ArgumentError"),"unexpected unit: "+r)}},u.$$arity=-2)}(e[0],null,e),function(e,i,a){function $(){}var o,s=$=r(e,i,"Signal",$);s.$$proto,[s].concat(a);return t.defs(s,"$trap",o=function(t){return n},o.$$arity=-1)}(e[0],null,e),function(e,i,a){function $(){}var o,s=$=r(e,i,"GC",$);s.$$proto,[s].concat(a);return t.defs(s,"$start",o=function(){return n},o.$$arity=0)}(e[0],null,e)},Opal.modules["corelib/random/seedrandom"]=function(t){var e=(t.top,[]),n=(t.nil,t.breaker,t.slice,t.klass);return function(t,e,r){function i(){}var a=i=n(t,e,"Random",i);a.$$proto,[a].concat(r);!function(t,e){function n(n,l,c){var d=[];l=1==l?{entropy:!0}:l||{};var v=$(a(l.entropy?[n,s(t)]:null==n?o():n,3),d),m=new r(d),y=function(){for(var t=m.g(_),e=p,n=0;t<h;)t=(t+n)*u,e*=u,n=m.g(1);for(;t>=g;)t/=2,e/=2,n>>>=1;return(t+n)/e};return y.int32=function(){return 0|m.g(4)},y.quick=function(){return m.g(4)/4294967296},y["double"]=y,$(s(m.S),t),(l.pass||c||function(t,n,r,a){return a&&(a.S&&i(a,m),t.state=function(){return i(m,{})}),r?(e[f]=t,n):t})(y,v,"global"in l?l.global:this==e,l.state)}function r(t){var e,n=t.length,r=this,i=0,a=r.i=r.j=0,$=r.S=[];for(n||(t=[n++]);i<u;)$[i]=i++;for(i=0;i<u;i++)$[i]=$[a=v&a+t[i%n]+(e=$[i])],$[a]=e;(r.g=function(t){for(var e,n=0,i=r.i,a=r.j,$=r.S;t--;)e=$[i=v&i+1],n=n*u+$[v&($[i]=$[a=v&a+e])+($[a]=e)];return r.i=i,r.j=a,n})(u)}function i(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function a(t,e){var n,r=[],i=typeof t;if(e&&"object"==i)for(n in t)if(t.hasOwnProperty(n))try{r.push(a(t[n],e-1))}catch(t){}return r.length?r:"string"==i?t:t+"\0"}function $(t,e){for(var n,r=t+"",i=0;i<r.length;)e[v&i]=v&(n^=19*e[v&i])+r.charCodeAt(i++);return s(e)}function o(){try{if(l)return s(l.randomBytes(u));var e=new Uint8Array(u);return(c.crypto||c.msCrypto).getRandomValues(e),s(e)}catch(e){var n=c.navigator,r=n&&n.plugins;return[+new Date,c,r,c.screen,s(t)]}}function s(t){return String.fromCharCode.apply(0,t)}var l,c=this,u=256,_=6,d=52,f="random",p=e.pow(u,_),h=e.pow(2,d),g=2*h,v=u-1;if(e["seed"+f]=n,$(e.random(),t),"object"==typeof module&&module.exports){module.exports=n;try{l=require("crypto")}catch(t){}}else"function"==typeof define&&define.amd&&define("seekrandom",function(){return n})}([],Math)}(e[0],null,e)},Opal.modules["corelib/random"]=function(t){var e=t.top,n=[],r=t.nil,i=(t.breaker,t.slice,t.klass),a=t.truthy,$=t.send;return t.add_stubs(["$require","$attr_reader","$coerce_to!","$reseed","$new_seed","$rand","$seed","$new","$===","$==","$state","$encode","$join","$map","$times","$chr","$raise"]),e.$require("corelib/random/seedrandom.js"),function(e,n,o){function s(){}var l,c,u,_,d,f,p,h,g=s=i(e,n,"Random",s),v=(g.$$proto,[g].concat(o));g.$attr_reader("seed","state"),t.defn(g,"$initialize",l=function(e){var n=this;return null==e&&(e=t.const_get_relative(v,"Random").$new_seed()),e=t.const_get_relative(v,"Opal")["$coerce_to!"](e,t.const_get_relative(v,"Integer"),"to_int"),n.state=e,n.$reseed(e)},l.$$arity=-1),t.defn(g,"$reseed",c=function(t){var e=this;return e.seed=t,e.$rng=new Math.seedrandom(t)},c.$$arity=1);var m=new Math.seedrandom("opal",{entropy:!0});return t.defs(g,"$new_seed",u=function(){return Math.abs(m.int32())},u.$$arity=0),t.defs(g,"$rand",_=function(e){return t.const_get_relative(v,"DEFAULT").$rand(e)},_.$$arity=-1),t.defs(g,"$srand",d=function(e){var n=r;return null==e&&(e=t.const_get_relative(v,"Random").$new_seed()),e=t.const_get_relative(v,"Opal")["$coerce_to!"](e,t.const_get_relative(v,"Integer"),"to_int"),n=t.const_get_relative(v,"DEFAULT").$seed(),t.const_get_relative(v,"DEFAULT").$reseed(e),n},d.$$arity=-1),t.const_set(v[0],"DEFAULT",g.$new(g.$new_seed())),t.defn(g,"$==",f=function(e){var n,r=this;return!!a(t.const_get_relative(v,"Random")["$==="](e))&&((n=r.$seed()["$=="](e.$seed()))?r.$state()["$=="](e.$state()):r.$seed()["$=="](e.$seed()))},f.$$arity=1),t.defn(g,"$bytes",p=function(e){var n,r=this;return e=t.const_get_relative(v,"Opal")["$coerce_to!"](e,t.const_get_relative(v,"Integer"),"to_int"),$(e.$times(),"map",[],(n=function(){var t=n.$$s||this;return t.$rand(255).$chr()},n.$$s=r,n.$$arity=0,n)).$join().$encode(t.const_get_qualified(t.const_get_relative(v,"Encoding"),"ASCII_8BIT"))},p.$$arity=1),t.defn(g,"$rand",h=function(e){function n(){return $.state++,$.$rng.quick()}function i(){return Math.floor(n()*e)}function a(){var t=e.begin,n=e.end;if(t===r||n===r)return r;var i=n-t;return i<0?r:0===i?t:(n%1!==0||t%1!==0||e.exclude||i++,$.$rand(i)+t)}var $=this;return null==e?n():e.$$is_range?a():e.$$is_number?(e<=0&&$.$raise(t.const_get_relative(v,"ArgumentError"),"invalid argument - "+e),e%1===0?i():n()*e):(e=t.const_get_relative(v,"Opal")["$coerce_to!"](e,t.const_get_relative(v,"Integer"),"to_int"),e<=0&&$.$raise(t.const_get_relative(v,"ArgumentError"),"invalid argument - "+e),i())},h.$$arity=-1),r&&"rand"}(n[0],null,n)},Opal.modules["corelib/unsupported"]=function(t){function e(e){switch(t.config.unsupported_features_severity){case"error":t.const_get_relative($,"Kernel").$raise(t.const_get_relative($,"NotImplementedError"),e);break;case"warning":n(e)}}function n(t){c[t]||(c[t]=!0,a.$warn(t))}var r,i,a=t.top,$=[],o=t.nil,s=(t.breaker,t.slice,t.klass),l=t.module;t.add_stubs(["$raise","$warn","$%"]);var c={};return function(e,n,r){function i(){}var a,$,l,c,u,_,d,f,p,h,g,v,m,y,b,k,w,x,E=i=s(e,n,"String",i),O=(E.$$proto,[E].concat(r)),A="String#%s not supported. Mutable String methods are not supported in Opal.";return t.defn(E,"$<<",a=function(e){var n=this;return n.$raise(t.const_get_relative(O,"NotImplementedError"),A["$%"]("<<"))},a.$$arity=-1),t.defn(E,"$capitalize!",$=function(e){var n=this;return n.$raise(t.const_get_relative(O,"NotImplementedError"),A["$%"]("capitalize!"))},$.$$arity=-1),t.defn(E,"$chomp!",l=function(e){var n=this;return n.$raise(t.const_get_relative(O,"NotImplementedError"),A["$%"]("chomp!"))},l.$$arity=-1),t.defn(E,"$chop!",c=function(e){var n=this;return n.$raise(t.const_get_relative(O,"NotImplementedError"),A["$%"]("chop!"))},c.$$arity=-1),t.defn(E,"$downcase!",u=function(e){var n=this;return n.$raise(t.const_get_relative(O,"NotImplementedError"),A["$%"]("downcase!"))},u.$$arity=-1),t.defn(E,"$gsub!",_=function(e){var n=this;return n.$raise(t.const_get_relative(O,"NotImplementedError"),A["$%"]("gsub!"))},_.$$arity=-1),t.defn(E,"$lstrip!",d=function(e){var n=this;return n.$raise(t.const_get_relative(O,"NotImplementedError"),A["$%"]("lstrip!"))},d.$$arity=-1),t.defn(E,"$next!",f=function(e){var n=this;return n.$raise(t.const_get_relative(O,"NotImplementedError"),A["$%"]("next!"))},f.$$arity=-1),t.defn(E,"$reverse!",p=function(e){var n=this;return n.$raise(t.const_get_relative(O,"NotImplementedError"),A["$%"]("reverse!"))},p.$$arity=-1),t.defn(E,"$slice!",h=function(e){var n=this;return n.$raise(t.const_get_relative(O,"NotImplementedError"),A["$%"]("slice!"))},h.$$arity=-1),t.defn(E,"$squeeze!",g=function(e){var n=this;return n.$raise(t.const_get_relative(O,"NotImplementedError"),A["$%"]("squeeze!"))},g.$$arity=-1),t.defn(E,"$strip!",v=function(e){var n=this;return n.$raise(t.const_get_relative(O,"NotImplementedError"),A["$%"]("strip!"));
},v.$$arity=-1),t.defn(E,"$sub!",m=function(e){var n=this;return n.$raise(t.const_get_relative(O,"NotImplementedError"),A["$%"]("sub!"))},m.$$arity=-1),t.defn(E,"$succ!",y=function(e){var n=this;return n.$raise(t.const_get_relative(O,"NotImplementedError"),A["$%"]("succ!"))},y.$$arity=-1),t.defn(E,"$swapcase!",b=function(e){var n=this;return n.$raise(t.const_get_relative(O,"NotImplementedError"),A["$%"]("swapcase!"))},b.$$arity=-1),t.defn(E,"$tr!",k=function(e){var n=this;return n.$raise(t.const_get_relative(O,"NotImplementedError"),A["$%"]("tr!"))},k.$$arity=-1),t.defn(E,"$tr_s!",w=function(e){var n=this;return n.$raise(t.const_get_relative(O,"NotImplementedError"),A["$%"]("tr_s!"))},w.$$arity=-1),t.defn(E,"$upcase!",x=function(e){var n=this;return n.$raise(t.const_get_relative(O,"NotImplementedError"),A["$%"]("upcase!"))},x.$$arity=-1),o&&"upcase!"}($[0],null,$),function(n,r){var i,a,$,o=i=l(n,"Kernel"),s=(o.$$proto,[o].concat(r),"Object freezing is not supported by Opal");t.defn(o,"$freeze",a=function(){var t=this;return e(s),t},a.$$arity=0),t.defn(o,"$frozen?",$=function(){return e(s),!1},$.$$arity=0)}($[0],$),function(n,r){var i,a,$,o,s=i=l(n,"Kernel"),c=(s.$$proto,[s].concat(r),"Object tainting is not supported by Opal");t.defn(s,"$taint",a=function(){var t=this;return e(c),t},a.$$arity=0),t.defn(s,"$untaint",$=function(){var t=this;return e(c),t},$.$$arity=0),t.defn(s,"$tainted?",o=function(){return e(c),!1},o.$$arity=0)}($[0],$),function(e,n,r){function i(){}var a,$,l,c,u=i=s(e,n,"Module",i);u.$$proto,[u].concat(r);return t.defn(u,"$public",a=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];return 0===e.length&&(n.$$module_function=!1),o},a.$$arity=-1),t.alias(u,"private","public"),t.alias(u,"protected","public"),t.alias(u,"nesting","public"),t.defn(u,"$private_class_method",$=function(t){var e=this;return e},$.$$arity=-1),t.alias(u,"public_class_method","private_class_method"),t.defn(u,"$private_method_defined?",l=function(t){return!1},l.$$arity=1),t.defn(u,"$private_constant",c=function(t){return o},c.$$arity=-1),t.alias(u,"protected_method_defined?","private_method_defined?"),t.alias(u,"public_instance_methods","instance_methods"),t.alias(u,"public_method_defined?","method_defined?")}($[0],null,$),function(e,n){var r,i,a=r=l(e,"Kernel");a.$$proto,[a].concat(n);t.defn(a,"$private_methods",i=function(t){return[]},i.$$arity=-1),t.alias(a,"private_instance_methods","private_methods")}($[0],$),function(e,n){var r,i,a=r=l(e,"Kernel"),$=(a.$$proto,[a].concat(n));t.defn(a,"$eval",i=function(e){var n=this;return n.$raise(t.const_get_relative($,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+t.const_get_relative($,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},i.$$arity=-1)}($[0],$),t.defs(a,"$public",r=function(t){return o},r.$$arity=-1),t.defs(a,"$private",i=function(t){return o},i.$$arity=-1)},Opal.modules.opal=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("opal/mini"),e.$require("corelib/string/inheritance"),e.$require("corelib/string/encoding"),e.$require("corelib/math"),e.$require("corelib/complex"),e.$require("corelib/rational"),e.$require("corelib/time"),e.$require("corelib/struct"),e.$require("corelib/io"),e.$require("corelib/main"),e.$require("corelib/dir"),e.$require("corelib/file"),e.$require("corelib/process"),e.$require("corelib/random"),e.$require("corelib/unsupported")},Opal.require("opal")),function(t,e){"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define("asciidoctor",["module"],function(t){return e(t.config())}):t.Asciidoctor=e}(this,function(t){Opal.modules.set=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var i=(t.top,[]),a=t.nil,$=(t.breaker,t.slice,t.klass),o=t.truthy,s=t.send,l=t.module;return t.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$call","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$-","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),function(i,l,c){function u(){}var _,d,f,p,h,g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P,L,D,B=u=$(i,l,"Set",u),j=B.$$proto,U=[B].concat(c);return j.hash=a,B.$include(t.const_get_relative(U,"Enumerable")),t.defs(B,"$[]",_=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];return n.$new(e)},_.$$arity=-1),t.defn(B,"$initialize",d=function(e){var n,r=this,i=d.$$p,$=i||a;return null==e&&(e=a),i&&(d.$$p=null),r.hash=t.const_get_relative(U,"Hash").$new(),o(e["$nil?"]())?a:(o(t.const_get_relative(U,"Enumerable")["$==="](e))||r.$raise(t.const_get_relative(U,"ArgumentError"),"value must be enumerable"),o($)?s(e,"each",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=a),e.$add($.$call(t))},n.$$s=r,n.$$arity=1,n)):r.$merge(e))},d.$$arity=-1),t.defn(B,"$dup",f=function(){var t=this,e=a;return e=t.$class().$new(),e.$merge(t)},f.$$arity=0),t.defn(B,"$-",p=function(e){var n=this;return o(e["$respond_to?"]("each"))||n.$raise(t.const_get_relative(U,"ArgumentError"),"value must be enumerable"),n.$dup().$subtract(e)},p.$$arity=1),t.alias(B,"difference","-"),t.defn(B,"$inspect",h=function(){var t=this;return"#<Set: {"+t.$to_a().$join(",")+"}>"},h.$$arity=0),t.defn(B,"$==",g=function(e){var n,r,i=this;return!!o(i["$equal?"](e))||(o(e["$instance_of?"](i.$class()))?i.hash["$=="](e.$instance_variable_get("@hash")):!!o(o(n=e["$is_a?"](t.const_get_relative(U,"Set")))?i.$size()["$=="](e.$size()):n)&&s(e,"all?",[],(r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=a),null==t&&(t=a),e.hash["$include?"](t)},r.$$s=i,r.$$arity=1,r)))},g.$$arity=1),t.defn(B,"$add",v=function(n){var r=this,i=a;return i=[n,!0],s(r.hash,"[]=",t.to_a(i)),i[e(i.length,1)],r},v.$$arity=1),t.alias(B,"<<","add"),t.defn(B,"$classify",m=function(){var n,r,i=this,$=m.$$p,o=$||a,l=a;return $&&(m.$$p=null),o===a?i.$enum_for("classify"):(l=s(t.const_get_relative(U,"Hash"),"new",[],(n=function(r,i){var $=n.$$s||this,o=a;return null==r&&(r=a),null==i&&(i=a),o=[i,$.$class().$new()],s(r,"[]=",t.to_a(o)),o[e(o.length,1)]},n.$$s=i,n.$$arity=2,n)),s(i,"each",[],(r=function(e){r.$$s||this;return null==e&&(e=a),l["$[]"](t.yield1(o,e)).$add(e)},r.$$s=i,r.$$arity=1,r)),l)},m.$$arity=0),t.defn(B,"$collect!",y=function(){var e,n=this,r=y.$$p,i=r||a,$=a;return r&&(y.$$p=null),i===a?n.$enum_for("collect!"):($=n.$class().$new(),s(n,"each",[],(e=function(n){e.$$s||this;return null==n&&(n=a),$["$<<"](t.yield1(i,n))},e.$$s=n,e.$$arity=1,e)),n.$replace($))},y.$$arity=0),t.alias(B,"map!","collect!"),t.defn(B,"$delete",b=function(t){var e=this;return e.hash.$delete(t),e},b.$$arity=1),t.defn(B,"$delete?",k=function(t){var e=this;return o(e["$include?"](t))?(e.$delete(t),e):a},k.$$arity=1),t.defn(B,"$delete_if",w=function(){try{var e,n,r,i=this,$=w.$$p,l=$||a;return $&&(w.$$p=null),o(e=l!==a)?e:t.ret(i.$enum_for("delete_if")),s(s(i,"select",[],(n=function(e){n.$$s||this;return null==e&&(e=a),t.yield1(l,e)},n.$$s=i,n.$$arity=1,n)),"each",[],(r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=a),null==t&&(t=a),e.hash.$delete(t)},r.$$s=i,r.$$arity=1,r)),i}catch(c){if(c===t.returner)return c.$v;throw c}},w.$$arity=0),t.defn(B,"$add?",x=function(t){var e=this;return o(e["$include?"](t))?a:e.$add(t)},x.$$arity=1),t.defn(B,"$each",E=function(){var t=this,e=E.$$p,n=e||a;return e&&(E.$$p=null),n===a?t.$enum_for("each"):(s(t.hash,"each_key",[],n.$to_proc()),t)},E.$$arity=0),t.defn(B,"$empty?",O=function(){var t=this;return t.hash["$empty?"]()},O.$$arity=0),t.defn(B,"$eql?",A=function(t){var e,n=this;return n.hash["$eql?"](s(t,"instance_eval",[],(e=function(){var t=e.$$s||this;return null==t.hash&&(t.hash=a),t.hash},e.$$s=n,e.$$arity=0,e)))},A.$$arity=1),t.defn(B,"$clear",S=function(){var t=this;return t.hash.$clear(),t},S.$$arity=0),t.defn(B,"$include?",R=function(t){var e=this;return e.hash["$include?"](t)},R.$$arity=1),t.alias(B,"member?","include?"),t.defn(B,"$merge",M=function(t){var e,n=this;return s(t,"each",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=a),n.$add(t)},e.$$s=n,e.$$arity=1,e)),n},M.$$arity=1),t.defn(B,"$replace",T=function(t){var e=this;return e.$clear(),e.$merge(t),e},T.$$arity=1),t.defn(B,"$size",I=function(){var t=this;return t.hash.$size()},I.$$arity=0),t.alias(B,"length","size"),t.defn(B,"$subtract",q=function(t){var e,n=this;return s(t,"each",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=a),n.$delete(t)},e.$$s=n,e.$$arity=1,e)),n},q.$$arity=1),t.defn(B,"$|",C=function(e){var n=this;return o(e["$respond_to?"]("each"))||n.$raise(t.const_get_relative(U,"ArgumentError"),"value must be enumerable"),n.$dup().$merge(e)},C.$$arity=1),t.defn(B,"$superset?",N=function(e){var r,i,$=this;return o(r=e["$is_a?"](t.const_get_relative(U,"Set")))?r:$.$raise(t.const_get_relative(U,"ArgumentError"),"value must be a set"),!o(n($.$size(),e.$size()))&&s(e,"all?",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=a),e["$include?"](t)},i.$$s=$,i.$$arity=1,i))},N.$$arity=1),t.alias(B,">=","superset?"),t.defn(B,"$proper_superset?",z=function(e){var n,i,$=this;return o(n=e["$is_a?"](t.const_get_relative(U,"Set")))?n:$.$raise(t.const_get_relative(U,"ArgumentError"),"value must be a set"),!o(r($.$size(),e.$size()))&&s(e,"all?",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=a),e["$include?"](t)},i.$$s=$,i.$$arity=1,i))},z.$$arity=1),t.alias(B,">","proper_superset?"),t.defn(B,"$subset?",P=function(e){var r,i,$=this;return o(r=e["$is_a?"](t.const_get_relative(U,"Set")))?r:$.$raise(t.const_get_relative(U,"ArgumentError"),"value must be a set"),!o(n(e.$size(),$.$size()))&&s($,"all?",[],(i=function(t){i.$$s||this;return null==t&&(t=a),e["$include?"](t)},i.$$s=$,i.$$arity=1,i))},P.$$arity=1),t.alias(B,"<=","subset?"),t.defn(B,"$proper_subset?",L=function(e){var n,i,$=this;return o(n=e["$is_a?"](t.const_get_relative(U,"Set")))?n:$.$raise(t.const_get_relative(U,"ArgumentError"),"value must be a set"),!o(r(e.$size(),$.$size()))&&s($,"all?",[],(i=function(t){i.$$s||this;return null==t&&(t=a),e["$include?"](t)},i.$$s=$,i.$$arity=1,i))},L.$$arity=1),t.alias(B,"<","proper_subset?"),t.alias(B,"+","|"),t.alias(B,"union","|"),t.defn(B,"$to_a",D=function(){var t=this;return t.hash.$keys()},D.$$arity=0),a&&"to_a"}(i[0],null,i),function(e,n){var r,i,$=r=l(e,"Enumerable"),o=($.$$proto,[$].concat(n));t.defn($,"$to_set",i=function(e,n){var r,$=this,l=i.$$p,c=l||a;null==e&&(e=t.const_get_relative(o,"Set"));var u=arguments.length,_=u-1;_<0&&(_=0),r=new Array(_);for(var d=1;d<u;d++)r[d-1]=arguments[d];return l&&(i.$$p=null),s(e,"new",[$].concat(t.to_a(r)),c.$to_proc())},i.$$arity=-1)}(i[0],i)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(t){var e=(t.top,[]),n=t.nil,r=(t.breaker,t.slice,t.module),i=t.send,a=t.klass,$=t.truthy,o=t.gvars;return t.add_stubs(["$new","$attr_reader","$delete","$gsub","$==","$read","$size","$to_enum","$chomp","$each_line","$readlines","$split","$==="]),function(e,a){var $,o,s=$=r(e,"Kernel"),l=(s.$$proto,[s].concat(a));t.defn(s,"$open",o=function(e,r){var a,$=o.$$p,s=$||n,c=n,u=arguments.length,_=u-1;_<0&&(_=0),a=new Array(_);for(var d=1;d<u;d++)a[d-1]=arguments[d];return $&&(o.$$p=null),c=i(t.const_get_relative(l,"File"),"new",[e].concat(t.to_a(a))),s!==n?t.yield1(s,c):c},o.$$arity=-2)}(e[0],e),function(e,r,i){function s(){}var l,c,u,_,d,f,p,h,g=s=a(e,r,"File",s),v=g.$$proto,m=[g].concat(i);return v.eof=v.path=n,g.$attr_reader("eof"),g.$attr_reader("lineno"),g.$attr_reader("path"),t.defn(g,"$initialize",l=function(e,r){var i=this,a=n;return null==r&&(r="r"),i.path=e,i.contents=n,i.eof=!1,i.lineno=0,r=r.$delete("b"),a=/:(.*)/,r=r.$gsub(a,""),i.flags=r,t.const_get_relative(m,"JAVASCRIPT_IO_MODULE")["$=="]("node")?i.fd=require("fs").openSync(e,r):n},l.$$arity=-2),t.defn(g,"$read",c=function(){var e=this,r=n;return $(e.eof)?"":(r=t.const_get_relative(m,"File").$read(e.path),e.eof=!0,e.lineno=r.$size(),r)},c.$$arity=0),t.defn(g,"$each_line",u=function(e){var r=this,i=u.$$p,a=i||n,s=n;if(null==o["/"]&&(o["/"]=n),null==e&&(e=o["/"]),i&&(u.$$p=null),$(r.eof))return function(){return a!==n?r:[].$to_enum()}();if(a!==n){s=t.const_get_relative(m,"File").$read(r.path),r.eof=!1,r.lineno=0;for(var l=s.$chomp(),c=s.length!=l.length,_=l.split(e),d=0,f=_.length;d<f;d++)r.lineno+=1,d<f-1||c?t.yield1(a,_[d]+e):t.yield1(a,_[d]);return r.eof=!0,r}return r.$read().$each_line()},u.$$arity=-1),t.defn(g,"$readlines",_=function(){var e=this;return t.const_get_relative(m,"File").$readlines(e.path)},_.$$arity=0),t.defs(g,"$readlines",d=function(e,r){var i=n;return null==o["/"]&&(o["/"]=n),null==r&&(r=o["/"]),i=t.const_get_relative(m,"File").$read(e),i.$split(r)},d.$$arity=-2),t.defs(g,"$file?",f=function(t){return!0},f.$$arity=1),t.defs(g,"$readable?",p=function(t){return!0},p.$$arity=1),t.defs(g,"$read",h=function(e){var r=n;return function(){if(r=t.const_get_relative(m,"JAVASCRIPT_IO_MODULE"),"node"["$==="](r))return require("fs").readFileSync(e,"utf8");if("phantomjs"["$==="](r))return require("fs").read(e);if("java_nio"["$==="](r)){var n=Java.type("java.nio.file.Paths"),i=Java.type("java.nio.file.Files"),a=i.readAllLines(n.get(e),Java.type("java.nio.charset.StandardCharsets").UTF_8),$=[];return a.forEach(function(t){$.push(t)}),$.join("\n")}if("xmlhttprequest"["$==="](r)){var $="",o=-1;try{var s=new XMLHttpRequest;s.open("GET",e,!1),s.addEventListener("load",function(){o=this.status,0!=o&&200!=o||($=this.responseText)}),s.overrideMimeType("text/plain"),s.send()}catch(l){o=0}if(404==o||0==o&&""==$)throw t.const_get_relative(m,"IOError").$new("No such file or directory: "+e);return $}return"spidermonkey"["$==="](r)?read(e):""}()},h.$$arity=1)}(e[0],null,e),function(e,n,r){function i(){}var $,o=i=a(e,n,"IO",i),s=(o.$$proto,[o].concat(r));return t.defs(o,"$read",$=function(e){return t.const_get_relative(s,"File").$read(e)},$.$$arity=1)}(e[0],null,e)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=(t.top,[]),r=t.nil,i=(t.breaker,t.slice,t.klass),a=t.send;return t.add_stubs(["$[]=","$-"]),function(n,$,o){function s(){}var l,c=s=i(n,$,"MatchData",s),u=c.$$proto;[c].concat(o);return u.matches=r,t.defn(c,"$[]=",l=function(n,i){var $=this,o=r;return o=[n,i],a($.matches,"[]=",t.to_a(o)),o[e(o.length,1)]},l.$$arity=2),r&&"[]="}(n[0],null,n)},Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(t){var e=(t.top,[]),n=(t.nil,t.breaker,t.slice,t.module);return function(e,r){var i,a,$=i=n(e,"Kernel");$.$$proto,[$].concat(r);t.defn($,"$freeze",a=function(){var t=this;return t},a.$$arity=0)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=function(t){var e=(t.top,[]),n=t.nil,r=(t.breaker,t.slice,t.module),i=t.klass;return function(t,e){var n,i=n=r(t,"ThreadSafe");i.$$proto,[i].concat(e)}(e[0],e),function(t,e,r){function a(){}var $=a=i(t,e,"Cache",a);$.$$proto,[$].concat(r);return n}(e[0],t.const_get_qualified("::","Hash"),e)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var n=(t.top,[]),r=t.nil,i=(t.breaker,t.slice,t.klass),a=t.truthy,$=t.send;return t.add_stubs(["$method_defined?","$<","$length","$bytes","$to_s","$byteslice","$==","$with_index","$select","$[]","$even?","$_original_unpack"]),function(n,o,s){function l(){}var c,u,_=l=i(n,o,"String",l);_.$$proto,[_].concat(s);return a(_["$method_defined?"]("limit_bytesize"))||t.defn(_,"$limit_bytesize",c=function(t){var n=this,i=r;return a(e(t,n.$bytes().$length()))?(i=n.$byteslice(0,t),i.$to_s()):n.$to_s()},c.$$arity=1),a(_["$method_defined?"]("limit"))||t.alias(_,"limit","limit_bytesize"),t.alias(_,"_original_unpack","unpack"),t.defn(_,"$unpack",u=function(t){var e,n=this;return t["$=="]("C3")?$(n["$[]"](0,3).$bytes().$select(),"with_index",[],(e=function(t,n){e.$$s||this;return null==t&&(t=r),null==n&&(n=r),n["$even?"]()},e.$$s=n,e.$$arity=2,e)):n.$_original_unpack(t)},u.$$arity=1),r&&"unpack"}(n[0],null,n)},Opal.modules["asciidoctor/js/opal_ext/nashorn/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=(t.top,t.nil),r=(t.breaker,t.slice,t.send),i=t.gvars,a=n;return null==i.stdout&&(i.stdout=n),null==i.stderr&&(i.stderr=n),t.add_stubs(["$write_proc=","$-"]),a=[function(t){print(t)}],r(i.stdout,"write_proc=",t.to_a(a)),a[e(a.length,1)],a=[function(t){print(t)}],r(i.stderr,"write_proc=",t.to_a(a)),a[e(a.length,1)]},Opal.modules["asciidoctor/js/opal_ext/electron/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=(t.top,t.nil),r=(t.breaker,t.slice,t.send),i=t.gvars,a=n;return null==i.stdout&&(i.stdout=n),null==i.stderr&&(i.stderr=n),t.add_stubs(["$write_proc=","$-"]),a=[function(t){console.log(t)}],r(i.stdout,"write_proc=",t.to_a(a)),a[e(a.length,1)],a=[function(t){console.error(t)}],r(i.stderr,"write_proc=",t.to_a(a)),a[e(a.length,1)]},Opal.modules["asciidoctor/js/opal_ext/node/file"]=function(t){var e=(t.top,[]),n=(t.nil,t.breaker,t.slice,t.klass),r=t.truthy;return t.add_stubs(["$exist?"]),function(e,i,a){function $(){}var o,s=$=n(e,i,"File",$);s.$$proto,[s].concat(a);return t.defs(s,"$readable?",o=function(t){var e=this;return!!r(e["$exist?"](t))&&"\n      var fs = require('fs');\n      try {\n        fs.accessSync(path, fs.R_OK);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    "},o.$$arity=1)}(e[0],null,e)},Opal.modules["asciidoctor/js/opal_ext"]=function(e){var n=e.top,r=[],i=e.nil;e.breaker,e.slice;e.add_stubs(["$require","$=="]);var a,$,o,s,l="object"==typeof process&&"object"==typeof process.versions&&1!=process.browser,c="object"==typeof navigator&&"string"==typeof navigator.userAgent&&typeof navigator.userAgent.indexOf("Electron")!==-1,u="object"==typeof window,_="object"==typeof Java&&Java.type,d="object"==typeof java,f="object"==typeof window&&"object"==typeof window.phantom,p="function"==typeof importScripts,h="object"==typeof JSRuntime;if(e.load("pathname"),e.load("base64"),"object"==typeof t&&"object"==typeof t.runtime){var g=t.runtime;a=g.platform,$=g.engine,o=g.framework,s=g.ioModule}if("undefined"==typeof a&&(l?(a=a||"node",$=$||"v8",c&&(o=o||"electron")):_?(a=plaform||"java",$=$||"nashorn"):d?(a=a||"java",$=$||"rhino"):h?(a=a||"standalone",o=o||"spidermonkey"):u&&(a=a||"browser",f&&(o=o||"phantomjs")),p&&(o=o||"webworker")),"undefined"==typeof a)throw new Error("Unable to automatically detect the JavaScript platform, please configure Asciidoctor.js: `Asciidoctor({runtime: {platform: 'node'}})`");if("undefined"==typeof o&&(o=""),"undefined"==typeof $&&($=""),"undefined"!=typeof s){if("spidermonkey"!=s&&"phantomjs"!=s&&"node"!=s&&"java_nio"!=s&&"xmlhttprequest"!=s)throw new Error("Invalid IO module, `config.ioModule` must be one of: spidermonkey, phantomjs, node, java_nio or xmlhttprequest")}else if("spidermonkey"===o)s="spidermonkey";else if("phantomjs"===o)s="phantomjs";else if("node"===a)s="node";else if("nashorn"===$)s="java_nio";else{if("browser"!==a&&"undefined"==typeof XmlHTTPRequest)throw new Error("Unable to automatically detect the IO module, please configure Asciidoctor.js: `Asciidoctor({runtime: {ioModule: 'node'}})`");s="xmlhttprequest"}return e.const_set(r[0],"JAVASCRIPT_IO_MODULE",s),e.const_set(r[0],"JAVASCRIPT_PLATFORM",a),e.const_set(r[0],"JAVASCRIPT_ENGINE",$),e.const_set(r[0],"JAVASCRIPT_FRAMEWORK",o),n.$require("asciidoctor/js/opal_ext/file"),n.$require("asciidoctor/js/opal_ext/match_data"),n.$require("asciidoctor/js/opal_ext/kernel"),n.$require("asciidoctor/js/opal_ext/thread_safe"),n.$require("asciidoctor/js/opal_ext/string"),e.const_get_relative(r,"JAVASCRIPT_ENGINE")["$=="]("nashorn")&&n.$require("asciidoctor/js/opal_ext/nashorn/io"),e.const_get_relative(r,"JAVASCRIPT_FRAMEWORK")["$=="]("electron")&&n.$require("asciidoctor/js/opal_ext/electron/io"),e.const_get_relative(r,"JAVASCRIPT_PLATFORM")["$=="]("node")?(n.$require("asciidoctor/js/opal_ext/node/file"),e.load("nodejs")):i},Opal.modules["asciidoctor/js/rx"]=function(t){var e=(t.top,[]),n=(t.nil,t.breaker,t.slice,t.module);return function(e,r){var i,a=i=n(e,"Asciidoctor"),$=(a.$$proto,[a].concat(r));t.const_set($[0],"P_L","A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"),t.const_set($[0],"P_Nl","------"),t.const_set($[0],"P_Nd","0-9------------------------------------"),t.const_set($[0],"P_Pc","_-"),t.const_set($[0],"CC_ALPHA",""+t.const_get_relative($,"P_L")+t.const_get_relative($,"P_Nl")),t.const_set($[0],"CG_ALPHA","["+t.const_get_relative($,"CC_ALPHA")+"]"),t.const_set($[0],"CC_ALNUM",""+t.const_get_relative($,"CC_ALPHA")+t.const_get_relative($,"P_Nd")),t.const_set($[0],"CG_ALNUM","["+t.const_get_relative($,"CC_ALNUM")+"]"),t.const_set($[0],"CC_WORD",""+t.const_get_relative($,"CC_ALNUM")+t.const_get_relative($,"P_Pc")),t.const_set($[0],"CG_WORD","["+t.const_get_relative($,"CC_WORD")+"]"),t.const_set($[0],"CG_BLANK","[ \\t]"),t.const_set($[0],"CC_EOL","(?=\\n|$)"),t.const_set($[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),t.const_set($[0],"CC_ALL","[\\s\\S]")}(e[0],e)},Opal.modules.strscan=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=(t.top,[]),r=t.nil,i=(t.breaker,t.slice,t.klass),a=t.send;return t.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$-","$private"]),function(n,$,o){function s(){}var l,c,u,_,d,f,p,h,g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C=s=i(n,$,"StringScanner",s),N=C.$$proto;[C].concat(o);return N.pos=N.string=N.working=N.matched=N.prev_pos=N.match=r,C.$attr_reader("pos"),C.$attr_reader("matched"),t.defn(C,"$initialize",l=function(t){var e=this;return e.string=t,e.pos=0,e.matched=r,e.working=t,e.match=[]},l.$$arity=1),C.$attr_reader("string"),t.defn(C,"$beginning_of_line?",c=function(){var t=this;return 0===t.pos||"\n"===t.string.charAt(t.pos-1)},c.$$arity=0),t.alias(C,"bol?","beginning_of_line?"),t.defn(C,"$scan",u=function(t){var e=this;t=e.$anchor(t);var n=t.exec(e.working);return null==n?e.matched=r:"object"==typeof n?(e.prev_pos=e.pos,e.pos+=n[0].length,e.working=e.working.substring(n[0].length),e.matched=n[0],e.match=n,n[0]):"string"==typeof n?(e.pos+=n.length,e.working=e.working.substring(n.length),n):r},u.$$arity=1),t.defn(C,"$scan_until",_=function(t){var e=this;t=e.$anchor(t);for(var n,i=e.pos,a=e.working;;){if(n=t.exec(a),i+=1,a=a.substr(1),null!=n)return e.matched=e.string.substr(e.pos,i-e.pos-1+n[0].length),e.prev_pos=i-1,e.pos=i,e.working=a.substr(n[0].length),e.matched;if(0===a.length)return e.matched=r}},_.$$arity=1),t.defn(C,"$[]",d=function(t){var e=this,n=e.match;return t<0&&(t+=n.length),t<0||t>=n.length?r:null==n[t]?r:n[t]},d.$$arity=1),t.defn(C,"$check",f=function(t){var e=this;t=e.$anchor(t);var n=t.exec(e.working);return null==n?e.matched=r:e.matched=n[0]},f.$$arity=1),t.defn(C,"$check_until",p=function(t){var e=this,n=e.prev_pos,i=e.pos,a=e.$scan_until(t);return a!==r&&(e.matched=a.substr(-1),e.working=e.string.substr(i)),e.prev_pos=n,e.pos=i,a},p.$$arity=1),t.defn(C,"$peek",h=function(t){var e=this;return e.working.substring(0,t)},h.$$arity=1),t.defn(C,"$eos?",g=function(){var t=this;return 0===t.working.length},g.$$arity=0),t.defn(C,"$exist?",v=function(t){var e=this,n=t.exec(e.working);return null==n?r:0==n.index?0:n.index+1},v.$$arity=1),t.defn(C,"$skip",m=function(t){var e=this;t=e.$anchor(t);var n=t.exec(e.working);if(null==n)return e.matched=r;var i=n[0],a=i.length;return e.matched=i,e.prev_pos=e.pos,e.pos+=a,e.working=e.working.substring(a),a},m.$$arity=1),t.defn(C,"$skip_until",y=function(t){var e=this,n=e.$scan_until(t);return n===r?r:(e.matched=n.substr(-1),n.length)},y.$$arity=1),t.defn(C,"$get_byte",b=function(){var t=this,e=r;return t.pos<t.string.length?(t.prev_pos=t.pos,t.pos+=1,e=t.matched=t.working.substring(0,1),t.working=t.working.substring(1)):t.matched=r,e},b.$$arity=0),t.alias(C,"getch","get_byte"),t.defn(C,"$match?",k=function(t){var e=this;t=e.$anchor(t);var n=t.exec(e.working);return null==n?r:(e.prev_pos=e.pos,n[0].length)},k.$$arity=1),t.defn(C,"$pos=",w=function(t){var e=this;return t<0&&(t+=e.string.$length()),e.pos=t,e.working=e.string.slice(t)},w.$$arity=1),t.defn(C,"$matched_size",x=function(){var t=this;return t.matched===r?r:t.matched.length},x.$$arity=0),t.defn(C,"$post_match",E=function(){var t=this;return t.matched===r?r:t.string.substr(t.pos)},E.$$arity=0),t.defn(C,"$pre_match",O=function(){var t=this;return t.matched===r?r:t.string.substr(0,t.prev_pos)},O.$$arity=0),t.defn(C,"$reset",A=function(){var t=this;return t.working=t.string,t.matched=r,t.pos=0},A.$$arity=0),t.defn(C,"$rest",S=function(){var t=this;return t.working},S.$$arity=0),t.defn(C,"$rest?",R=function(){var t=this;return 0!==t.working.length},R.$$arity=0),t.defn(C,"$rest_size",M=function(){var t=this;return t.$rest().$size()},M.$$arity=0),t.defn(C,"$terminate",T=function(){var n=this,i=r;return n.match=r,i=[n.string.$length()],a(n,"pos=",t.to_a(i)),i[e(i.length,1)]},T.$$arity=0),t.defn(C,"$unscan",I=function(){var t=this;return t.pos=t.prev_pos,t.prev_pos=r,t.match=r,t},I.$$arity=0),C.$private(),t.defn(C,"$anchor",q=function(t){var e=t.toString().match(/\/([^\/]+)$/);return e=e?e[1]:void 0,new RegExp("^(?:"+t.source+")",e)},q.$$arity=1),r&&"anchor"}(n[0],null,n)},Opal.modules["asciidoctor/js"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext"),e.$require("asciidoctor/js/rx"),e.$require("strscan")},Opal.modules["asciidoctor/version"]=function(t){var e=(t.top,[]),n=(t.nil,t.breaker,t.slice,t.module);return function(e,r){var i,a=i=n(e,"Asciidoctor"),$=(a.$$proto,[a].concat(r));t.const_set($[0],"VERSION","1.5.6.dev")}(e[0],e)},Opal.modules["asciidoctor/timings"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var i=(t.top,[]),a=t.nil,$=(t.breaker,t.slice,t.module),o=t.klass,s=t.hash2,l=t.send,c=t.truthy,u=t.gvars;return t.add_stubs(["$now","$[]=","$-","$delete","$>","$+","$[]","$puts","$%","$to_f","$read_parse","$convert","$read_parse_convert"]),function(i,_){var d,f=d=$(i,"Asciidoctor"),p=(f.$$proto,[f].concat(_));!function(i,$,_){function d(){}var f,p,h,g,v,m,y,b,k=d=o(i,$,"Timings",d),w=k.$$proto;[k].concat(_);return w.timers=w.log=a,t.defn(k,"$initialize",f=function(){var t=this;return t.log=s([],{}),t.timers=s([],{})},f.$$arity=0),t.defn(k,"$start",p=function(n){var r=this,i=a;return i=[n,t.const_get_qualified("::","Time").$now()],l(r.timers,"[]=",t.to_a(i)),i[e(i.length,1)]},p.$$arity=1),t.defn(k,"$record",h=function(n){var r=this,i=a;return i=[n,e(t.const_get_qualified("::","Time").$now(),r.timers.$delete(n))],l(r.log,"[]=",t.to_a(i)),i[e(i.length,1)]},h.$$arity=1),t.defn(k,"$read_parse",g=function(){var t,e=this,i=a;return c(n(i=r(c(t=e.log["$[]"]("read"))?t:0,c(t=e.log["$[]"]("parse"))?t:0),0))?i:a},g.$$arity=0),t.defn(k,"$convert",v=function(){var t,e=this;return c(t=e.log["$[]"]("convert"))?t:0},v.$$arity=0),t.defn(k,"$read_parse_convert",m=function(){var t,e=this,i=a;return c(n(i=r(r(c(t=e.log["$[]"]("read"))?t:0,c(t=e.log["$[]"]("parse"))?t:0),c(t=e.log["$[]"]("convert"))?t:0),0))?i:a},m.$$arity=0),t.defn(k,"$total",y=function(){var t,e=this,i=a;return c(n(i=r(r(r(c(t=e.log["$[]"]("read"))?t:0,c(t=e.log["$[]"]("parse"))?t:0),c(t=e.log["$[]"]("convert"))?t:0),c(t=e.log["$[]"]("write"))?t:0),0))?i:a},y.$$arity=0),t.defn(k,"$print_report",b=function(t,e){var n=this;return null==u.stdout&&(u.stdout=a),null==t&&(t=u.stdout),null==e&&(e=a),c(e)&&t.$puts("Input file: "+e),t.$puts("  Time to read and parse source: "+"%05.5f"["$%"](n.$read_parse().$to_f())),t.$puts("  Time to convert document: "+"%05.5f"["$%"](n.$convert().$to_f())),t.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](n.$read_parse_convert().$to_f()))},b.$$arity=-1),a&&"print_report"}(p[0],null,p)}(i[0],i)},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(t){var e=(t.top,[]),n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$method_defined?"]),function(e,a,$){function o(){}var s=o=r(e,a,"NilClass",o);s.$$proto,[s].concat($);return i(s["$method_defined?"]("nil_or_empty?"))?n:t.alias(s,"nil_or_empty?","nil?")}(e[0],null,e),function(e,a,$){function o(){}var s=o=r(e,a,"String",o);s.$$proto,[s].concat($);return i(s["$method_defined?"]("nil_or_empty?"))?n:t.alias(s,"nil_or_empty?","empty?")}(e[0],null,e),function(e,a,$){function o(){}var s=o=r(e,a,"Array",o);s.$$proto,[s].concat($);return i(s["$method_defined?"]("nil_or_empty?"))?n:t.alias(s,"nil_or_empty?","empty?")}(e[0],null,e),function(e,a,$){function o(){}var s=o=r(e,a,"Hash",o);s.$$proto,[s].concat($);return i(s["$method_defined?"]("nil_or_empty?"))?n:t.alias(s,"nil_or_empty?","empty?")}(e[0],null,e),function(e,a,$){function o(){}var s=o=r(e,a,"Numeric",o);s.$$proto,[s].concat($);return i(s["$method_defined?"]("nil_or_empty?"))?n:t.alias(s,"nil_or_empty?","nil?")}(e[0],null,e)},Opal.modules["asciidoctor/core_ext/regexp/is_match"]=function(t){var e=(t.top,[]),n=t.nil,r=(t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$method_defined?"]),function(e,a,$){function o(){}var s=o=r(e,a,"Regexp",o);s.$$proto,[s].concat($);return i(s["$method_defined?"]("match?"))?n:t.alias(s,"match?","===")}(e[0],null,e)},Opal.modules["asciidoctor/core_ext/string/limit_bytesize"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=(t.top,[]),i=t.nil,a=(t.breaker,t.slice,t.klass),$=t.truthy;return t.add_stubs(["$method_defined?","$<","$bytesize","$valid_encoding?","$force_encoding","$byteslice","$-"]),function(r,o,s){function l(){}var c,u=l=a(r,o,"String",l);u.$$proto,[u].concat(s);return $(u["$method_defined?"]("limit_bytesize"))?i:(t.defn(u,"$limit_bytesize",c=function(r){var a=this,o=i;if(!$(e(r,a.$bytesize())))return a;for(;!$((o=a.$byteslice(0,r)).$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_8"))["$valid_encoding?"]());)r=n(r,1);return o},c.$$arity=1),i&&"limit_bytesize")}(r[0],null,r)},Opal.modules["asciidoctor/core_ext/1.8.7/io/write"]=function(t){var e,n=(t.top,[]),r=t.nil,i=(t.breaker,t.slice,t.truthy),a=t.send;return t.add_stubs(["$respond_to?","$open","$write"]),i(t.const_get_relative(n,"IO")["$respond_to?"]("write"))?r:t.defs(t.const_get_relative(n,"IO"),"$write",e=function(e,i,$,o){
var s,l=this;return null==$&&($=0),null==o&&(o=r),a(t.const_get_relative(n,"File"),"open",[e,"w"],(s=function(t){s.$$s||this;return null==t&&(t=r),t.$write(i)},s.$$s=l,s.$$arity=1,s))},e.$$arity=-3)},Opal.modules["asciidoctor/core_ext"]=function(t){var e=t.top,n=[],r=t.nil,i=(t.breaker,t.slice,t.truthy);return t.add_stubs(["$require","$==","$!="]),e.$require("asciidoctor/core_ext/nil_or_empty"),e.$require("asciidoctor/core_ext/regexp/is_match"),i(t.const_get_relative(n,"RUBY_MIN_VERSION_1_9"))?(e.$require("asciidoctor/core_ext/string/limit_bytesize"),t.const_get_relative(n,"RUBY_ENGINE")["$=="]("opal")?e.$require("asciidoctor/core_ext/1.8.7/io/write"):r):i(t.const_get_relative(n,"RUBY_ENGINE")["$!="]("opal"))?r:r},Opal.modules["asciidoctor/helpers"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=(t.top,[]),r=t.nil,i=(t.breaker,t.slice,t.module),a=t.truthy,$=t.send,o=t.range,s=t.gvars;return t.add_stubs(["$require","$==","$===","$raise","$warn","$chomp","$message","$class","$normalize_lines_from_string","$normalize_lines_array","$empty?","$unpack","$[]","$slice","$map","$each_line","$encode","$force_encoding","$join","$rstrip","$[]=","$-","$encoding","$nil_or_empty?","$include?","$match?","$=~","$gsub","$each_byte","$sprintf","$rindex","$length","$basename","$extname","$directory?","$dirname","$!","$!=","$mkdir_p","$mkdir"]),function(n,l){var c,u=c=i(n,"Asciidoctor"),_=(u.$$proto,[u].concat(l));!function(n,l){var c,u,_,d,f,p,h,g,v,m,y,b=c=i(n,"Helpers"),k=(b.$$proto,[b].concat(l));t.defs(b,"$require_library",u=function(e,n,i){var $=this,o=r,s=r;null==n&&(n=!0),null==i&&(i="abort");try{return $.$require(e)}catch(l){if(!t.rescue(l,[t.const_get_qualified("::","LoadError")]))throw l;o=l;try{return a(n)?(n["$=="](!0)&&(n=e),function(){return s=i,"abort"["$==="](s)?$.$raise(t.const_get_qualified("::","LoadError"),"asciidoctor: FAILED: required gem '"+n+"' is not installed. Processing aborted."):"warn"["$==="](s)?$.$warn("asciidoctor: WARNING: optional gem '"+n+"' is not installed. Functionality disabled."):r}()):function(){return s=i,"abort"["$==="](s)?$.$raise(t.const_get_qualified("::","LoadError"),"asciidoctor: FAILED: "+o.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](s)?$.$warn("asciidoctor: WARNING: "+o.$message().$chomp(".")+". Functionality disabled."):r}()}finally{t.pop_exception()}}},u.$$arity=-2),t.defs(b,"$normalize_lines",_=function(e){var n=this;return e.$class()["$=="](t.const_get_qualified("::","String"))?n.$normalize_lines_from_string(e):n.$normalize_lines_array(e)},_.$$arity=1),t.defs(b,"$normalize_lines_array",d=function(n){var i,s,l,c,u=this,_=r,d=r,f=r,p=r,h=r;return a(n["$empty?"]())?n:(_=(d=n["$[]"](0)).$unpack("C3"),a(t.const_get_relative(k,"COERCE_ENCODING"))?(f=t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_8"),(p=_.$slice(0,2))["$=="](t.const_get_relative(k,"BOM_BYTES_UTF_16LE"))?$(n.$join().$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_16LE"))["$[]"](o(1,-1,!1)).$encode(f).$each_line(),"map",[],(i=function(t){i.$$s||this;return null==t&&(t=r),t.$rstrip()},i.$$s=u,i.$$arity=1,i)):p["$=="](t.const_get_relative(k,"BOM_BYTES_UTF_16BE"))?(h=[0,d.$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_16BE"))["$[]"](o(1,-1,!1))],$(n,"[]=",t.to_a(h)),h[e(h.length,1)],$(n,"map",[],(s=function(e){s.$$s||this;return null==e&&(e=r),""+e.$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_16BE")).$encode(f).$rstrip()},s.$$s=u,s.$$arity=1,s))):(_["$=="](t.const_get_relative(k,"BOM_BYTES_UTF_8"))&&(h=[0,d.$force_encoding(f)["$[]"](o(1,-1,!1))],$(n,"[]=",t.to_a(h)),h[e(h.length,1)]),$(n,"map",[],(l=function(t){l.$$s||this;return null==t&&(t=r),t.$encoding()["$=="](f)?t.$rstrip():t.$force_encoding(f).$rstrip()},l.$$s=u,l.$$arity=1,l)))):(_["$=="](t.const_get_relative(k,"BOM_BYTES_UTF_8"))&&(h=[0,d["$[]"](o(3,-1,!1))],$(n,"[]=",t.to_a(h)),h[e(h.length,1)]),$(n,"map",[],(c=function(t){c.$$s||this;return null==t&&(t=r),t.$rstrip()},c.$$s=u,c.$$arity=1,c))))},d.$$arity=1),t.defs(b,"$normalize_lines_from_string",f=function(e){var n,i=this,s=r,l=r,c=r;return a(e["$nil_or_empty?"]())?[]:(s=e.$unpack("C3"),a(t.const_get_relative(k,"COERCE_ENCODING"))?(l=t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_8"),(c=s.$slice(0,2))["$=="](t.const_get_relative(k,"BOM_BYTES_UTF_16LE"))?e=e.$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_16LE"))["$[]"](o(1,-1,!1)).$encode(l):c["$=="](t.const_get_relative(k,"BOM_BYTES_UTF_16BE"))?e=e.$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_16BE"))["$[]"](o(1,-1,!1)).$encode(l):s["$=="](t.const_get_relative(k,"BOM_BYTES_UTF_8"))?e=function(){return e.$encoding()["$=="](l)?e["$[]"](o(1,-1,!1)):e.$force_encoding(l)["$[]"](o(1,-1,!1))}():e.$encoding()["$=="](l)||(e=e.$force_encoding(l))):s["$=="](t.const_get_relative(k,"BOM_BYTES_UTF_8"))&&(e=e["$[]"](o(3,-1,!1))),$(e.$each_line(),"map",[],(n=function(t){n.$$s||this;return null==t&&(t=r),t.$rstrip()},n.$$s=i,n.$$arity=1,n)))},f.$$arity=1),t.defs(b,"$uriish?",p=function(e){var n;return a(n=e["$include?"](":"))?t.const_get_relative(k,"UriSniffRx")["$match?"](e):n},p.$$arity=1),t.defs(b,"$uri_prefix",h=function(e){var n;return a(a(n=e["$include?"](":"))?t.const_get_relative(k,"UriSniffRx")["$=~"](e):n)?(n=s["~"])===r?r:n["$[]"](0):r},h.$$arity=1),t.const_set(k[0],"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/),t.defs(b,"$encode_uri",g=function(e){var n,i=this;return $(e,"gsub",[t.const_get_relative(k,"REGEXP_ENCODE_URI_CHARS")],(n=function(){var t,e,i=n.$$s||this;return $(((t=s["~"])===r?r:t["$[]"](0)).$each_byte(),"map",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=r),n.$sprintf("%%%02X",t)},e.$$s=i,e.$$arity=1,e)).$join()},n.$$s=i,n.$$arity=0,n))},g.$$arity=1),t.defs(b,"$rootname",v=function(t){var e;return t.$slice(0,a(e=t.$rindex("."))?e:t.$length())},v.$$arity=1),t.defs(b,"$basename",m=function(e,n){return null==n&&(n=r),a(n)?t.const_get_qualified("::","File").$basename(e,function(){return n["$=="](!0)?t.const_get_qualified("::","File").$extname(e):n}()):t.const_get_qualified("::","File").$basename(e)},m.$$arity=-2),t.defs(b,"$mkdir_p",y=function(e){var n,i=this,$=r;return a(t.const_get_qualified("::","File")["$directory?"](e))?r:($=t.const_get_qualified("::","File").$dirname(e),a(a(n=t.const_get_qualified("::","File")["$directory?"]($=t.const_get_qualified("::","File").$dirname(e))["$!"]())?$["$!="]("."):n)&&i.$mkdir_p($),t.const_get_qualified("::","Dir").$mkdir(e))},y.$$arity=1)}(_[0],_)}(n[0],n)},Opal.modules["asciidoctor/substitutors"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var $=(t.top,[]),o=t.nil,s=(t.breaker,t.slice),l=t.module,c=t.hash2,u=t.truthy,_=t.send,d=t.gvars,f=t.range;return t.add_stubs(["$freeze","$+","$keys","$attr_reader","$empty?","$===","$[]","$each","$<<","$*","$include?","$extract_passthroughs","$sub_specialchars","$sub_quotes","$sub_attributes","$split","$sub_replacements","$sub_macros","$highlight_source","$sub_callouts","$sub_post_replacements","$warn","$restore_passthroughs","$apply_subs","$compat_mode","$gsub","$==","$nil_or_empty?","$length","$>","$-","$end_with?","$parse_attributes","$size","$[]=","$unescape_brackets","$resolve_pass_subs","$start_with?","$!","$to_sym","$attributes","$basebackend?","$to_i","$convert","$new","$clear","$convert_quoted_text","$do_replacement","$sub","$store_attribute","$fetch","$attribute_undefined","$counter","$key?","$downcase","$attribute_missing","$slice","$strip","$map","$pop","$unescape_bracketed_text","$rstrip","$extensions","$inline_macros?","$inline_macros","$regexp","$instance","$names","$config","$dup","$!=","$process_method","$register","$tr","$basename","$split_simple_csv","$normalize_string","$!~","$chop","$delete","$encode_uri","$sub_inline_xrefs","$sub_inline_anchors","$find","$footnotes","$id","$index","$text","$style","$lstrip","$rindex","$catalog","$key","$attr?","$escape","$attr","$read_next_id","$callouts","$<","$parse_quoted_text_attributes","$shorthand_property_syntax","$shift","$concat","$parse_into","$parse","$each_char","$join","$match?","$chr","$&","$resolve_subs","$nil?","$require_library","$set_attr","$sub_source","$resolve_highlight_lines","$highlight","$find_by_alias","$find_by_mimetype","$name","$option?","$=~","$to_a","$uniq","$sort","$resolve_block_subs"]),function($,p){var h,g=h=l($,"Asciidoctor"),v=(g.$$proto,[g].concat(p));!function($,p){var h,g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P,L,D,B,j,U,F,H,G,Y,W,K=h=l($,"Substitutors"),X=(K.$$proto,[K].concat(p));t.const_set(X[0],"SpecialCharsRx",/[<&>]/),t.const_set(X[0],"SpecialCharsTr",c([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),t.const_set(X[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),t.const_set(X[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),t.const_set(X[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),t.const_set(X[0],"NONE_SUBS",[]).$freeze(),t.const_set(X[0],"TITLE_SUBS",["specialcharacters","quotes","replacements","macros","attributes","post_replacements"]).$freeze(),t.const_set(X[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),t.const_set(X[0],"SUB_GROUPS",c(["none","normal","verbatim","specialchars"],{none:t.const_get_relative(X,"NONE_SUBS"),normal:t.const_get_relative(X,"NORMAL_SUBS"),verbatim:t.const_get_relative(X,"VERBATIM_SUBS"),specialchars:t.const_get_relative(X,"BASIC_SUBS")})),t.const_set(X[0],"SUB_HINTS",c(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),t.const_set(X[0],"SUB_OPTIONS",c(["block","inline"],{block:e(e(t.const_get_relative(X,"SUB_GROUPS").$keys(),t.const_get_relative(X,"NORMAL_SUBS")),["callouts"]),inline:e(t.const_get_relative(X,"SUB_GROUPS").$keys(),t.const_get_relative(X,"NORMAL_SUBS"))})),t.const_set(X[0],"SUB_HIGHLIGHT",["coderay","pygments"]),t.const_set(X[0],"PASS_START",""),t.const_set(X[0],"PASS_END",""),t.const_set(X[0],"PassSlotRx",new RegExp(""+t.const_get_relative(X,"PASS_START")+"(\\d+)"+t.const_get_relative(X,"PASS_END"))),t.const_set(X[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*?>"+t.const_get_relative(X,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*?>"+t.const_get_relative(X,"PASS_END")+"</span>")),t.const_set(X[0],"RS","\\"),t.const_set(X[0],"R_SB","]"),t.const_set(X[0],"ESC_R_SB","\\]"),t.const_set(X[0],"PLUS","+"),t.const_set(X[0],"PygmentsWrapperDivRx",/<div class="pyhl">(.*)<\/div>/m),t.const_set(X[0],"PygmentsWrapperPreRx",/<pre\b[^>]*?>(.*?)<\/pre>\s*/m),K.$attr_reader("passthroughs"),t.defn(K,"$apply_subs",g=function(r,i,a){var $,s,l,c=this,d=o,f=o,p=o,h=o;if(null==c.passthroughs&&(c.passthroughs=o),null==i&&(i=t.const_get_relative(X,"NORMAL_SUBS")),null==a&&(a=!1),u(u($=r["$empty?"]())?$:i["$empty?"]()))return r;if(u(a))if(u(t.const_get_qualified("::","Symbol")["$==="](i)))i=u($=t.const_get_relative(X,"SUB_GROUPS")["$[]"](i))?$:[i];else if(d=[],_(i,"each",[],(s=function(n){var r=(s.$$s||this,o);return null==n&&(n=o),u(r=t.const_get_relative(X,"SUB_GROUPS")["$[]"](n))?u(r["$empty?"]())?o:d=e(d,r):d["$<<"](n)},s.$$s=c,s.$$arity=1,s)),u((i=d)["$empty?"]()))return r;return f=function(){return u(p=t.const_get_qualified("::","Array")["$==="](r))?n(r,t.const_get_relative(X,"EOL")):r}(),u(h=i["$include?"]("macros"))&&(f=c.$extract_passthroughs(f),u(c.passthroughs["$empty?"]())&&(h=!1)),_(i,"each",[],(l=function(e){var r,a,$=l.$$s||this,s=o;return null==e&&(e=o),function(){return s=e,"specialcharacters"["$==="](s)?u(u(r=u(a=f["$include?"]("<"))?a:f["$include?"]("&"))?r:f["$include?"](">"))?f=$.$sub_specialchars(f):o:"quotes"["$==="](s)?f=$.$sub_quotes(f):"attributes"["$==="](s)?u(f["$include?"]("{"))?f=n($.$sub_attributes(f.$split(t.const_get_relative(X,"EOL"),-1)),t.const_get_relative(X,"EOL")):o:"replacements"["$==="](s)?f=$.$sub_replacements(f):"macros"["$==="](s)?f=$.$sub_macros(f):"highlight"["$==="](s)?f=$.$highlight_source(f,i["$include?"]("callouts")):"callouts"["$==="](s)?u(i["$include?"]("highlight"))?o:f=$.$sub_callouts(f):"post_replacements"["$==="](s)?f=$.$sub_post_replacements(f):$.$warn("asciidoctor: WARNING: unknown substitution type "+e)}()},l.$$s=c,l.$$arity=1,l)),u(h)&&(f=c.$restore_passthroughs(f)),u(p)?f.$split(t.const_get_relative(X,"EOL"),-1):f},g.$$arity=-2),t.defn(K,"$apply_normal_subs",v=function(e){var r=this;return r.$apply_subs(function(){return u(t.const_get_qualified("::","Array")["$==="](e))?n(e,t.const_get_relative(X,"EOL")):e}())},v.$$arity=1),t.defn(K,"$apply_title_subs",m=function(e){var n=this;return n.$apply_subs(e,t.const_get_relative(X,"TITLE_SUBS"))},m.$$arity=1),t.defn(K,"$apply_header_subs",y=function(e){var n=this;return n.$apply_subs(e,t.const_get_relative(X,"HEADER_SUBS"))},y.$$arity=1),t.defn(K,"$extract_passthroughs",b=function(e){var a,$,s,l,p,h=this,g=o,v=o,m=o,y=o;return null==h.document&&(h.document=o),g=h.document.$compat_mode(),u(u(a=u($=e["$include?"]("++"))?$:e["$include?"]("$$"))?a:e["$include?"]("ss:"))&&(e=_(e,"gsub",[t.const_get_relative(X,"PassInlineMacroRx")],(s=function(){var e,a=s.$$s||this,$=o,l=o,p=o,h=o,v=o,m=o,y=o,b=o,k=o,w=o;if(null==a.passthroughs&&(a.passthroughs=o),null==d["~"]&&(d["~"]=o),$=d["~"],l=o,u(p=$["$[]"](4))){if(u(u(e=g)?p["$=="]("++"):e))return function(){return u($["$[]"](2)["$nil_or_empty?"]())?""+$["$[]"](1)+$["$[]"](3)+"++"+a.$extract_passthroughs($["$[]"](5))+"++":""+$["$[]"](1)+"["+$["$[]"](2)+"]"+$["$[]"](3)+"++"+a.$extract_passthroughs($["$[]"](5))+"++"}();if(h=$["$[]"](2),v=$["$[]"](3).$length(),m=$["$[]"](5),y=!1,u(h)){if(u(r(v,0)))return""+$["$[]"](1)+"["+h+"]"+n(t.const_get_relative(X,"RS"),i(v,1))+p+$["$[]"](5)+p;$["$[]"](1)["$=="](t.const_get_relative(X,"RS"))?(l="["+h+"]",h=o):(u((e=p["$=="]("++"))?h["$end_with?"]("x-"):p["$=="]("++"))&&(y=!0,h=h["$[]"](f(0,-2,!0))),h=a.$parse_attributes(h))}else if(u(r(v,0)))return""+n(t.const_get_relative(X,"RS"),i(v,1))+p+$["$[]"](5)+p;b=function(){return p["$=="]("+++")?[]:t.const_get_relative(X,"BASIC_SUBS")}(),k=a.passthroughs.$size(),u(h)?u(y)?(w=[k,c(["text","subs","type","attributes"],{text:m,subs:t.const_get_relative(X,"NORMAL_SUBS"),type:"monospaced",attributes:h})],_(a.passthroughs,"[]=",t.to_a(w)),w[i(w.length,1)]):(w=[k,c(["text","subs","type","attributes"],{text:m,subs:b,type:"unquoted",attributes:h})],_(a.passthroughs,"[]=",t.to_a(w)),w[i(w.length,1)]):(w=[k,c(["text","subs"],{text:m,subs:b})],_(a.passthroughs,"[]=",t.to_a(w)),w[i(w.length,1)])}else{if($["$[]"](6)["$=="](t.const_get_relative(X,"RS")))return $["$[]"](0)["$[]"](f(1,-1,!1));w=[k=a.passthroughs.$size(),c(["text","subs"],{text:a.$unescape_brackets($["$[]"](8)),subs:function(){return u($["$[]"](7))?a.$resolve_pass_subs($["$[]"](7)):[]}()})],_(a.passthroughs,"[]=",t.to_a(w)),w[i(w.length,1)]}return""+l+t.const_get_relative(X,"PASS_START")+k+t.const_get_relative(X,"PASS_END")},s.$$s=h,s.$$arity=0,s))),$=t.const_get_relative(X,"PassInlineRx")["$[]"](g),a=t.to_ary($),v=null==a[0]?o:a[0],m=null==a[1]?o:a[1],y=null==a[2]?o:a[2],$,u(u(a=e["$include?"](v))?a:u($=m)?e["$include?"](m):$)&&(e=_(e,"gsub",[y],(l=function(){var e,n=l.$$s||this,r=o,a=o,$=o,s=o,p=o,h=o,v=o,m=o,y=o,b=o;if(null==n.passthroughs&&(n.passthroughs=o),null==d["~"]&&(d["~"]=o),r=d["~"],a=r["$[]"](1),$=r["$[]"](2),u(r["$[]"](3)["$start_with?"](t.const_get_relative(X,"RS")))&&(s=t.const_get_relative(X,"RS")),p=r["$[]"](4),h=r["$[]"](5),u(g)?v=!0:u(v=u(e=$)?$["$end_with?"]("x-"):e)&&($=$["$[]"](f(0,-2,!0))),u($)){if(u((e=p["$=="]("`"))?v["$!"]():p["$=="]("`")))return""+a+"["+$+"]"+s+"`"+n.$extract_passthroughs(h)+"`";if(u(s))return""+a+"["+$+"]"+r["$[]"](3)["$[]"](f(1,-1,!1));a["$=="](t.const_get_relative(X,"RS"))?(a="["+$+"]",$=o):$=n.$parse_attributes($)}else{if(u((e=p["$=="]("`"))?v["$!"]():p["$=="]("`")))return""+a+s+"`"+n.$extract_passthroughs(h)+"`";if(u(s))return""+a+r["$[]"](3)["$[]"](f(1,-1,!1))}return m=n.passthroughs.$size(),u(g)?(y=[m,c(["text","subs","attributes","type"],{text:h,subs:t.const_get_relative(X,"BASIC_SUBS"),attributes:$,type:"monospaced"})],_(n.passthroughs,"[]=",t.to_a(y)),y[i(y.length,1)]):u($)?u(v)?(b=function(){return p["$=="]("`")?t.const_get_relative(X,"BASIC_SUBS"):t.const_get_relative(X,"NORMAL_SUBS")}(),y=[m,c(["text","subs","attributes","type"],{text:h,subs:b,attributes:$,type:"monospaced"})],_(n.passthroughs,"[]=",t.to_a(y)),y[i(y.length,1)]):(y=[m,c(["text","subs","attributes","type"],{text:h,subs:t.const_get_relative(X,"BASIC_SUBS"),attributes:$,type:"unquoted"})],_(n.passthroughs,"[]=",t.to_a(y)),y[i(y.length,1)]):(y=[m,c(["text","subs"],{text:h,subs:t.const_get_relative(X,"BASIC_SUBS")})],_(n.passthroughs,"[]=",t.to_a(y)),y[i(y.length,1)]),""+a+t.const_get_relative(X,"PASS_START")+m+t.const_get_relative(X,"PASS_END")},l.$$s=h,l.$$arity=0,l))),u(u(a=e["$include?"](":"))?u($=e["$include?"]("stem:"))?$:e["$include?"]("math:"):a)&&(e=_(e,"gsub",[t.const_get_relative(X,"StemInlineMacroRx")],(p=function(){var e=p.$$s||this,n=o,r=o,a=o,$=o,s=o,l=o,h=o;return null==e.document&&(e.document=o),null==e.passthroughs&&(e.passthroughs=o),null==d["~"]&&(d["~"]=o),n=d["~"],u(n["$[]"](0)["$start_with?"](t.const_get_relative(X,"RS")))?n["$[]"](0)["$[]"](f(1,-1,!1)):((r=n["$[]"](1).$to_sym())["$=="]("stem")&&(r=function(){return u((a=e.document.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":a}().$to_sym()),$=e.$unescape_brackets(n["$[]"](3)),s=function(){return u(n["$[]"](2))?e.$resolve_pass_subs(n["$[]"](2)):u(e.document["$basebackend?"]("html"))?t.const_get_relative(X,"BASIC_SUBS"):[]}(),l=[h=e.passthroughs.$size(),c(["text","subs","type"],{text:$,subs:s,type:r})],_(e.passthroughs,"[]=",t.to_a(l)),l[i(l.length,1)],""+t.const_get_relative(X,"PASS_START")+h+t.const_get_relative(X,"PASS_END"))},p.$$s=h,p.$$arity=0,p))),e},b.$$arity=1),t.defn(K,"$restore_passthroughs",k=function(e,n){var r,i,a,$=this;return null==$.passthroughs&&($.passthroughs=o),null==n&&(n=!0),function(){try{return u(u(r=n)?u(i=$.passthroughs["$empty?"]())?i:e["$include?"](t.const_get_relative(X,"PASS_START"))["$!"]():r)?e:_(e,"gsub",[t.const_get_relative(X,"PassSlotRx")],(a=function(){var e,n=a.$$s||this,r=o,i=o,$=o;return null==n.passthroughs&&(n.passthroughs=o),r=n.passthroughs["$[]"](((e=d["~"])===o?o:e["$[]"](1)).$to_i()),i=n.$apply_subs(r["$[]"]("text"),r["$[]"]("subs")),u($=r["$[]"]("type"))&&(i=t.const_get_relative(X,"Inline").$new(n,"quoted",i,c(["type","attributes"],{type:$,attributes:r["$[]"]("attributes")})).$convert()),u(i["$include?"](t.const_get_relative(X,"PASS_START")))?n.$restore_passthroughs(i,!1):i},a.$$s=$,a.$$arity=0,a))}finally{!function(){return u(n)?$.passthroughs.$clear():o}()}}()},k.$$arity=-2),u(t.const_get_qualified("::","RUBY_MIN_VERSION_1_9"))?t.defn(K,"$sub_specialchars",w=function(e){return e.$gsub(t.const_get_relative(X,"SpecialCharsRx"),t.const_get_relative(X,"SpecialCharsTr"))},w.$$arity=1):t.defn(K,"$sub_specialchars",x=function(e){var n,r=this;return _(e,"gsub",[t.const_get_relative(X,"SpecialCharsRx")],(n=function(){var e;n.$$s||this;return t.const_get_relative(X,"SpecialCharsTr")["$[]"]((e=d["~"])===o?o:e["$[]"](0))},n.$$s=r,n.$$arity=0,n))},x.$$arity=1),t.alias(K,"sub_specialcharacters","sub_specialchars"),t.const_get_relative(X,"RUBY_ENGINE")["$=="]("opal")&&(t.defn(K,"$sub_quotes",E=function(e){var n,r=this;return null==r.document&&(r.document=o),_(t.const_get_relative(X,"QUOTE_SUBS")["$[]"](r.document.$compat_mode()),"each",[],(n=function(t,r,i){var a,$=n.$$s||this;return null==t&&(t=o),null==r&&(r=o),null==i&&(i=o),e=_(e,"gsub",[i],(a=function(){var e=a.$$s||this;return null==d["~"]&&(d["~"]=o),e.$convert_quoted_text(d["~"],t,r)},a.$$s=$,a.$$arity=0,a))},n.$$s=r,n.$$arity=3,n)),e},E.$$arity=1),t.defn(K,"$sub_replacements",O=function(e){var n,r=this;return _(t.const_get_relative(X,"REPLACEMENTS"),"each",[],(n=function(t,r,i){var a,$=n.$$s||this;return null==t&&(t=o),null==r&&(r=o),null==i&&(i=o),e=_(e,"gsub",[t],(a=function(){var t=a.$$s||this;return null==d["~"]&&(d["~"]=o),t.$do_replacement(d["~"],r,i)},a.$$s=$,a.$$arity=0,a))},n.$$s=r,n.$$arity=3,n)),e},O.$$arity=1)),t.defn(K,"$do_replacement",A=function(e,n,r){var i=o,a=o;return u((i=e["$[]"](0))["$include?"](t.const_get_relative(X,"RS")))?i.$sub(t.const_get_relative(X,"RS"),""):function(){return a=r,"none"["$==="](a)?n:"leading"["$==="](a)?""+e["$[]"](1)+n:"bounding"["$==="](a)?""+e["$[]"](1)+n+e["$[]"](2):o}()},A.$$arity=3),t.defn(K,"$sub_attributes",S=function(r,i){var a,$=this,s=o,l=o,f=o,p=o;return null==$.document&&($.document=o),null==i&&(i=c([],{})),u(r["$nil_or_empty?"]())?r:(u(s=t.const_get_qualified("::","String")["$==="](r))&&(r=[r]),l=$.document.$attributes(),f=o,p=[],function(){var n=t.new_brk();try{return _(r,"each",[],(a=function(n){var r,$,s,c=a.$$s||this,h=o,g=o;return null==n&&(n=o),h=!1,g=!1,u(n["$include?"]("{"))&&(n=function(){var a=t.new_brk();try{return _(n,"gsub",[t.const_get_relative(X,"AttributeReferenceRx")],(r=function(){var n,$,s,c=r.$$s||this,_=o,p=o,v=o,m=o,y=o,b=o,k=o,w=o,x=o,E=o;return null==c.document&&(c.document=o),null==d["~"]&&(d["~"]=o),_=d["~"],u(u(n=_["$[]"](1)["$=="](t.const_get_relative(X,"RS")))?n:_["$[]"](4)["$=="](t.const_get_relative(X,"RS")))?"{"+_["$[]"](2)+"}":u(_["$[]"](3)["$nil_or_empty?"]()["$!"]())?(p=e((v=_["$[]"](3)).$length(),1),m=_["$[]"](2)["$[]"](t.Range.$new(p,-1,!1)),function(){return y=v,"set"["$==="](y)?(b=m.$split(":"),$=t.const_get_relative(X,"Parser").$store_attribute(b["$[]"](0),u(s=b["$[]"](1))?s:"",c.document),n=t.to_ary($),k=null==n[0]?o:n[0],w=null==n[1]?o:n[1],$,u(w)||l.$fetch("attribute-undefined",t.const_get_relative(X,"Compliance").$attribute_undefined())["$=="]("drop-line")&&(h=!0,t.brk("",a)),g=!0,""):"counter"["$==="](y)||"counter2"["$==="](y)?(b=m.$split(":"),x=c.document.$counter(b["$[]"](0),b["$[]"](1)),v["$=="]("counter2")?(g=!0,""):x):(c.$warn("asciidoctor: WARNING: illegal attribute directive: "+_["$[]"](3)),_["$[]"](0))}()):u(l["$key?"](E=_["$[]"](2).$downcase()))?l["$[]"](E):u(t.const_get_relative(X,"INTRINSIC_ATTRIBUTES")["$key?"](E))?t.const_get_relative(X,"INTRINSIC_ATTRIBUTES")["$[]"](E):function(){return y=f=u(n=f)?n:u($=i["$[]"]("attribute_missing"))?$:l.$fetch("attribute-missing",t.const_get_relative(X,"Compliance").$attribute_missing()),"skip"["$==="](y)?_["$[]"](0):"drop-line"["$==="](y)?(c.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+E),h=!0,t.brk("",a),void 0):"warn"["$==="](y)?(c.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+E),_["$[]"](0)):(g=!0,"")}()},r.$$s=c,r.$$brk=a,r.$$arity=0,r))}catch($){if($===a)return $.$v;throw $}}()),u(u($=h)?$:u(s=g)?n["$empty?"]():s)?o:p["$<<"](n)},a.$$s=$,a.$$brk=n,a.$$arity=1,a))}catch(s){if(s===n)return s.$v;throw s}}(),u(s)?n(p,t.const_get_relative(X,"EOL")):p)},S.$$arity=-2),t.defn(K,"$sub_macros",R=function(e){var n,a,$,l,p,h,g,v,m,y,b,k,w=this,x=o,E=o,O=o,A=o,S=o,R=o,M=o,T=o,I=o,q=o;return null==w.document&&(w.document=o),u(e["$nil_or_empty?"]())?e:(x=c([],{}),O=["square_bracket",e["$include?"]("[")],_(x,"[]=",t.to_a(O)),E=O[i(O.length,1)],A=e["$include?"](":"),O=["macroish",u(n=E)?A:n],_(x,"[]=",t.to_a(O)),S=O[i(O.length,1)],R=u(n=S)?e["$include?"](":["):n,M=w.document.$attributes(),T=M["$key?"]("linkattrs"),I=e,u(M["$key?"]("experimental"))&&(u(u(n=R)?u(a=I["$include?"]("kbd:"))?a:I["$include?"]("btn:"):n)&&(I=_(I,"gsub",[t.const_get_relative(X,"KbdBtnInlineMacroRx")],($=function(){var e,n,a,s=$.$$s||this,l=o,f=o;return u((e=d["~"])===o?o:e["$[]"](1))?((e=d["~"])===o?o:e["$[]"](0)).$slice(1,((e=d["~"])===o?o:e["$[]"](0)).$length()):((e=d["~"])===o?o:e["$[]"](2))["$=="]("kbd")?(u((l=((e=d["~"])===o?o:e["$[]"](3)).$strip())["$include?"](t.const_get_relative(X,"R_SB")))&&(l=l.$gsub(t.const_get_relative(X,"ESC_R_SB"),t.const_get_relative(X,"R_SB"))),u(u(e=r(l.$length(),1))?f=l["$[]"](t.const_get_relative(X,"KbdDelimiterRx")):e)?u(l["$end_with?"](f))?(l=_(l.$split(f,-1),"map",[],(n=function(t){n.$$s||this;return null==t&&(t=o),t.$strip()},n.$$s=s,n.$$arity=1,n)),u(l["$[]"](-1)["$empty?"]())&&(l.$pop(),u(l["$[]"](-1)["$empty?"]())&&(O=[-1,f],_(l,"[]=",t.to_a(O)),O[i(O.length,1)]))):l=_(l.$split(f),"map",[],(a=function(t){a.$$s||this;return null==t&&(t=o),t.$strip()},a.$$s=s,a.$$arity=1,a)):l=[l],t.const_get_relative(X,"Inline").$new(s,"kbd",o,c(["attributes"],{attributes:c(["keys"],{keys:l})})).$convert()):t.const_get_relative(X,"Inline").$new(s,"button",s.$unescape_bracketed_text((e=d["~"])===o?o:e["$[]"](3))).$convert()},$.$$s=w,$.$$arity=0,$))),u(u(n=S)?I["$include?"]("menu:"):n)&&(I=_(I,"gsub",[t.const_get_relative(X,"MenuInlineMacroRx")],(l=function(){var e,n,r=l.$$s||this,i=o,a=o,$=o,s=o,p=o,h=o,g=o;return null==d["~"]&&(d["~"]=o),i=d["~"],u((a=i["$[]"](0))["$start_with?"](t.const_get_relative(X,"RS")))?a["$[]"](f(1,-1,!1)):(e=[i["$[]"](1),i["$[]"](2)],$=e[0],s=e[1],e,u(s)?(u(s["$include?"](t.const_get_relative(X,"R_SB")))&&(s=s.$gsub(t.const_get_relative(X,"ESC_R_SB"),t.const_get_relative(X,"R_SB"))),u(p=function(){return u(s["$include?"]("&gt;"))?"&gt;":u(s["$include?"](","))?",":o}())?(h=_(s.$split(p),"map",[],(n=function(t){n.$$s||this;return null==t&&(t=o),t.$strip()},n.$$s=r,n.$$arity=1,n)),g=h.$pop()):(e=[[],s.$rstrip()],h=e[0],g=e[1],e)):(e=[[],o],h=e[0],g=e[1],e),t.const_get_relative(X,"Inline").$new(r,"menu",o,c(["attributes"],{attributes:c(["menu","submenus","menuitem"],{menu:$,submenus:h,menuitem:g})})).$convert())},l.$$s=w,l.$$arity=0,l))),u(u(n=I["$include?"]('"'))?I["$include?"]("&gt;"):n)&&(I=_(I,"gsub",[t.const_get_relative(X,"MenuInlineRx")],(p=function(){var e,n,r,i=p.$$s||this,a=o,$=o,l=o,h=o,g=o,v=o;return null==d["~"]&&(d["~"]=o),a=d["~"],u(($=a["$[]"](0))["$start_with?"](t.const_get_relative(X,"RS")))?$["$[]"](f(1,-1,!1)):(l=a["$[]"](1),n=_(l.$split("&gt;"),"map",[],(r=function(t){r.$$s||this;return null==t&&(t=o),t.$strip()},r.$$s=i,r.$$arity=1,r)),e=t.to_ary(n),h=null==e[0]?o:e[0],g=s.call(e,1),n,v=g.$pop(),t.const_get_relative(X,"Inline").$new(i,"menu",o,c(["attributes"],{attributes:c(["menu","submenus","menuitem"],{menu:h,submenus:g,menuitem:v})})).$convert())},p.$$s=w,p.$$arity=0,p)))),u(u(n=q=w.document.$extensions())?q["$inline_macros?"]():n)&&_(q.$inline_macros(),"each",[],(h=function(e){var n,r=h.$$s||this;return null==e&&(e=o),I=_(I,"gsub",[e.$instance().$regexp()],(n=function(){var r,a=n.$$s||this,$=o,s=o,l=o,p=o,h=o,g=o;return null==d["~"]&&(d["~"]=o),$=d["~"],u($["$[]"](0)["$start_with?"](t.const_get_relative(X,"RS")))?$["$[]"](0)["$[]"](f(1,-1,!1)):(u(function(){try{return $.$names()}catch(e){if(!t.rescue(e,[t.const_get_relative(X,"StandardError")]))throw e;try{return[]}finally{t.pop_exception()}}}()["$empty?"]())?(r=[$["$[]"](1),$["$[]"](2),e.$config()],s=r[0],l=r[1],p=r[2],r):(r=[function(){try{return $["$[]"]("target")}catch(e){if(!t.rescue(e,[t.const_get_relative(X,"StandardError")]))throw e;try{return o}finally{t.pop_exception()}}}(),function(){try{return $["$[]"]("content")}catch(e){if(!t.rescue(e,[t.const_get_relative(X,"StandardError")]))throw e;try{return o}finally{t.pop_exception()}}}(),e.$config()],s=r[0],l=r[1],p=r[2],r),h=function(){return u(h=p["$[]"]("default_attrs"))?h.$dup():c([],{})}(),u(l["$nil_or_empty?"]())?u(u(r=l)?p["$[]"]("content_model")["$!="]("attributes"):r)&&(O=["text",l],_(h,"[]=",t.to_a(O)),O[i(O.length,1)]):(l=a.$unescape_bracketed_text(l),p["$[]"]("content_model")["$=="]("attributes")?a.$parse_attributes(l,u(r=p["$[]"]("pos_attrs"))?r:[],c(["sub_result","into"],{sub_result:!1,into:h})):(O=["text",l],_(h,"[]=",t.to_a(O)),O[i(O.length,1)])),g=e.$process_method()["$[]"](a,u(r=s)?r:l,h),u(t.const_get_relative(X,"Inline")["$==="](g))?g.$convert():g)},n.$$s=r,n.$$arity=0,n))},h.$$s=w,h.$$arity=1,h)),u(u(n=S)?u(a=I["$include?"]("image:"))?a:I["$include?"]("icon:"):n)&&(I=_(I,"gsub",[t.const_get_relative(X,"ImageInlineMacroRx")],(g=function(){var e,n=g.$$s||this,r=o,a=o,$=o,s=o,l=o,p=o;return null==n.document&&(n.document=o),null==d["~"]&&(d["~"]=o),r=d["~"],u((a=r["$[]"](0))["$start_with?"](t.const_get_relative(X,"RS")))?a["$[]"](f(1,-1,!1)):(u(a["$start_with?"]("icon:"))?(e=["icon",["size"]],$=e[0],s=e[1],e):(e=["image",["alt","width","height"]],$=e[0],s=e[1],e),l=r["$[]"](1),$["$=="]("icon")||n.document.$register("images",l),p=n.$parse_attributes(r["$[]"](2),s,c(["unescape_input"],{unescape_input:!0})),u(e=p["$[]"]("alt"))?e:(O=["alt",t.const_get_relative(X,"Helpers").$basename(l,!0).$tr("_-"," ")],_(p,"[]=",t.to_a(O)),O[i(O.length,1)]),t.const_get_relative(X,"Inline").$new(n,"image",o,c(["type","target","attributes"],{type:$,target:l,attributes:p})).$convert())},g.$$s=w,g.$$arity=0,g))),u(u(n=u(a=I["$include?"]("(("))?I["$include?"]("))"):a)?n:u(a=R)?I["$include?"]("indexterm"):a)&&(I=_(I,"gsub",[t.const_get_relative(X,"IndextermInlineMacroRx")],(v=function(){var e,n=v.$$s||this,r=o,a=o,$=o,s=o,l=o,_=o,p=o,h=o;return null==n.document&&(n.document=o),null==d["~"]&&(d["~"]=o),r=d["~"],u(r["$[]"](0)["$start_with?"](t.const_get_relative(X,"RS")))?r["$[]"](0)["$[]"](f(1,-1,!1)):function(){return a=r["$[]"](1),"indexterm"["$==="](a)?($=n.$split_simple_csv(n.$normalize_string(r["$[]"](2),!0)),n.document.$register("indexterms",$),t.const_get_relative(X,"Inline").$new(n,"indexterm",o,c(["attributes"],{attributes:c(["terms"],{terms:$})})).$convert()):"indexterm2"["$==="](a)?(s=n.$normalize_string(r["$[]"](2),!0),n.document.$register("indexterms",[s]),t.const_get_relative(X,"Inline").$new(n,"indexterm",s,c(["type"],{type:"visible"})).$convert()):(e=[r["$[]"](3),!0,o,o],l=e[0],_=e[1],p=e[2],h=e[3],e,u(l["$start_with?"]("("))?u(l["$end_with?"](")"))?(e=[l.$slice(1,i(l.$length(),2)),!1],l=e[0],_=e[1],e):(e=[l.$slice(1,i(l.$length(),1)),"(",""],l=e[0],p=e[1],h=e[2],e):u(l["$end_with?"](")"))&&(u(l["$start_with?"]("("))?(e=[l.$slice(1,i(l.$length(),2)),!1],l=e[0],_=e[1],e):(e=[l.$slice(0,i(l.$length(),1)),"",")"],l=e[0],p=e[1],h=e[2],e)),u(_)?(s=n.$normalize_string(l),n.document.$register("indexterms",[s]),I=t.const_get_relative(X,"Inline").$new(n,"indexterm",s,c(["type"],{type:"visible"})).$convert()):($=n.$split_simple_csv(n.$normalize_string(l)),n.document.$register("indexterms",$),I=t.const_get_relative(X,"Inline").$new(n,"indexterm",o,c(["attributes"],{attributes:c(["terms"],{terms:$})})).$convert()),u(p)?""+p+I+h:I)}()},v.$$s=w,v.$$arity=0,v))),u(u(n=A)?I["$include?"]("://"):n)&&(I=_(I,"gsub",[t.const_get_relative(X,"LinkInlineRx")],(m=function(){var e,n,r,a=m.$$s||this,$=o,s=o,l=o,p=o,h=o,g=o,v=o,y=o,b=o;if(null==a.document&&(a.document=o),null==d["~"]&&(d["~"]=o),$=d["~"],u($["$[]"](2)["$start_with?"](t.const_get_relative(X,"RS"))))return""+$["$[]"](1)+$["$[]"](2)["$[]"](f(1,-1,!1))+$["$[]"](3);if(e=[$["$[]"](1),$["$[]"](2),u(n=s=$["$[]"](3))?n:"",""],l=e[0],p=e[1],h=e[2],g=e[3],e,l["$=="]("link:")){if(!u(s))return $["$[]"](0);l=""}return u(u(e=s)?e:t.const_get_relative(X,"UriTerminatorRx")["$!~"](p))||(v=(e=d["~"])===o?o:e["$[]"](0),")"["$==="](v)?(p=p.$chop(),g=")"):";"["$==="](v)?u(u(e=l["$start_with?"]("&lt;"))?p["$end_with?"]("&gt;"):e)?(l=l["$[]"](f(4,-1,!1)),p=p["$[]"](f(0,-4,!0))):u((p=p.$chop())["$end_with?"](")"))?(p=p.$chop(),g=");"):g=";":":"["$==="](v)&&(u((p=p.$chop())["$end_with?"](")"))?(p=p.$chop(),g="):"):g=":")),e=[o,c(["type"],{type:"link"})],y=e[0],b=e[1],e,u(h["$empty?"]())||(u(h["$include?"](t.const_get_relative(X,"R_SB")))&&(h=h.$gsub(t.const_get_relative(X,"ESC_R_SB"),t.const_get_relative(X,"R_SB"))),u(u(e=T)?u(n=h["$start_with?"]('"'))?n:u(r=h["$include?"](","))?h["$include?"]("="):r:e)&&(y=a.$parse_attributes(h,[]),
u(y["$key?"]("id"))&&(O=["id",y.$delete("id")],_(b,"[]=",t.to_a(O)),O[i(O.length,1)]),h=u(e=y["$[]"](1))?e:""),u(h["$end_with?"]("^"))&&(h=h.$chop(),u(y)?u(e=y["$[]"]("window"))?e:(O=["window","_blank"],_(y,"[]=",t.to_a(O)),O[i(O.length,1)]):y=c(["window"],{window:"_blank"}))),u(h["$empty?"]())&&(h=function(){return u(M["$key?"]("hide-uri-scheme"))?p.$sub(t.const_get_relative(X,"UriSniffRx"),""):p}(),u(y)?(O=["role",function(){return u(y["$key?"]("role"))?"bare "+y["$[]"]("role"):"bare"}()],_(y,"[]=",t.to_a(O)),O[i(O.length,1)]):y=c(["role"],{role:"bare"})),a.document.$register("links",(O=["target",p],_(b,"[]=",t.to_a(O)),O[i(O.length,1)])),u(y)&&(O=["attributes",y],_(b,"[]=",t.to_a(O)),O[i(O.length,1)]),""+l+t.const_get_relative(X,"Inline").$new(a,"anchor",h,b).$convert()+g},m.$$s=w,m.$$arity=0,m))),u(u(n=S)?u(a=I["$include?"]("link:"))?a:I["$include?"]("mailto:"):n)&&(I=_(I,"gsub",[t.const_get_relative(X,"LinkInlineMacroRx")],(y=function(){var e,n,r,a,$=y.$$s||this,s=o,l=o,p=o,h=o,g=o,v=o;return null==$.document&&($.document=o),null==d["~"]&&(d["~"]=o),s=d["~"],u(s["$[]"](0)["$start_with?"](t.const_get_relative(X,"RS")))?s["$[]"](0)["$[]"](f(1,-1,!1)):(l=function(){return u(p=s["$[]"](1))?"mailto:"+s["$[]"](2):s["$[]"](2)}(),e=[o,c(["type"],{type:"link"})],h=e[0],g=e[1],e,u((v=s["$[]"](3))["$empty?"]())||(u(v["$include?"](t.const_get_relative(X,"R_SB")))&&(v=v.$gsub(t.const_get_relative(X,"ESC_R_SB"),t.const_get_relative(X,"R_SB"))),u(u(e=T)?u(n=v["$start_with?"]('"'))?n:u(r=v["$include?"](","))?u(a=p)?a:v["$include?"]("="):r:e)&&(h=$.$parse_attributes(v,[]),u(h["$key?"]("id"))&&(O=["id",h.$delete("id")],_(g,"[]=",t.to_a(O)),O[i(O.length,1)]),u(p)&&u(h["$key?"](2))&&(l=u(h["$key?"](3))?""+l+"?subject="+t.const_get_relative(X,"Helpers").$encode_uri(h["$[]"](2))+"&amp;body="+t.const_get_relative(X,"Helpers").$encode_uri(h["$[]"](3)):""+l+"?subject="+t.const_get_relative(X,"Helpers").$encode_uri(h["$[]"](2))),v=u(e=h["$[]"](1))?e:""),u(v["$end_with?"]("^"))&&(v=v.$chop(),u(h)?u(e=h["$[]"]("window"))?e:(O=["window","_blank"],_(h,"[]=",t.to_a(O)),O[i(O.length,1)]):h=c(["window"],{window:"_blank"}))),u(v["$empty?"]())&&(u(p)?v=s["$[]"](2):(v=function(){return u(M["$key?"]("hide-uri-scheme"))?l.$sub(t.const_get_relative(X,"UriSniffRx"),""):l}(),u(h)?(O=["role",function(){return u(h["$key?"]("role"))?"bare "+h["$[]"]("role"):"bare"}()],_(h,"[]=",t.to_a(O)),O[i(O.length,1)]):h=c(["role"],{role:"bare"}))),$.document.$register("links",(O=["target",l],_(g,"[]=",t.to_a(O)),O[i(O.length,1)])),u(h)&&(O=["attributes",h],_(g,"[]=",t.to_a(O)),O[i(O.length,1)]),t.const_get_relative(X,"Inline").$new($,"anchor",v,g).$convert())},y.$$s=w,y.$$arity=0,y))),u(I["$include?"]("@"))&&(I=_(I,"gsub",[t.const_get_relative(X,"EmailInlineRx")],(b=function(){var e,n,r=b.$$s||this,i=o,a=o,$=o;return null==r.document&&(r.document=o),e=[(n=d["~"])===o?o:n["$[]"](0),(n=d["~"])===o?o:n["$[]"](1)],i=e[0],a=e[1],u(a)?function(){return a["$=="](t.const_get_relative(X,"RS"))?i["$[]"](f(1,-1,!1)):i}():($="mailto:"+i,r.document.$register("links",$),t.const_get_relative(X,"Inline").$new(r,"anchor",i,c(["type","target"],{type:"link",target:$})).$convert())},b.$$s=w,b.$$arity=0,b))),u(u(n=R)?I["$include?"]("footnote"):n)&&(I=_(I,"gsub",[t.const_get_relative(X,"FootnoteInlineMacroRx")],(k=function(){var e,n,r,i=k.$$s||this,a=o,$=o,s=o,l=o,p=o,h=o,g=o;return null==i.document&&(i.document=o),null==d["~"]&&(d["~"]=o),a=d["~"],u(a["$[]"](0)["$start_with?"](t.const_get_relative(X,"RS")))?a["$[]"](0)["$[]"](f(1,-1,!1)):(a["$[]"](1)["$=="]("footnote")?($=o,s=i.$restore_passthroughs(i.$sub_inline_xrefs(i.$sub_inline_anchors(i.$normalize_string(a["$[]"](2),!0))),!1),l=i.document.$counter("footnote-number"),i.document.$register("footnotes",t.const_get_qualified(t.const_get_relative(X,"Document"),"Footnote").$new(l,$,s)),p=o,h=o):(n=a["$[]"](2).$split(",",2),e=t.to_ary(n),$=null==e[0]?o:e[0],s=null==e[1]?o:e[1],n,$=$.$strip(),u(s)?(s=i.$restore_passthroughs(i.$sub_inline_xrefs(i.$sub_inline_anchors(i.$normalize_string(s,!0))),!1),l=i.document.$counter("footnote-number"),i.document.$register("footnotes",t.const_get_qualified(t.const_get_relative(X,"Document"),"Footnote").$new(l,$,s)),p="ref",h=o):(u(g=_(i.document.$footnotes(),"find",[],(r=function(t){r.$$s||this;return null==t&&(t=o),t.$id()["$=="]($)},r.$$s=i,r.$$arity=1,r)))?(l=g.$index(),s=g.$text()):(l=o,s=$),h=$,$=o,p="xref")),t.const_get_relative(X,"Inline").$new(i,"footnote",s,c(["attributes","id","target","type"],{attributes:c(["index"],{index:l}),id:$,target:h,type:p})).$convert())},k.$$s=w,k.$$arity=0,k))),w.$sub_inline_xrefs(w.$sub_inline_anchors(I,x),x))},R.$$arity=1),t.defn(K,"$sub_inline_anchors",M=function(e,n){var r,i,a,$,s,l=this;return null==l.context&&(l.context=o),null==l.parent&&(l.parent=o),null==n&&(n=o),u((r=l.context["$=="]("list_item"))?l.parent.$style()["$=="]("bibliography"):l.context["$=="]("list_item"))&&(e=_(e,"sub",[t.const_get_relative(X,"InlineBiblioAnchorRx")],(i=function(){var e,n,r=i.$$s||this;return t.const_get_relative(X,"Inline").$new(r,"anchor","["+(u(e=(n=d["~"])===o?o:n["$[]"](2))?e:(n=d["~"])===o?o:n["$[]"](1))+"]",c(["type","target"],{type:"bibref",target:(e=d["~"])===o?o:e["$[]"](1)})).$convert()},i.$$s=l,i.$$arity=0,i))),u(u(r=u(a=u($=n["$!"]())?$:n["$[]"]("square_bracket"))?e["$include?"]("[["):a)?r:u(a=u($=n["$!"]())?$:n["$[]"]("macroish"))?e["$include?"]("or:"):a)&&(e=_(e,"gsub",[t.const_get_relative(X,"InlineAnchorRx")],(s=function(){var e,n,r=s.$$s||this,i=o,a=o;return u((e=d["~"])===o?o:e["$[]"](1))?((e=d["~"])===o?o:e["$[]"](0)).$slice(1,((e=d["~"])===o?o:e["$[]"](0)).$length()):(u(i=(e=d["~"])===o?o:e["$[]"](2))?a=(e=d["~"])===o?o:e["$[]"](3):(i=(e=d["~"])===o?o:e["$[]"](4),u(u(e=a=(n=d["~"])===o?o:n["$[]"](5))?a["$include?"](t.const_get_relative(X,"R_SB")):e)&&(a=a.$gsub(t.const_get_relative(X,"ESC_R_SB"),t.const_get_relative(X,"R_SB")))),t.const_get_relative(X,"Inline").$new(r,"anchor",a,c(["type","target"],{type:"ref",target:i})).$convert())},s.$$s=l,s.$$arity=0,s))),e},M.$$arity=-2),t.defn(K,"$sub_inline_xrefs",T=function(n,a){var $,s,l,p=this;return null==a&&(a=o),u(u($=u(s=function(){return u(a)?a["$[]"]("macroish"):n["$include?"]("[")}())?n["$include?"]("xref:"):s)?$:u(s=n["$include?"]("&"))?n["$include?"]("&lt;&lt;"):s)&&(n=_(n,"gsub",[t.const_get_relative(X,"XrefInlineMacroRx")],(l=function(){var n,a,$,s=l.$$s||this,_=o,p=o,h=o,g=o,v=o,m=o,y=o,b=o,k=o,w=o,x=o;return null==s.document&&(s.document=o),null==d["~"]&&(d["~"]=o),_=d["~"],u(_["$[]"](0)["$start_with?"](t.const_get_relative(X,"RS")))?_["$[]"](0)["$[]"](f(1,-1,!1)):(u(p=_["$[]"](1))?(a=p.$split(",",2),n=t.to_ary(a),p=null==n[0]?o:n[0],h=null==n[1]?o:n[1],a,u(h)&&(h=h.$lstrip())):(n=[_["$[]"](2),_["$[]"](3)],p=n[0],h=n[1],n,u(u(n=h)?h["$include?"](t.const_get_relative(X,"R_SB")):n)&&(h=h.$gsub(t.const_get_relative(X,"ESC_R_SB"),t.const_get_relative(X,"R_SB")))),u(g=p.$index("#"))?u(r(g,0))?u(r(v=i(i(p.$length(),g),1),0))?(n=[p.$slice(0,g),p.$slice(e(g,1),v)],m=n[0],y=n[1],n):(n=[p.$slice(0,g),o],m=n[0],y=n[1],n):(n=[p,o,p.$slice(1,p.$length())],b=n[0],m=n[1],y=n[2],n):(n=[o,p],m=n[0],y=n[1],n),u(b)?k=y:u(m)?(u(u(n=w=m.$rindex("."))?t.const_get_relative(X,"ASCIIDOC_EXTENSIONS")["$[]"](m.$slice(w,m.$length())):n)&&(m=m.$slice(0,w)),u(u(n=s.document.$attributes()["$[]"]("docname")["$=="](m))?n:s.document.$catalog()["$[]"]("includes")["$include?"](m))?(n=[y,o,"#"+y],k=n[0],m=n[1],b=n[2],n):(k=function(){return u(y)?""+m+"#"+y:m}(),m=""+s.document.$attributes()["$[]"]("relfileprefix")+m+s.document.$attributes().$fetch("outfilesuffix",".html"),b=function(){return u(y)?""+m+"#"+y:m}())):(u(u(n=u(a=s.document.$catalog()["$[]"]("ids")["$key?"](y)["$!"]())?u($=y["$include?"](" "))?$:y.$downcase()["$!="](y):a)?x=s.document.$catalog()["$[]"]("ids").$key(y):n)&&(y=x),n=[y,"#"+y],k=n[0],b=n[1],n),t.const_get_relative(X,"Inline").$new(s,"anchor",h,c(["type","target","attributes"],{type:"xref",target:b,attributes:c(["path","fragment","refid"],{path:m,fragment:y,refid:k})})).$convert())},l.$$s=p,l.$$arity=0,l))),n},T.$$arity=-2),t.defn(K,"$sub_callouts",I=function(e){var n,r=this,i=o;return i=function(){return u(r["$attr?"]("line-comment"))?new RegExp("(?:"+t.const_get_qualified("::","Regexp").$escape(r.$attr("line-comment"))+" )?"+t.const_get_relative(X,"CalloutSourceRxt")):t.const_get_relative(X,"CalloutSourceRx")}(),_(e,"gsub",[i],(n=function(){var e,r=n.$$s||this;return null==r.document&&(r.document=o),u((e=d["~"])===o?o:e["$[]"](1))?((e=d["~"])===o?o:e["$[]"](0)).$sub(t.const_get_relative(X,"RS"),""):t.const_get_relative(X,"Inline").$new(r,"callout",(e=d["~"])===o?o:e["$[]"](3),c(["id"],{id:r.document.$callouts().$read_next_id()})).$convert()},n.$$s=r,n.$$arity=0,n))},I.$$arity=1),t.defn(K,"$sub_post_replacements",q=function(e){var r,$,s,l=this,f=o,p=o;return null==l.document&&(l.document=o),null==l.attributes&&(l.attributes=o),u(u(r=l.document.$attributes()["$key?"]("hardbreaks"))?r:l.attributes["$key?"]("hardbreaks-option"))?(f=e.$split(t.const_get_relative(X,"EOL"),-1),u(a(f.$size(),2))?e:(p=f.$pop(),n(_(f,"map",[],($=function(e){var n=$.$$s||this;return null==e&&(e=o),t.const_get_relative(X,"Inline").$new(n,"break",function(){return u(e["$end_with?"](t.const_get_relative(X,"LINE_BREAK")))?e.$slice(0,i(e.$length(),2)):e}(),c(["type"],{type:"line"})).$convert()},$.$$s=l,$.$$arity=1,$))["$<<"](p),t.const_get_relative(X,"EOL")))):u(u(r=e["$include?"](t.const_get_relative(X,"PLUS")))?e["$include?"](t.const_get_relative(X,"LINE_BREAK")):r)?_(e,"gsub",[t.const_get_relative(X,"LineBreakRx")],(s=function(){var e,n=s.$$s||this;return t.const_get_relative(X,"Inline").$new(n,"break",(e=d["~"])===o?o:e["$[]"](1),c(["type"],{type:"line"})).$convert()},s.$$s=l,s.$$arity=0,s)):e},q.$$arity=1),t.defn(K,"$convert_quoted_text",C=function(e,n,r){var i,a=this,$=o,s=o,l=o,_=o,d=o;if($=o,u(e["$[]"](0)["$start_with?"](t.const_get_relative(X,"RS")))){if(!u((i=r["$=="]("constrained"))?(s=e["$[]"](2))["$nil_or_empty?"]()["$!"]():r["$=="]("constrained")))return e["$[]"](0)["$[]"](f(1,-1,!1));$="["+s+"]"}return r["$=="]("constrained")?u($)?""+$+t.const_get_relative(X,"Inline").$new(a,"quoted",e["$[]"](3),c(["type"],{type:n})).$convert():(u(l=e["$[]"](2))&&(_=(d=a.$parse_quoted_text_attributes(l)).$delete("id"),n["$=="]("mark")&&(n="unquoted")),""+e["$[]"](1)+t.const_get_relative(X,"Inline").$new(a,"quoted",e["$[]"](3),c(["type","id","attributes"],{type:n,id:_,attributes:d})).$convert()):(u(l=e["$[]"](1))&&(_=(d=a.$parse_quoted_text_attributes(l)).$delete("id"),n["$=="]("mark")&&(n="unquoted")),t.const_get_relative(X,"Inline").$new(a,"quoted",e["$[]"](2),c(["type","id","attributes"],{type:n,id:_,attributes:d})).$convert())},C.$$arity=3),t.defn(K,"$parse_quoted_text_attributes",N=function(e){var a,$,l=this,d=o,f=o,p=o,h=o,g=o,v=o;return u(e["$include?"]("{"))&&(e=l.$sub_attributes(e)),u(e["$include?"](","))&&(e=e.$slice(0,e.$index(","))),u((e=e.$strip())["$empty?"]())?c([],{}):u(u(a=e["$start_with?"](".","#"))?t.const_get_relative(X,"Compliance").$shorthand_property_syntax():a)?(d=e.$split("#",2),u(r(d.$size(),1))?($=d["$[]"](1).$split("."),a=t.to_ary($),f=null==a[0]?o:a[0],p=s.call(a,1),$):(f=o,p=[]),h=function(){return u(d["$[]"](0)["$empty?"]())?[]:d["$[]"](0).$split(".")}(),u(r(h.$size(),1))&&h.$shift(),u(r(p.$size(),0))&&h.$concat(p),g=c([],{}),u(f)&&(v=["id",f],_(g,"[]=",t.to_a(v)),v[i(v.length,1)]),u(h["$empty?"]())||(v=["role",n(h," ")],_(g,"[]=",t.to_a(v)),v[i(v.length,1)]),g):c(["role"],{role:e})},N.$$arity=1),t.defn(K,"$parse_attributes",z=function(e,n,r){var i,a=this,$=o,s=o;return null==a.document&&(a.document=o),null==n&&(n=["role"]),null==r&&(r=c([],{})),u(e)?u(e["$empty?"]())?c([],{}):(u(u(i=r["$[]"]("sub_input"))?e["$include?"]("{"):i)&&(e=a.document.$sub_attributes(e)),u(r["$[]"]("unescape_input"))&&(e=a.$unescape_bracketed_text(e)),$=function(){return u(r.$fetch("sub_result",!0))?a:o}(),u(s=r["$[]"]("into"))?t.const_get_relative(X,"AttributeList").$new(e,$).$parse_into(s,n):t.const_get_relative(X,"AttributeList").$new(e,$).$parse(n)):o},z.$$arity=-2),t.defn(K,"$unescape_bracketed_text",P=function(e){return u(e["$empty?"]())||u((e=e.$strip().$tr(t.const_get_relative(X,"EOL")," "))["$include?"](t.const_get_relative(X,"R_SB")))&&(e=e.$gsub(t.const_get_relative(X,"ESC_R_SB"),t.const_get_relative(X,"R_SB"))),e},P.$$arity=1),t.defn(K,"$normalize_string",L=function(e,n){var r;return null==n&&(n=!1),u(e["$empty?"]())||(e=e.$strip().$tr(t.const_get_relative(X,"EOL")," "),u(u(r=n)?e["$include?"](t.const_get_relative(X,"R_SB")):r)&&(e=e.$gsub(t.const_get_relative(X,"ESC_R_SB"),t.const_get_relative(X,"R_SB")))),e},L.$$arity=-2),t.defn(K,"$unescape_brackets",D=function(e){return u(e["$empty?"]())||u(e["$include?"](t.const_get_relative(X,"RS")))&&(e=e.$gsub(t.const_get_relative(X,"ESC_R_SB"),t.const_get_relative(X,"R_SB"))),e},D.$$arity=1),t.defn(K,"$split_simple_csv",B=function(t){var e,n,r=this,i=o,a=o,$=o;return u(t["$empty?"]())?i=[]:u(t["$include?"]('"'))?(i=[],a=[],$=!1,_(t,"each_char",[],(e=function(t){var n=(e.$$s||this,o);return null==t&&(t=o),function(){return n=t,","["$==="](n)?u($)?a["$<<"](t):(i["$<<"](a.$join().$strip()),a=[]):'"'["$==="](n)?$=$["$!"]():a["$<<"](t)}()},e.$$s=r,e.$$arity=1,e)),i["$<<"](a.$join().$strip())):i=_(t.$split(","),"map",[],(n=function(t){n.$$s||this;return null==t&&(t=o),t.$strip()},n.$$s=r,n.$$arity=1,n)),i},B.$$arity=1),t.defn(K,"$resolve_subs",j=function(a,$,s,l){var c,d=this,p=o,h=o,g=o,v=o;return null==$&&($="block"),null==s&&(s=o),null==l&&(l=o),u(a["$nil_or_empty?"]())?[]:(p=o,u(a["$include?"](" "))&&(a=a.$delete(" ")),h=t.const_get_relative(X,"SubModifierSniffRx")["$match?"](a),_(a.$split(","),"each",[],(c=function(n){var r,a,l=(c.$$s||this,o),_=o,d=o,g=o,v=o,m=o;return null==n&&(n=o),l=o,u(h)&&((_=n.$chr())["$=="]("+")?(l="append",n=n["$[]"](f(1,-1,!1))):_["$=="]("-")?(l="remove",n=n["$[]"](f(1,-1,!1))):u(n["$end_with?"]("+"))&&(l="prepend",n=n.$chop())),n=n.$to_sym(),u((r=$["$=="]("inline"))?u(a=n["$=="]("verbatim"))?a:n["$=="]("v"):$["$=="]("inline"))?d=t.const_get_relative(X,"BASIC_SUBS"):u(t.const_get_relative(X,"SUB_GROUPS")["$key?"](n))?d=t.const_get_relative(X,"SUB_GROUPS")["$[]"](n):u(u(r=(a=$["$=="]("inline"))?n.$length()["$=="](1):$["$=="]("inline"))?t.const_get_relative(X,"SUB_HINTS")["$key?"](n):r)?(g=t.const_get_relative(X,"SUB_HINTS")["$[]"](n),d=u(v=t.const_get_relative(X,"SUB_GROUPS")["$[]"](g))?v:[g]):d=[n],u(l)?(p=u(r=p)?r:function(){return u(s)?s.$dup():[]}(),function(){return m=l,"append"["$==="](m)?p=e(p,d):"prepend"["$==="](m)?p=e(d,p):"remove"["$==="](m)?p=i(p,d):o}()):(p=u(r=p)?r:[],p=e(p,d))},c.$$s=d,c.$$arity=1,c)),u(p)?(g=p["$&"](t.const_get_relative(X,"SUB_OPTIONS")["$[]"]($)),u(i(p,g)["$empty?"]())||(v=i(p,g),d.$warn("asciidoctor: WARNING: invalid substitution type"+function(){return u(r(v.$size(),1))?"s":""}()+function(){return u(l)?" for ":o}()+l+": "+n(v,", "))),g):[])},j.$$arity=-2),t.defn(K,"$resolve_block_subs",U=function(t,e,n){var r=this;return r.$resolve_subs(t,"block",e,n)},U.$$arity=3),t.defn(K,"$resolve_pass_subs",F=function(t){var e=this;return e.$resolve_subs(t,"inline",o,"passthrough macro")},F.$$arity=1),t.defn(K,"$highlight_source",H=function(r,a,$){var s,l,f,p,h,g,v=this,m=o,y=o,b=o,k=o,w=o,x=o,E=o,O=o,A=o,S=o,R=o,M=o,T=o,I=o;return null==v.document&&(v.document=o),null==v.passthroughs&&(v.passthroughs=o),null==$&&($=o),m=$=u(s=$)?s:v.document.$attributes()["$[]"]("source-highlighter"),"coderay"["$==="](m)?u(u(s=y=(l=t.const_get_qualified("::","CodeRay","skip_raise"))?"constant":o)?s:v.document.$attributes()["$[]"]("coderay-unavailable"))||(u(t.const_get_relative(X,"Helpers").$require_library("coderay",!0,"warn")["$nil?"]())?v.document.$set_attr("coderay-unavailable"):y=!0):"pygments"["$==="](m)?u(u(s=y=(f=t.const_get_qualified("::","Pygments","skip_raise"))?"constant":o)?s:v.document.$attributes()["$[]"]("pygments-unavailable"))||(u(t.const_get_relative(X,"Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())?v.document.$set_attr("pygments-unavailable"):y=!0):y=!1,u(y)?(b=0,k=!1,u(a)?(w=c([],{}),x=-1,E=function(){return u(v["$attr?"]("line-comment"))?new RegExp("(?:"+t.const_get_qualified("::","Regexp").$escape(v.$attr("line-comment"))+" )?"+t.const_get_relative(X,"CalloutExtractRxt")):t.const_get_relative(X,"CalloutExtractRx")}(),r=n(_(r.$split(t.const_get_relative(X,"EOL"),-1),"map",[],(p=function(n){var r,a=p.$$s||this;return null==n&&(n=o),b=e(b,1),_(n,"gsub",[E],(r=function(){var e,n=(r.$$s||this,o),a=o;return null==d["~"]&&(d["~"]=o),n=d["~"],n["$[]"](1)["$=="](t.const_get_relative(X,"RS"))?n["$[]"](0).$sub(t.const_get_relative(X,"RS"),""):((u(e=w["$[]"](b))?e:(a=[b,[]],_(w,"[]=",t.to_a(a)),a[i(a.length,1)]))["$<<"](n["$[]"](3)),x=b,o)},r.$$s=a,r.$$arity=0,r))},p.$$s=v,p.$$arity=1,p)),t.const_get_relative(X,"EOL")),k=x["$=="](b),u(w["$empty?"]())&&(w=o)):w=o,O=o,A=o,m=$,"coderay"["$==="](m)?(u(O=function(){return u(v["$attr?"]("linenums"))?(u(s=v.document.$attributes()["$[]"]("coderay-linenums-mode"))?s:"table").$to_sym():o}())&&u(v["$attr?"]("highlight",o,!1))&&(A=v.$resolve_highlight_lines(v.$attr("highlight",o,!1))),S=t.const_get_qualified(t.const_get_qualified("::","CodeRay"),"Duo")["$[]"](v.$attr("language","text",!1).$to_sym(),"html",c(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(u(s=v.document.$attributes()["$[]"]("coderay-css"))?s:"class").$to_sym(),line_numbers:O,line_number_anchors:!1,highlight_lines:A,bold_every:!1})).$highlight(r)):"pygments"["$==="](m)&&(R=u(s=t.const_get_qualified(t.const_get_qualified("::","Pygments"),"Lexer").$find_by_alias(v.$attr("language","text",!1)))?s:t.const_get_qualified(t.const_get_qualified("::","Pygments"),"Lexer").$find_by_mimetype("text/plain"),M=c(["cssclass","classprefix","nobackground","stripnl"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0,stripnl:!1}),R.$name()["$=="]("PHP")&&(T=["startinline",v["$option?"]("mixed")["$!"]()],_(M,"[]=",t.to_a(T)),T[i(T.length,1)]),(u(s=v.document.$attributes()["$[]"]("pygments-css"))?s:"class")["$=="]("class")||(T=["noclasses",!0],_(M,"[]=",t.to_a(T)),T[i(T.length,1)],T=["style",u(s=v.document.$attributes()["$[]"]("pygments-style"))?s:t.const_get_qualified(t.const_get_relative(X,"Stylesheets"),"DEFAULT_PYGMENTS_STYLE")],_(M,"[]=",t.to_a(T)),T[i(T.length,1)]),u(v["$attr?"]("highlight",o,!1))&&(u((A=v.$resolve_highlight_lines(v.$attr("highlight",o,!1)))["$empty?"]())||(T=["hl_lines",n(A," ")],_(M,"[]=",t.to_a(T)),T[i(T.length,1)])),u(u(s=v["$attr?"]("linenums"))?(T=["linenos",u(h=v.document.$attributes()["$[]"]("pygments-linenums-mode"))?h:"table"],_(M,"[]=",t.to_a(T)),T[i(T.length,1)])["$=="]("table"):s)?(O="table",S=R.$highlight(r,c(["options"],{options:M})).$sub(t.const_get_relative(X,"PygmentsWrapperDivRx"),"\\1").$gsub(t.const_get_relative(X,"PygmentsWrapperPreRx"),"\\1")):u(t.const_get_relative(X,"PygmentsWrapperPreRx")["$=~"](S=R.$highlight(r,c(["options"],{options:M}))))&&(S=(s=d["~"])===o?o:s["$[]"](1))),u(v.passthroughs["$empty?"]())||(S=S.$gsub(t.const_get_relative(X,"HighlightedPassSlotRx"),""+t.const_get_relative(X,"PASS_START")+"\\1"+t.const_get_relative(X,"PASS_END"))),u(u(s=a)?w:s)?(b=0,I=O["$!="]("table"),n(_(S.$split(t.const_get_relative(X,"EOL"),-1),"map",[],(g=function(r){var i,a,s,l=g.$$s||this,d=o,f=o,p=o,h=o;if(null==l.document&&(l.document=o),null==r&&(r=o),u(I));else{if(!u(r["$include?"]('<td class="code">')))return r;I=!0}return b=e(b,1),u(d=w.$delete(b))?(f=o,u(u(i=u(a=k)?w["$empty?"]():a)?O["$=="]("table"):i)&&(u((i=$["$=="]("coderay"))?p=r.$index("</pre>"):$["$=="]("coderay"))?(i=[r.$slice(0,p),r.$slice(p,r.$length())],r=i[0],f=i[1],i):u((i=$["$=="]("pygments"))?p=r["$start_with?"]("</td>"):$["$=="]("pygments"))&&(i=["",r],r=i[0],f=i[1],i)),d.$size()["$=="](1)?""+r+t.const_get_relative(X,"Inline").$new(l,"callout",d["$[]"](0),c(["id"],{id:l.document.$callouts().$read_next_id()})).$convert()+f:(h=n(_(d,"map",[],(s=function(e){var n=s.$$s||this;return null==n.document&&(n.document=o),null==e&&(e=o),t.const_get_relative(X,"Inline").$new(n,"callout",e,c(["id"],{id:n.document.$callouts().$read_next_id()})).$convert()},s.$$s=l,s.$$arity=1,s))," "),""+r+h+f)):r},g.$$s=v,g.$$arity=1,g)),t.const_get_relative(X,"EOL"))):S):v.$sub_source(r,a)},H.$$arity=-3),t.defn(K,"$resolve_highlight_lines",G=function(e){var n,r=this,a=o;return a=[],_(function(){return u(e["$include?"](" "))?e.$delete(" "):e}().$split(t.const_get_relative(X,"DataDelimiterRx")),"map",[],(n=function(e){var r,$,s=(n.$$s||this,o),l=o,c=o,_=o;return null==e&&(e=o),s=!1,u(e["$start_with?"]("!"))&&(e=e["$[]"](f(1,-1,!1)),s=!0),u(e["$include?"]("-"))?($=e.$split("-",2),r=t.to_ary($),l=null==r[0]?o:r[0],c=null==r[1]?o:r[1],$,_=t.Range.$new(l.$to_i(),c.$to_i(),!1).$to_a(),u(s)?a=i(a,_):a.$concat(_)):u(s)?a.$delete(e.$to_i()):a["$<<"](e.$to_i())},n.$$s=r,n.$$arity=1,n)),a.$sort().$uniq()},G.$$arity=1),t.defn(K,"$sub_source",Y=function(t,e){var n,r,i=this;return u(u(n=u(r=t["$include?"]("<"))?r:t["$include?"]("&"))?n:t["$include?"](">"))?u(e)?i.$sub_callouts(i.$sub_specialchars(t)):i.$sub_specialchars(t):u(e)?i.$sub_callouts(t):t},Y.$$arity=2),t.defn(K,"$lock_in_subs",W=function(){var e,n,r,a,$,s=this,l=o,c=o,d=o,f=o,p=o;if(null==s.default_subs&&(s.default_subs=o),null==s.content_model&&(s.content_model=o),null==s.context&&(s.context=o),null==s.subs&&(s.subs=o),null==s.attributes&&(s.attributes=o),null==s.style&&(s.style=o),null==s.document&&(s.document=o),u(l=s.default_subs));else if(c=s.content_model,"simple"["$==="](c))l=t.const_get_relative(X,"NORMAL_SUBS");else if("verbatim"["$==="](c))l=u(u(e=s.context["$=="]("listing"))?e:(n=s.context["$=="]("literal"))?s["$option?"]("listparagraph")["$!"]():s.context["$=="]("literal"))?t.const_get_relative(X,"VERBATIM_SUBS"):s.context["$=="]("verse")?t.const_get_relative(X,"NORMAL_SUBS"):t.const_get_relative(X,"BASIC_SUBS");else{if(!"raw"["$==="](c))return s.subs;l=function(){return s.context["$=="]("stem")?t.const_get_relative(X,"BASIC_SUBS"):t.const_get_relative(X,"NONE_SUBS")}()}return s.subs=function(){return u(d=s.attributes["$[]"]("subs"))?s.$resolve_block_subs(d,l,s.context):l.$dup()}(),u(u(e=u(n=u(r=u(a=($=s.context["$=="]("listing"))?s.style["$=="]("source"):s.context["$=="]("listing"))?s.attributes["$key?"]("language"):a)?s.document["$basebackend?"]("html"):r)?t.const_get_relative(X,"SUB_HIGHLIGHT")["$include?"](s.document.$attributes()["$[]"]("source-highlighter")):n)?f=s.subs.$index("specialcharacters"):e)&&(p=[f,"highlight"],_(s.subs,"[]=",t.to_a(p)),p[i(p.length,1)]),s.subs},W.$$arity=0)}(v[0],v)}($[0],$)},Opal.modules["asciidoctor/abstract_node"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var i=(t.top,[]),a=t.nil,$=(t.breaker,t.slice,t.module),o=t.klass,s=t.truthy,l=t.hash2,c=t.send,u=t.range;return t.add_stubs(["$include","$attr_reader","$attr_accessor","$==","$document","$to_s","$key?","$dup","$[]","$raise","$attributes","$nil?","$[]=","$-","$delete","$update","$converter","$nil_or_empty?","$include?","$split","$empty?","$*","$attr?","$extname","$image_uri","$attr","$normalize_web_path","$<","$safe","$uriish?","$generate_data_uri_from_uri","$generate_data_uri","$normalize_system_path","$readable?","$warn","$encode64","$binread","$require_library","$!","$open","$content_type","$read","$web_path","$new","$open_uri","$normalize_lines_from_string","$fetch","$read_asset","$===","$!=","$is_root?","$join","$base_dir","$system_path"]),function(i,_){var d,f=d=$(i,"Asciidoctor"),p=(f.$$proto,[f].concat(_));!function(i,$,_){function d(){}var f,p,h,g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P,L,D,B,j,U,F,H,G=d=o(i,$,"AbstractNode",d),Y=G.$$proto,W=[G].concat(_);return Y.attributes=Y.parent=Y.document=Y.path_resolver=a,G.$include(t.const_get_relative(W,"Substitutors")),G.$attr_reader("parent"),G.$attr_reader("document"),G.$attr_reader("context"),G.$attr_reader("node_name"),G.$attr_accessor("id"),G.$attr_reader("attributes"),t.defn(G,"$initialize",f=function(t,e,n){var r,i=this;return null==n&&(n=l([],{})),e["$=="]("document")?(r=[i,a],i.document=r[0],i.parent=r[1],r):s(t)?(r=[t.$document(),t],i.document=r[0],i.parent=r[1],r):i.document=i.parent=a,i.node_name=(i.context=e).$to_s(),i.attributes=function(){return s(n["$key?"]("attributes"))?n["$[]"]("attributes").$dup():l([],{})}(),i.passthroughs=l([],{})},f.$$arity=-3),t.defn(G,"$parent=",p=function(t){var e,n=this;return e=[t,t.$document()],n.parent=e[0],n.document=e[1],e,a},p.$$arity=1),t.defn(G,"$inline?",h=function(){var e=this;return e.$raise(t.const_get_qualified("::","NotImplementedError"))},h.$$arity=0),t.defn(G,"$block?",g=function(){var e=this;return e.$raise(t.const_get_qualified("::","NotImplementedError"))},g.$$arity=0),t.defn(G,"$attr",v=function(t,e,n){var r,i,$=this;return null==e&&(e=a),null==n&&(n=!0),t=t.$to_s(),s(r=$.attributes["$[]"](t))?r:function(){return s(s(i=n)?$.parent:i)&&s(i=$.document.$attributes()["$[]"](t))?i:e}()},v.$$arity=-2),t.defn(G,"$attr?",m=function(t,e,n){var r,i,$,o=this;return null==e&&(e=a),null==n&&(n=!0),t=t.$to_s(),s(e["$nil?"]())?s(r=o.attributes["$key?"](t))?r:s(i=s($=n)?o.parent:$)?o.document.$attributes()["$key?"](t):i:e["$=="](s(r=o.attributes["$[]"](t))?r:function(){return s(s(i=n)?o.parent:i)?o.document.$attributes()["$[]"](t):a}())},m.$$arity=-2),t.defn(G,"$set_attr",y=function(n,r,i){var $,o=this,l=a;return null==r&&(r=""),null==i&&(i=!0),!s(($=i["$=="](!1))?o.attributes["$key?"](n):i["$=="](!1))&&(l=[n,r],c(o.attributes,"[]=",t.to_a(l)),l[e(l.length,1)],!0)},y.$$arity=-2),t.defn(G,"$remove_attr",b=function(t){var e=this;return e.attributes.$delete(t)},b.$$arity=1),t.defn(G,"$set_option",k=function(n){var r=this,i=a;return s(r.attributes["$key?"]("options"))?(i=["options",""+r.attributes["$[]"]("options")+","+n],c(r.attributes,"[]=",t.to_a(i)),i[e(i.length,1)]):(i=["options",n],c(r.attributes,"[]=",t.to_a(i)),i[e(i.length,1)]),i=[""+n+"-option",""],c(r.attributes,"[]=",t.to_a(i)),i[e(i.length,1)]},k.$$arity=1),t.defn(G,"$option?",w=function(t){var e=this;return e.attributes["$key?"](""+t+"-option")},w.$$arity=1),t.defn(G,"$update_attributes",x=function(t){var e=this;return e.attributes.$update(t),a},x.$$arity=1),t.defn(G,"$converter",E=function(){var t=this;return t.document.$converter()},E.$$arity=0),t.defn(G,"$role?",O=function(t){var e,n=this;return null==t&&(t=a),s(t)?t["$=="](s(e=n.attributes["$[]"]("role"))?e:n.document.$attributes()["$[]"]("role")):s(e=n.attributes["$key?"]("role"))?e:n.document.$attributes()["$key?"]("role")},O.$$arity=-1),t.defn(G,"$role",A=function(){var t,e=this;return s(t=e.attributes["$[]"]("role"))?t:e.document.$attributes()["$[]"]("role")},A.$$arity=0),t.defn(G,"$has_role?",S=function(t){var e,n=this,r=a;return!s((r=s(e=n.attributes["$[]"]("role"))?e:n.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())&&(" "+r+" ")["$include?"](" "+t+" ")},S.$$arity=1),t.defn(G,"$roles",R=function(){var t,e=this,n=a;return s((n=s(t=e.attributes["$[]"]("role"))?t:e.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())?[]:n.$split()},R.$$arity=0),t.defn(G,"$add_role",M=function(n){var r=this,i=a,$=a;return s((i=r.attributes["$[]"]("role"))["$nil_or_empty?"]())?($=["role",n],c(r.attributes,"[]=",t.to_a($)),$[e($.length,1)],!0):!s((" "+i+" ")["$include?"](" "+n+" "))&&($=["role",""+i+" "+n],c(r.attributes,"[]=",t.to_a($)),$[e($.length,1)],!0)},M.$$arity=1),t.defn(G,"$remove_role",T=function(r){var i=this,$=a,o=a;return!s(($=i.attributes["$[]"]("role"))["$nil_or_empty?"]())&&(!!s(($=$.$split()).$delete(r))&&(s($["$empty?"]())?i.attributes.$delete("role"):(o=["role",n($," ")],c(i.attributes,"[]=",t.to_a(o)),o[e(o.length,1)]),!0))},T.$$arity=1),t.defn(G,"$reftext?",I=function(){var t,e=this;return s(t=e.attributes["$key?"]("reftext"))?t:e.document.$attributes()["$key?"]("reftext")},I.$$arity=0),t.defn(G,"$reftext",q=function(){var t,e=this;return s(t=e.attributes["$[]"]("reftext"))?t:e.document.$attributes()["$[]"]("reftext")},q.$$arity=0),t.defn(G,"$icon_uri",C=function(e){var n=this,r=a;return s(n["$attr?"]("icon"))?s(t.const_get_qualified("::","File").$extname(r=n.$image_uri(n.$attr("icon"),"iconsdir"))["$empty?"]())?""+r+"."+n.document.$attr("icontype","png"):r:n.$image_uri(""+e+"."+n.document.$attr("icontype","png"),"iconsdir")},C.$$arity=1),t.defn(G,"$media_uri",N=function(t,e){var n=this;return null==e&&(e="imagesdir"),n.$normalize_web_path(t,function(){return s(e)?n.document.$attr(e):a}())},N.$$arity=-2),t.defn(G,"$image_uri",z=function(e,n){var i,$,o,l,c=this,u=a,_=a;return null==n&&(n="imagesdir"),s(s(i=r((u=c.document).$safe(),t.const_get_qualified(t.const_get_relative(W,"SafeMode"),"SECURE")))?u["$attr?"]("data-uri"):i)?s(s(i=t.const_get_relative(W,"Helpers")["$uriish?"](e))?i:s($=s(o=s(l=n)?_=u.$attr(n):l)?t.const_get_relative(W,"Helpers")["$uriish?"](_):o)?e=c.$normalize_web_path(e,_,!1):$)?s(u["$attr?"]("allow-uri-read"))?c.$generate_data_uri_from_uri(e,u["$attr?"]("cache-uri")):e:c.$generate_data_uri(e,n):s(n)?c.$normalize_web_path(e,u.$attr(n)):c.$normalize_web_path(e)},z.$$arity=-2),t.defn(G,"$generate_data_uri",P=function(e,n){var r=this,i=a,$=a,o=a;return null==n&&(n=a),i=t.const_get_qualified("::","File").$extname(e),$=function(){return i["$=="](".svg")?"image/svg+xml":"image/"+i["$[]"](u(1,-1,!1))}(),o=s(n)?r.$normalize_system_path(e,r.document.$attr(n),a,l(["target_name"],{target_name:"image"})):r.$normalize_system_path(e),s(t.const_get_qualified("::","File")["$readable?"](o))?"data:"+$+";base64,"+t.const_get_qualified("::","Base64").$encode64(t.const_get_qualified("::","IO").$binread(o)).$delete(t.const_get_relative(W,"EOL")):(r.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+o),"data:"+$+";base64,")},P.$$arity=-2),t.defn(G,"$generate_data_uri_from_uri",L=function(e,n){var r,i=this,$=a,o=a;null==n&&(n=!1),s(n)?t.const_get_relative(W,"Helpers").$require_library("open-uri/cached","open-uri-cached"):s(t.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())&&t.const_get_qualified("::","OpenURI");try{return $=a,o=c(i,"open",[e,"rb"],(r=function(t){r.$$s||this;return null==t&&(t=a),$=t.$content_type(),t.$read()},r.$$s=i,r.$$arity=1,r)),"data:"+$+";base64,"+t.const_get_qualified("::","Base64").$encode64(o).$delete(t.const_get_relative(W,"EOL"))}catch(l){if(!t.rescue(l,[t.const_get_relative(W,"StandardError")]))throw l;try{return i.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+e),e}finally{t.pop_exception()}}},L.$$arity=-2),t.defn(G,"$read_contents",D=function(e,r){var i,$,o,u,_=this,d=a,f=a,p=a;if(null==r&&(r=l([],{})),d=_.document,s(s(i=t.const_get_relative(W,"Helpers")["$uriish?"](e))?i:s($=s(o=f=r["$[]"]("start"))?t.const_get_relative(W,"Helpers")["$uriish?"](f):o)?e=(_.path_resolver=s(o=_.path_resolver)?o:t.const_get_relative(W,"PathResolver").$new()).$web_path(e,f):$))if(s(d["$attr?"]("allow-uri-read"))){s(d["$attr?"]("cache-uri"))&&t.const_get_relative(W,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{p=c(t.const_get_qualified("::","OpenURI"),"open_uri",[e],(u=function(t){u.$$s||this;return null==t&&(t=a),t.$read()},u.$$s=_,u.$$arity=1,u)),s(r["$[]"]("normalize"))&&(p=n(t.const_get_relative(W,"Helpers").$normalize_lines_from_string(p),t.const_get_relative(W,"EOL")))}catch(h){if(!t.rescue(h,[t.const_get_relative(W,"StandardError")]))throw h;try{s(r.$fetch("warn_on_failure",!0))&&_.$warn("asciidoctor: WARNING: could not retrieve contents of "+(s(i=r["$[]"]("label"))?i:"asset")+" at URI: "+e),p=a}finally{t.pop_exception()}}}else s(r.$fetch("warn_on_failure",!0))&&_.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(s(i=r["$[]"]("label"))?i:"asset")+" at URI: "+e+" (allow-uri-read attribute not enabled)"),p=a;else e=_.$normalize_system_path(e,r["$[]"]("start"),a,l(["target_name"],{target_name:s(i=r["$[]"]("label"))?i:"asset"})),
p=_.$read_asset(e,l(["normalize","warn_on_failure","label"],{normalize:r["$[]"]("normalize"),warn_on_failure:r.$fetch("warn_on_failure",!0),label:r["$[]"]("label")}));return p},D.$$arity=-2),t.defn(G,"$read_asset",B=function(e,r){var i,$=this;return null==r&&(r=l([],{})),s(t.const_get_qualified("::","Hash")["$==="](r))||(r=l(["warn_on_failure"],{warn_on_failure:r["$!="](!1)})),s(t.const_get_qualified("::","File")["$readable?"](e))?s(r["$[]"]("normalize"))?n(t.const_get_relative(W,"Helpers").$normalize_lines_from_string(t.const_get_qualified("::","IO").$read(e)),t.const_get_relative(W,"EOL")):t.const_get_qualified("::","IO").$read(e):s(r["$[]"]("warn_on_failure"))?$.$warn("asciidoctor: WARNING: "+(s(i=$.$attr("docfile"))?i:"<stdin>")+": "+(s(i=r["$[]"]("label"))?i:"file")+" does not exist or cannot be read: "+e):a},B.$$arity=-2),t.defn(G,"$normalize_web_path",j=function(e,n,r){var i,$=this;return null==n&&(n=a),null==r&&(r=!0),s(s(i=r)?t.const_get_relative(W,"Helpers")["$uriish?"](e):i)?e:($.path_resolver=s(i=$.path_resolver)?i:t.const_get_relative(W,"PathResolver").$new()).$web_path(e,n)},j.$$arity=-2),t.defn(G,"$normalize_system_path",U=function(e,n,i,$){var o,c=this,u=a,_=a;return null==n&&(n=a),null==i&&(i=a),null==$&&($=l([],{})),u=c.path_resolver=s(o=c.path_resolver)?o:t.const_get_relative(W,"PathResolver").$new(),s(r((_=c.document).$safe(),t.const_get_qualified(t.const_get_relative(W,"SafeMode"),"SAFE")))?s(n)?s(u["$is_root?"](n))||(n=t.const_get_qualified("::","File").$join(_.$base_dir(),n)):n=_.$base_dir():(s(n)||(n=_.$base_dir()),s(i)||(i=_.$base_dir())),u.$system_path(e,n,i,$)},U.$$arity=-2),t.defn(G,"$normalize_asset_path",F=function(t,e,n){var r=this;return null==e&&(e="path"),null==n&&(n=!0),r.$normalize_system_path(t,r.document.$base_dir(),a,l(["target_name","recover"],{target_name:e,recover:n}))},F.$$arity=-2),t.defn(G,"$is_uri?",H=function(e){return t.const_get_relative(W,"Helpers")["$uriish?"](e)},H.$$arity=1),a&&"is_uri?"}(p[0],null,p)}(i[0],i)},Opal.modules["asciidoctor/abstract_block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var a=(t.top,[]),$=t.nil,o=(t.breaker,t.slice,t.module),s=t.klass,l=t.send,c=t.truthy,u=t.hash2;return t.add_stubs(["$attr_accessor","$attr_reader","$==","$!=","$level","$to_s","$playback_attributes","$convert","$converter","$*","$map","$file","$lineno","$include?","$!","$nil_or_empty?","$apply_title_subs","$title","$empty?","$<<","$select","$context","$>","$[]","$has_role?","$header?","$concat","$find_by","$to_proc","$each","$flatten","$blocks","$parent","$+","$find_index","$next_adjacent_block","$delete","$title?","$attributes","$increment_and_store_counter","$index=","$-","$numbered","$sectname","$counter","$number=","$attr","$number","$caption=","$enumerate_section","$reindex_sections"]),function(a,_){var d,f=d=o(a,"Asciidoctor"),p=(f.$$proto,[f].concat(_));!function(a,o,_){function d(){}var f,p,h,g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P,L=d=s(a,o,"AbstractBlock",d),D=L.$$proto,B=[L].concat(_);return D.document=D.attributes=D.blocks=D.source_location=D.subs=D.title=D.title_converted=D.converted_title=D.caption=D.next_section_index=D.context=D.style=D.id=D.header=D.next_section_number=$,L.$attr_accessor("content_model"),L.$attr_reader("subs"),L.$attr_reader("blocks"),L.$attr_accessor("level"),L.$attr_accessor("style"),L.$attr_accessor("caption"),L.$attr_accessor("number"),L.$attr_accessor("source_location"),t.defn(L,"$initialize",f=function(e,n,r){var i,a=this,o=f.$$p,s=$,_=$,d=$;for(null==r&&(r=u([],{})),o&&(f.$$p=null),_=0,d=arguments.length,s=new Array(d);_<d;_++)s[_]=arguments[_];return l(a,t.find_super_dispatcher(a,"initialize",f,!1),s,o),a.content_model="compound",a.blocks=[],a.subs=[],a.id=a.title=a.title_converted=a.caption=a.number=a.style=a.default_subs=a.source_location=$,n["$=="]("document")?a.level=0:c(c(i=e)?n["$!="]("section"):i)?a.level=e.$level():a.level=$,a.next_section_index=0,a.next_section_number=1},f.$$arity=-3),t.defn(L,"$block?",p=function(){return!0},p.$$arity=0),t.defn(L,"$inline?",h=function(){return!1},h.$$arity=0),t.defn(L,"$context=",g=function(t){var e=this;return e.context=t,e.node_name=t.$to_s()},g.$$arity=1),t.defn(L,"$convert",v=function(){var t=this;return t.document.$playback_attributes(t.attributes),t.$converter().$convert(t)},v.$$arity=0),t.alias(L,"render","convert"),t.defn(L,"$content",m=function(){var n,r=this;return e(l(r.blocks,"map",[],(n=function(t){n.$$s||this;return null==t&&(t=$),t.$convert()},n.$$s=r,n.$$arity=1,n)),t.const_get_relative(B,"EOL"))},m.$$arity=0),t.defn(L,"$file",y=function(){var t=this;return c(t.source_location)?t.source_location.$file():$},y.$$arity=0),t.defn(L,"$lineno",b=function(){var t=this;return c(t.source_location)?t.source_location.$lineno():$},b.$$arity=0),t.defn(L,"$sub?",k=function(t){var e=this;return e.subs["$include?"](t)},k.$$arity=1),t.defn(L,"$title?",w=function(){var t=this;return t.title["$nil_or_empty?"]()["$!"]()},w.$$arity=0),t.defn(L,"$title",x=function(){var t,e,n=this;return c(n.title_converted)?n.converted_title:n.converted_title=c(t=c(e=n.title_converted=!0)?n.title:e)?n.$apply_title_subs(n.title):t},x.$$arity=0),t.defn(L,"$title=",E=function(t){var e,n=this;return e=[t,$],n.title=e[0],n.title_converted=e[1],e},E.$$arity=1),t.defn(L,"$captioned_title",O=function(){var t=this;return""+t.caption+t.$title()},O.$$arity=0),t.defn(L,"$blocks?",A=function(){var t=this;return t.blocks["$empty?"]()["$!"]()},A.$$arity=0),t.defn(L,"$<<",S=function(t){var e=this;return e.blocks["$<<"](t),e},S.$$arity=1),t.alias(L,"append","<<"),t.defn(L,"$sections",R=function(){var t,e=this;return l(e.blocks,"select",[],(t=function(e){t.$$s||this;return null==e&&(e=$),e.$context()["$=="]("section")},t.$$s=e,t.$$arity=1,t))},R.$$arity=0),t.defn(L,"$sections?",M=function(){var t=this;return n(t.next_section_index,0)},M.$$arity=0),t.defn(L,"$find_by",T=function(e){var n,r,i,a,o,s,_=this,d=T.$$p,f=d||$,p=$,h=$,g=$,v=$,m=$,y=$;if(null==e&&(e=u([],{})),d&&(T.$$p=null),p=[],c(c(n=c(r=c(i=c(a=h=(g=e["$[]"]("context"))["$!"]())?a:g["$=="](_.context))?c(a=(v=e["$[]"]("style"))["$!"]())?a:v["$=="](_.style):i)?c(i=(m=e["$[]"]("role"))["$!"]())?i:_["$has_role?"](m):r)?c(r=(y=e["$[]"]("id"))["$!"]())?r:y["$=="](_.id):n)){if(c(y))return f!==$?function(){return c(t.yield1(f,_))?[_]:p}():[_];f!==$?c(t.yield1(f,_))&&p["$<<"](_):p["$<<"](_)}return c(c(n=(r=_.context["$=="]("document"))?c(i=h)?i:g["$=="]("section"):_.context["$=="]("document"))?_["$header?"]():n)&&p.$concat(l(_.header,"find_by",[e],f.$to_proc())),g["$=="]("document")||(_.context["$=="]("dlist")?c(c(n=h)?n:g["$!="]("section"))&&l(_.blocks.$flatten(),"each",[],(o=function(t){o.$$s||this;return null==t&&(t=$),c(t)?p.$concat(l(t,"find_by",[e],f.$to_proc())):$},o.$$s=_,o.$$arity=1,o)):c(l(_.blocks,"each",[],(s=function(t){var n;s.$$s||this;return null==t&&(t=$),c((n=g["$=="]("section"))?t.$context()["$!="]("section"):g["$=="]("section"))?$:p.$concat(l(t,"find_by",[e],f.$to_proc()))},s.$$s=_,s.$$arity=1,s)))),p},T.$$arity=-1),t.alias(L,"query","find_by"),t.defn(L,"$next_adjacent_block",I=function(){var t=this,e=$,n=$;return t.context["$=="]("document")?$:c(e=(n=t.$parent()).$blocks()["$[]"](r(n.$blocks().$find_index(t),1)))?e:n.$next_adjacent_block()},I.$$arity=0),t.defn(L,"$remove_sub",q=function(t){var e=this;return e.subs.$delete(t),$},q.$$arity=1),t.defn(L,"$assign_caption",C=function(t,e){var n,r,i=this,a=$;return null==t&&(t=$),null==e&&(e=$),c(c(n=c(r=i.caption)?r:i["$title?"]()["$!"]())?n:i.caption=c(r=t)?r:i.document.$attributes()["$[]"]("caption"))||c(a=i.document.$attributes()["$[]"](""+(e=c(n=e)?n:i.context)+"-caption"))&&(i.caption=""+a+" "+(i.number=i.document.$increment_and_store_counter(""+e+"-number",i))+". "),$},C.$$arity=-1),t.defn(L,"$enumerate_section",N=function(e){var n=this,a=$,o=$,s=$;return n.next_section_index=r((a=[n.next_section_index],l(e,"index=",t.to_a(a)),a[i(a.length,1)]),1),c(e.$numbered())&&((o=e.$sectname())["$=="]("appendix")?(a=[n.document.$counter("appendix-number","A")],l(e,"number=",t.to_a(a)),a[i(a.length,1)],c((s=n.document.$attr("appendix-caption"))["$nil_or_empty?"]())?(a=[""+e.$number()+". "],l(e,"caption=",t.to_a(a)),a[i(a.length,1)]):(a=[""+s+" "+e.$number()+": "],l(e,"caption=",t.to_a(a)),a[i(a.length,1)])):o["$=="]("chapter")?(a=[n.document.$counter("chapter-number",1)],l(e,"number=",t.to_a(a)),a[i(a.length,1)]):n.next_section_number=r((a=[n.next_section_number],l(e,"number=",t.to_a(a)),a[i(a.length,1)]),1)),$},N.$$arity=1),t.defn(L,"$list_marker_keyword",z=function(e){var n,r=this;return null==e&&(e=$),t.const_get_relative(B,"ORDERED_LIST_KEYWORDS")["$[]"](c(n=e)?n:r.style)},z.$$arity=-1),t.defn(L,"$reindex_sections",P=function(){var t,e=this;return e.next_section_index=0,e.next_section_number=1,l(e.blocks,"each",[],(t=function(e){var n=t.$$s||this;return null==e&&(e=$),e.$context()["$=="]("section")?(n.$enumerate_section(e),e.$reindex_sections()):$},t.$$s=e,t.$$arity=1,t))},P.$$arity=0),$&&"reindex_sections"}(p[0],t.const_get_relative(p,"AbstractNode"),p)}(a[0],a)},Opal.modules["asciidoctor/attribute_list"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var i=(t.top,[]),a=t.nil,$=(t.breaker,t.slice,t.module),o=t.klass,s=t.hash2,l=t.truthy,c=t.send;return t.add_stubs(["$new","$[]","$update","$parse","$parse_attribute","$eos?","$skip_delimiter","$+","$rekey","$each_with_index","$[]=","$-","$skip_blank","$==","$peek","$parse_attribute_value","$get_byte","$scan_name","$!","$!=","$*","$scan_to_delimiter","$===","$include?","$delete","$each","$split","$empty?","$strip","$apply_normal_subs","$scan_to_quote","$gsub","$skip","$scan"]),function(i,u){var _,d=_=$(i,"Asciidoctor"),f=(d.$$proto,[d].concat(u));!function(i,$,u){function _(){}var d,f,p,h,g,v,m,y,b,k,w,x,E=_=o(i,$,"AttributeList",_),O=E.$$proto,A=[E].concat(u);return O.attributes=O.scanner=O.delimiter=O.block=O.delimiter_skip_pattern=O.delimiter_boundary_pattern=a,t.const_set(A[0],"BACKSLASH","\\"),t.const_set(A[0],"BoundaryRxs",s(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":/.*?(?=[ \t]*(,|$))/})),t.const_set(A[0],"EscapedQuotes",s(['"',"'"],{'"':'\\"',"'":"\\'"})),t.const_set(A[0],"NameRx",new RegExp(""+t.const_get_relative(A,"CG_WORD")+"["+t.const_get_relative(A,"CC_WORD")+"\\-.]*")),t.const_set(A[0],"BlankRx",/[ \t]+/),t.const_set(A[0],"SkipRxs",s(["blank",","],{blank:t.const_get_relative(A,"BlankRx"),",":/[ \t]*(,|$)/})),t.defn(E,"$initialize",d=function(e,n,r){var i=this;return null==n&&(n=a),null==r&&(r=","),i.scanner=t.const_get_qualified("::","StringScanner").$new(e),i.block=n,i.delimiter=r,i.delimiter_skip_pattern=t.const_get_relative(A,"SkipRxs")["$[]"](r),i.delimiter_boundary_pattern=t.const_get_relative(A,"BoundaryRxs")["$[]"](r),i.attributes=a},d.$$arity=-2),t.defn(E,"$parse_into",f=function(t,e){var n=this;return null==e&&(e=[]),t.$update(n.$parse(e))},f.$$arity=-2),t.defn(E,"$parse",p=function(t){var n=this,r=a;if(null==t&&(t=[]),l(n.attributes))return n.attributes;for(n.attributes=s([],{}),r=0;l(n.$parse_attribute(r,t))&&!l(n.scanner["$eos?"]());)n.$skip_delimiter(),r=e(r,1);return n.attributes},p.$$arity=-1),t.defn(E,"$rekey",h=function(e){var n=this;return t.const_get_relative(A,"AttributeList").$rekey(n.attributes,e)},h.$$arity=1),t.defs(E,"$rekey",g=function(r,i){var $,o=this;return c(i,"each_with_index",[],($=function(i,o){var s=($.$$s||this,a),u=a,_=a;return null==i&&(i=a),null==o&&(o=a),l(i)?(s=e(o,1),l(u=r["$[]"](s))?(_=[i,u],c(r,"[]=",t.to_a(_)),_[n(_.length,1)]):a):a},$.$$s=o,$.$$arity=2,$)),r},g.$$arity=2),t.defn(E,"$parse_attribute",v=function(i,$){var o,s,u,_=this,d=a,f=a,p=a,h=a,g=a,v=a,m=a,y=a,b=a,k=a;if(null==i&&(i=0),null==$&&($=[]),d=!1,_.$skip_blank(),(f=_.scanner.$peek(1))["$=="]('"'))p=_.$parse_attribute_value(_.scanner.$get_byte()),h=a;else if(f["$=="]("'"))p=_.$parse_attribute_value(_.scanner.$get_byte()),h=a,d=!0;else{if(p=_.$scan_name(),g=0,v=a,l(_.scanner["$eos?"]())){if(!l(p))return!1}else g=l(o=_.$skip_blank())?o:0,v=_.scanner.$get_byte();if(l(l(o=v["$!"]())?o:v["$=="](_.delimiter)))h=a;else if(l(l(o=v["$!="]("="))?o:p["$!"]()))p=""+p+r(" ",g)+v+_.$scan_to_delimiter(),h=a;else if(_.$skip_blank(),l(_.scanner.$peek(1)))if((v=_.scanner.$get_byte())["$=="]('"'))h=_.$parse_attribute_value(v);else if(v["$=="]("'"))h=_.$parse_attribute_value(v),d=!0;else if(v["$=="](_.delimiter))h=a;else if(h=""+v+_.$scan_to_delimiter(),h["$=="]("None"))return!0}return l(h)?(m=p,"options"["$==="](m)||"opts"["$==="](m)?(l(h["$include?"](","))?(l(h["$include?"](" "))&&(h=h.$delete(" ")),c(h.$split(","),"each",[],(s=function(e){var r=s.$$s||this,i=a;return null==r.attributes&&(r.attributes=a),null==e&&(e=a),l(e["$empty?"]())?a:(i=[""+e+"-option",""],c(r.attributes,"[]=",t.to_a(i)),i[n(i.length,1)])},s.$$s=_,s.$$arity=1,s))):(y=[""+(h=h.$strip())+"-option",""],c(_.attributes,"[]=",t.to_a(y)),y[n(y.length,1)]),y=["options",h],c(_.attributes,"[]=",t.to_a(y)),y[n(y.length,1)]):l(l(o=d)?_.block:o)?(m=p,"title"["$==="](m)?(y=[p,h],c(_.attributes,"[]=",t.to_a(y)),y[n(y.length,1)]):(y=[p,function(){return l(h["$empty?"]())?h:_.block.$apply_normal_subs(h)}()],c(_.attributes,"[]=",t.to_a(y)),y[n(y.length,1)])):(y=[p,h],c(_.attributes,"[]=",t.to_a(y)),y[n(y.length,1)])):(b=function(){return l(l(o=l(u=d)?_.block:u)?p["$empty?"]()["$!"]():o)?_.block.$apply_normal_subs(p):p}(),l(k=$["$[]"](i))&&(y=[k,b],c(_.attributes,"[]=",t.to_a(y)),y[n(y.length,1)]),y=[e(i,1),b],c(_.attributes,"[]=",t.to_a(y)),y[n(y.length,1)]),!0},v.$$arity=-1),t.defn(E,"$parse_attribute_value",m=function(e){var n=this,r=a;return n.scanner.$peek(1)["$=="](e)?(n.scanner.$get_byte(),""):l(r=n.$scan_to_quote(e))?(n.scanner.$get_byte(),l(r["$include?"](t.const_get_relative(A,"BACKSLASH")))?r.$gsub(t.const_get_relative(A,"EscapedQuotes")["$[]"](e),e):r):""+e+n.$scan_to_delimiter()},m.$$arity=1),t.defn(E,"$skip_blank",y=function(){var e=this;return e.scanner.$skip(t.const_get_relative(A,"BlankRx"))},y.$$arity=0),t.defn(E,"$skip_delimiter",b=function(){var t=this;return t.scanner.$skip(t.delimiter_skip_pattern)},b.$$arity=0),t.defn(E,"$scan_name",k=function(){var e=this;return e.scanner.$scan(t.const_get_relative(A,"NameRx"))},k.$$arity=0),t.defn(E,"$scan_to_delimiter",w=function(){var t=this;return t.scanner.$scan(t.delimiter_boundary_pattern)},w.$$arity=0),t.defn(E,"$scan_to_quote",x=function(e){var n=this;return n.scanner.$scan(t.const_get_relative(A,"BoundaryRxs")["$[]"](e))},x.$$arity=1),a&&"scan_to_quote"}(f[0],null,f)}(i[0],i)},Opal.modules["asciidoctor/block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var i=(t.top,[]),a=t.nil,$=(t.breaker,t.slice,t.module),o=t.klass,s=t.send,l=t.hash2,c=t.truthy;return t.add_stubs(["$default=","$-","$attr_accessor","$[]","$key?","$==","$===","$dup","$delete","$[]=","$lock_in_subs","$nil_or_empty?","$normalize_lines_from_string","$apply_subs","$*","$<","$size","$empty?","$rstrip","$shift","$pop","$warn","$to_s","$class","$object_id","$inspect"]),function(i,u){var _,d=_=$(i,"Asciidoctor"),f=(d.$$proto,[d].concat(u));!function(i,$,u){function _(){}var d,f,p,h,g=_=o(i,$,"Block",_),v=g.$$proto,m=[g].concat(u),y=a;return v.attributes=v.content_model=v.lines=v.subs=v.blocks=v.context=v.style=a,y=["simple"],s(t.const_set(m[0],"DEFAULT_CONTENT_MODEL",l(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",t.to_a(y)),y[e(y.length,1)],t.alias(g,"blockname","context"),g.$attr_accessor("lines"),t.defn(g,"$initialize",d=function(n,r,i){var $,o=this,u=d.$$p,_=a,f=a,p=a,h=a,g=a,v=a;for(null==i&&(i=l([],{})),u&&(d.$$p=null),g=0,v=arguments.length,h=new Array(v);g<v;g++)h[g]=arguments[g];return s(o,t.find_super_dispatcher(o,"initialize",d,!1),h,u),o.content_model=c($=i["$[]"]("content_model"))?$:t.const_get_relative(m,"DEFAULT_CONTENT_MODEL")["$[]"](r),c(i["$key?"]("subs"))?c(_=i["$[]"]("subs"))?(_["$=="]("default")?o.default_subs=i["$[]"]("default_subs"):c(t.const_get_qualified("::","Array")["$==="](_))?(o.default_subs=_.$dup(),o.attributes.$delete("subs")):(o.default_subs=a,f=["subs",""+_],s(o.attributes,"[]=",t.to_a(f)),f[e(f.length,1)]),o.$lock_in_subs()):(o.default_subs=[],o.attributes.$delete("subs")):o.default_subs=a,c((p=i["$[]"]("source"))["$nil_or_empty?"]())?o.lines=[]:c(t.const_get_qualified("::","String")["$==="](p))?o.lines=t.const_get_relative(m,"Helpers").$normalize_lines_from_string(p):o.lines=p.$dup()},d.$$arity=-3),t.defn(g,"$content",f=function(){var e,i=this,$=f.$$p,o=a,l=a,u=a,_=a,d=a,p=a,h=a;for($&&(f.$$p=null),p=0,h=arguments.length,d=new Array(h);p<h;p++)d[p]=arguments[p];return function(){if(o=i.content_model,"compound"["$==="](o))return s(i,t.find_super_dispatcher(i,"content",f,!1),d,$);if("simple"["$==="](o))return i.$apply_subs(n(i.lines,t.const_get_relative(m,"EOL")),i.subs);if("verbatim"["$==="](o)||"raw"["$==="](o)){if(l=i.$apply_subs(i.lines,i.subs),c(r(l.$size(),2)))return l["$[]"](0);for(;c(c(e=u=l["$[]"](0))?u.$rstrip()["$empty?"]():e);)l.$shift();for(;c(c(e=_=l["$[]"](-1))?_.$rstrip()["$empty?"]():e);)l.$pop();return n(l,t.const_get_relative(m,"EOL"))}return i.content_model["$=="]("empty")||i.$warn("Unknown content model '"+i.content_model+"' for block: "+i.$to_s()),a}()},f.$$arity=0),t.defn(g,"$source",p=function(){var e=this;return n(e.lines,t.const_get_relative(m,"EOL"))},p.$$arity=0),t.defn(g,"$to_s",h=function(){var t=this,e=a;return e=function(){return t.content_model["$=="]("compound")?"blocks: "+t.blocks.$size():"lines: "+t.lines.$size()}(),"#<"+t.$class()+"@"+t.$object_id()+" {context: "+t.context.$inspect()+", content_model: "+t.content_model.$inspect()+", style: "+t.style.$inspect()+", "+e+"}>"},h.$$arity=0),a&&"to_s"}(f[0],t.const_get_relative(f,"AbstractBlock"),f)}(i[0],i)},Opal.modules["asciidoctor/callouts"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var a=(t.top,[]),$=t.nil,o=(t.breaker,t.slice,t.module),s=t.klass,l=t.hash2,c=t.truthy,u=t.send;return t.add_stubs(["$next_list","$<<","$current_list","$to_i","$generate_next_callout_id","$+","$<=","$size","$[]","$-","$chop","$join","$map","$==","$<","$generate_callout_id"]),function(a,_){var d,f=d=o(a,"Asciidoctor"),p=(f.$$proto,[f].concat(_));!function(a,o,_){function d(){}var f,p,h,g,v,m,y,b,k,w=d=s(a,o,"Callouts",d),x=w.$$proto;[w].concat(_);return x.co_index=x.lists=x.list_index=$,t.defn(w,"$initialize",f=function(){var t=this;return t.lists=[],t.list_index=0,t.$next_list()},f.$$arity=0),t.defn(w,"$register",p=function(t){var n=this,r=$;return n.$current_list()["$<<"](l(["ordinal","id"],{ordinal:t.$to_i(),id:r=n.$generate_next_callout_id()})),n.co_index=e(n.co_index,1),r},p.$$arity=1),t.defn(w,"$read_next_id",h=function(){var t=this,i=$,a=$;return i=$,a=t.$current_list(),c(n(t.co_index,a.$size()))&&(i=a["$[]"](r(t.co_index,1))["$[]"]("id")),t.co_index=e(t.co_index,1),i},h.$$arity=0),t.defn(w,"$callout_ids",g=function(t){var e,n=this;return u(n.$current_list(),"map",[],(e=function(n){e.$$s||this;return null==n&&(n=$),n["$[]"]("ordinal")["$=="](t)?""+n["$[]"]("id")+" ":$},e.$$s=n,e.$$arity=1,e)).$join().$chop()},g.$$arity=1),t.defn(w,"$current_list",v=function(){var t=this;return t.lists["$[]"](r(t.list_index,1))},v.$$arity=0),t.defn(w,"$next_list",m=function(){var t=this;return t.list_index=e(t.list_index,1),c(i(t.lists.$size(),t.list_index))&&t.lists["$<<"]([]),t.co_index=1,$},m.$$arity=0),t.defn(w,"$rewind",y=function(){var t=this;return t.list_index=1,t.co_index=1,$},y.$$arity=0),t.defn(w,"$generate_next_callout_id",b=function(){var t=this;return t.$generate_callout_id(t.list_index,t.co_index)},b.$$arity=0),t.defn(w,"$generate_callout_id",k=function(t,e){return"CO"+t+"-"+e},k.$$arity=2),$&&"generate_callout_id"}(p[0],null,p)}(a[0],a)},Opal.modules["asciidoctor/converter/base"]=function(t){var e=(t.top,[]),n=t.nil,r=(t.breaker,t.slice,t.module),i=t.klass,a=t.hash2,$=t.truthy;return t.add_stubs(["$include","$node_name","$empty?","$send","$content"]),function(e,o){var s,l=s=r(e,"Asciidoctor"),c=(l.$$proto,[l].concat(o));!function(t,e){var n,i=n=r(t,"Converter");i.$$proto,[i].concat(e)}(c[0],c),function(e,n,r){function a(){}var $=a=i(e,n,"Base",a),o=($.$$proto,[$].concat(r));return $.$include(t.const_get_relative(o,"Converter"))}(t.const_get_relative(c,"Converter"),null,c),function(e,r,o){function s(){}var l,c,u,_,d=s=i(e,r,"BuiltIn",s);d.$$proto,[d].concat(o);return t.defn(d,"$initialize",l=function(t,e){return null==e&&(e=a([],{})),n},l.$$arity=-2),t.defn(d,"$convert",c=function(t,e,r){var i,o=this;return null==e&&(e=n),null==r&&(r=a([],{})),e=$(i=e)?i:t.$node_name(),$(r["$empty?"]())?o.$send(e,t):o.$send(e,t,r)},c.$$arity=-2),t.alias(d,"handles?","respond_to?"),t.defn(d,"$content",u=function(t){return t.$content()},u.$$arity=1),t.alias(d,"pass","content"),t.defn(d,"$skip",_=function(t){return n},_.$$arity=1),n&&"skip"}(t.const_get_relative(c,"Converter"),null,c)}(e[0],e)},Opal.modules["asciidoctor/converter/factory"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=(t.top,[]),r=t.nil,i=(t.breaker,t.slice,t.module),a=t.klass,$=t.truthy,o=t.hash2,s=t.send;return t.add_stubs(["$new","$require","$to_s","$warn","$register","$default","$resolve","$create","$converters","$unregister_all","$attr_reader","$each","$[]=","$-","$==","$[]","$clear","$===","$key?"]),function(n,l){var c,u=c=i(n,"Asciidoctor"),_=(u.$$proto,[u].concat(l));!function(n,l){var c,u=c=i(n,"Converter"),_=(u.$$proto,[u].concat(l));!function(n,i,l){function c(){}var u,_,d,f,p,h=c=a(n,i,"Factory",c),g=h.$$proto,v=[h].concat(l);return g.converters=g.star_converter=r,h.__default__=r,function(e,n){var i,a,s,l,c,u;e.$$proto,[e].concat(n);return t.defn(e,"$default",i=function(e){var n,i,a=this;return null==a.__default__&&(a.__default__=r),null==e&&(e=!0),$(e)?a.__default__=$(n=a.__default__)?n:function(){try{return $((i=t.const_get_qualified("::","ThreadSafe","skip_raise"))?"constant":r)||a.$require("thread_safe".$to_s()),a.$new(t.const_get_qualified(t.const_get_qualified("::","ThreadSafe"),"Cache").$new())}catch(e){if(!t.rescue(e,[t.const_get_qualified("::","LoadError")]))throw e;try{return a.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters."),a.$new()}finally{t.pop_exception()}}}():$(n=a.__default__)?n:a.$new()},i.$$arity=-1),t.defn(e,"$register",a=function(t,e){var n=this;return null==e&&(e=["*"]),n.$default().$register(t,e)},a.$$arity=-2),t.defn(e,"$resolve",s=function(t){var e=this;return e.$default().$resolve(t)},s.$$arity=1),t.defn(e,"$create",l=function(t,e){var n=this;return null==e&&(e=o([],{})),n.$default().$create(t,e)},l.$$arity=-2),t.defn(e,"$converters",c=function(){var t=this;return t.$default().$converters()},c.$$arity=0),t.defn(e,"$unregister_all",u=function(){var t=this;return t.$default().$unregister_all()},u.$$arity=0),r&&"unregister_all"}(t.get_singleton_class(h),v),h.$attr_reader("converters"),t.defn(h,"$initialize",u=function(t){var e,n=this;return null==t&&(t=r),n.converters=$(e=t)?e:o([],{}),n.star_converter=r},u.$$arity=-1),t.defn(h,"$register",_=function(n,i){var a,$=this;return null==i&&(i=["*"]),s(i,"each",[],(a=function(i){var $=a.$$s||this,o=r;return null==$.converters&&($.converters=r),null==i&&(i=r),o=[i,n],s($.converters,"[]=",t.to_a(o)),o[e(o.length,1)],i["$=="]("*")?$.star_converter=n:r},a.$$s=$,a.$$arity=1,a)),r},_.$$arity=-2),t.defn(h,"$resolve",d=function(t){var e,n,r=this;return $(e=r.converters)?$(n=r.converters["$[]"](t))?n:r.star_converter:e},d.$$arity=1),t.defn(h,"$unregister_all",f=function(){var t=this;return t.converters.$clear(),t.star_converter=r},f.$$arity=0),t.defn(h,"$create",p=function(e,n){var i,a,s,l,c,u,_,d,f,p,h,g,m,y,b,k,w,x,E=this,O=r,A=r,S=r,R=r;return null==n&&(n=o([],{})),$(O=E.$resolve(e))?function(){return $(t.const_get_qualified("::","Class")["$==="](O))?O.$new(e,n):O}():(A=function(){return S=e,"html5"["$==="](S)?($((s=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(a=t.const_get_qualified(s,"Converter","skip_raise"))&&(i=t.const_get_qualified(a,"Html5Converter","skip_raise"))?"constant":r)||E.$require("asciidoctor/converter/html5".$to_s()),t.const_get_relative(v,"Html5Converter").$new(e,n)):"docbook5"["$==="](S)?($((u=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(c=t.const_get_qualified(u,"Converter","skip_raise"))&&(l=t.const_get_qualified(c,"DocBook5Converter","skip_raise"))?"constant":r)||E.$require("asciidoctor/converter/docbook5".$to_s()),t.const_get_relative(v,"DocBook5Converter").$new(e,n)):"docbook45"["$==="](S)?($((f=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(d=t.const_get_qualified(f,"Converter","skip_raise"))&&(_=t.const_get_qualified(d,"DocBook45Converter","skip_raise"))?"constant":r)||E.$require("asciidoctor/converter/docbook45".$to_s()),t.const_get_relative(v,"DocBook45Converter").$new(e,n)):"manpage"["$==="](S)?($((g=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(h=t.const_get_qualified(g,"Converter","skip_raise"))&&(p=t.const_get_qualified(h,"ManPageConverter","skip_raise"))?"constant":r)||E.$require("asciidoctor/converter/manpage".$to_s()),t.const_get_relative(v,"ManPageConverter").$new(e,n)):r}(),$(n["$key?"]("template_dirs"))?($((b=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(y=t.const_get_qualified(b,"Converter","skip_raise"))&&(m=t.const_get_qualified(y,"TemplateConverter","skip_raise"))?"constant":r)||E.$require("asciidoctor/converter/template".$to_s()),$((x=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(w=t.const_get_qualified(x,"Converter","skip_raise"))&&(k=t.const_get_qualified(w,"CompositeConverter","skip_raise"))?"constant":r)||E.$require("asciidoctor/converter/composite".$to_s()),R=t.const_get_relative(v,"TemplateConverter").$new(e,n["$[]"]("template_dirs"),n),t.const_get_relative(v,"CompositeConverter").$new(e,R,A)):A)},p.$$arity=-2),r&&"create"}(_[0],null,_)}(_[0],_)}(n[0],n)},Opal.modules["asciidoctor/converter"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=t.top,r=[],i=t.nil,a=(t.breaker,t.slice,t.module),$=t.send,o=t.truthy,s=t.range,l=t.hash2;return t.add_stubs(["$register","$==","$send","$include?","$setup_backend_info","$raise","$class","$sub","$[]","$[]=","$backend_info","$-","$extend","$include","$respond_to?","$write","$chomp","$require"]),function(n,r){var c,u=c=a(n,"Asciidoctor"),_=(u.$$proto,[u].concat(r));!function(n,r){var c,u,_,d=c=a(n,"Converter"),f=(d.$$proto,[d].concat(r));!function(e,n){var r,o,s=r=a(e,"Config"),l=(s.$$proto,[s].concat(n));t.defn(s,"$register_for",o=function(e){var n,r,a,o=this,s=i,c=arguments.length,u=c-0;u<0&&(u=0),a=new Array(u);for(var _=0;_<c;_++)a[_-0]=arguments[_];return t.const_get_relative(l,"Factory").$register(o,a),s=function(t,e){t.$$proto,[t].concat(e);return t}(t.get_singleton_class(o),l),a["$=="](["*"])?$(s,"send",["define_method","converts?"],(n=function(t){n.$$s||this;return null==t&&(t=i),!0},n.$$s=o,n.$$arity=1,n)):$(s,"send",["define_method","converts?"],(r=function(t){r.$$s||this;return null==t&&(t=i),a["$include?"](t)},r.$$s=o,r.$$arity=1,r)),i},o.$$arity=-1)}(f[0],f),function(n,r){var c,u,_,d,f,p,h,g=c=a(n,"BackendInfo"),v=(g.$$proto,[g].concat(r));t.defn(g,"$backend_info",u=function(){var t,e=this;return null==e.backend_info&&(e.backend_info=i),e.backend_info=o(t=e.backend_info)?t:e.$setup_backend_info()},u.$$arity=0),t.defn(g,"$setup_backend_info",_=function(){var e=this,n=i,r=i,a=i,$=i;return null==e.backend&&(e.backend=i),o(e.backend)||e.$raise(t.const_get_qualified("::","ArgumentError"),"Cannot determine backend for converter: "+e.$class()),n=e.backend.$sub(t.const_get_relative(v,"TrailingDigitsRx"),""),o(r=t.const_get_relative(v,"DEFAULT_EXTENSIONS")["$[]"](n))?a=r["$[]"](s(1,-1,!1)):(n="html",r=".html",a="html",$="html"),l(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:n,outfilesuffix:r,filetype:a,htmlsyntax:$})},_.$$arity=0),t.defn(g,"$filetype",d=function(n){var r=this,a=i;return null==n&&(n=i),o(n)?(a=["filetype",n],$(r.$backend_info(),"[]=",t.to_a(a)),a[e(a.length,1)]):r.$backend_info()["$[]"]("filetype")},d.$$arity=-1),t.defn(g,"$basebackend",f=function(n){var r=this,a=i;return null==n&&(n=i),o(n)?(a=["basebackend",n],$(r.$backend_info(),"[]=",t.to_a(a)),a[e(a.length,1)]):r.$backend_info()["$[]"]("basebackend")},f.$$arity=-1),t.defn(g,"$outfilesuffix",p=function(n){var r=this,a=i;return null==n&&(n=i),o(n)?(a=["outfilesuffix",n],$(r.$backend_info(),"[]=",t.to_a(a)),a[e(a.length,1)]):r.$backend_info()["$[]"]("outfilesuffix")},p.$$arity=-1),t.defn(g,"$htmlsyntax",h=function(n){var r=this,a=i;return null==n&&(n=i),o(n)?(a=["htmlsyntax",n],$(r.$backend_info(),"[]=",t.to_a(a)),a[e(a.length,1)]):r.$backend_info()["$[]"]("htmlsyntax")},h.$$arity=-1)}(f[0],f),function(e,n){var r,a=(e.$$proto,[e].concat(n));return t.defn(e,"$included",r=function(e){return e.$extend(t.const_get_relative(a,"Config"))},r.$$arity=1),i&&"included"}(t.get_singleton_class(d),f),d.$include(t.const_get_relative(f,"Config")),d.$include(t.const_get_relative(f,"BackendInfo")),t.defn(d,"$initialize",u=function(t,e){var n=this;return null==e&&(e=l([],{})),n.backend=t,n.$setup_backend_info()},u.$$arity=-2),t.defn(d,"$convert",_=function(e,n,r){var a=this;return null==n&&(n=i),null==r&&(r=l([],{})),a.$raise(t.const_get_qualified("::","NotImplementedError"))},_.$$arity=-2),t.alias(d,"convert_with_options","convert")}(_[0],_),function(e,n){var r,$,s=r=a(e,"Writer"),l=(s.$$proto,[s].concat(n));t.defn(s,"$write",$=function(e,n){return o(n["$respond_to?"]("write"))?(n.$write(e.$chomp()),n.$write(t.const_get_relative(l,"EOL"))):t.const_get_qualified("::","IO").$write(n,e),i},$.$$arity=2)}(_[0],_),function(e,n){var r,$,o=r=a(e,"VoidWriter"),s=(o.$$proto,[o].concat(n));o.$include(t.const_get_relative(s,"Writer")),t.defn(o,"$write",$=function(t,e){return i},$.$$arity=2)}(_[0],_)}(r[0],r),n.$require("asciidoctor/converter/base"),n.$require("asciidoctor/converter/factory")},Opal.modules["asciidoctor/document"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var a=(t.top,[]),$=t.nil,o=(t.breaker,t.slice,t.module),s=t.klass,l=t.truthy,c=t.send,u=t.hash2,_=t.range,d=t.gvars;return t.add_stubs(["$new","$attr_reader","$nil?","$<<","$[]","$[]=","$-","$include?","$strip","$squeeze","$gsub","$empty?","$!","$rpartition","$attr_accessor","$delete","$base_dir","$inject","$catalog","$==","$callouts","$dup","$attributes","$safe","$compat_mode","$sourcemap","$converter","$extensions","$each","$start_with?","$end_with?","$chop","$downcase","$===","$value_for_name","$to_s","$key?","$freeze","$attribute_undefined","$attribute_missing","$name_for_value","$expand_path","$pwd","$>=","$+","$length","$fetch","$abs","$to_i","$delete_if","$update_doctype_attributes","$parse","$restore_attributes","$update_backend_attributes","$utc","$at","$Integer","$now","$index","$slice","$strftime","$year","$join","$create","$to_proc","$activate","$preprocessors?","$preprocessors","$process_method","$tree_processors?","$tree_processors","$!=","$counter","$nil_or_empty?","$nextval","$value","$save_to","$chr","$ord","$source","$source_lines","$sectname=","$title=","$title","$first_section","$title?","$merge","$find","$context","$enumerate_section","$clear_playback_attributes","$save_attributes","$attribute_locked?","$doctitle","$rewind","$name","$negate","$limit_bytesize","$apply_attribute_value_subs","$delete?","$=~","$apply_subs","$resolve_pass_subs","$apply_header_subs","$create_converter","$basebackend","$outfilesuffix","$filetype","$sub","$raise","$backend","$default","$doctype","$content_model","$warn","$content","$convert","$postprocessors?","$postprocessors","$write","$respond_to?","$chomp","$map","$split","$&","$normalize_system_path","$read_asset","$resolve_docinfo_subs","$sub_attributes","$docinfo_processors?","$*","$compact","$resolve_subs","$docinfo_processors","$class","$object_id","$inspect","$size"]),
function(a,f){var p,h=p=o(a,"Asciidoctor"),g=(h.$$proto,[h].concat(f));!function(a,o,f){function p(){}var h,g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P,L,D,B,j,U,F,H,G,Y,W,K,X,V,J,Z,Q,tt,et,nt,rt,it,at,$t=p=s(a,o,"Document",p),ot=$t.$$proto,st=[$t].concat(f);return ot.attributes=ot.safe=ot.reader=ot.base_dir=ot.parsed=ot.parent_document=ot.extensions=ot.options=ot.counters=ot.catalog=ot.header=ot.blocks=ot.attributes_modified=ot.id=ot.callouts=ot.header_attributes=ot.max_attribute_value_size=ot.attribute_overrides=ot.backend=ot.doctype=ot.converter=ot.outfilesuffix=ot.docinfo_processor_extensions=ot.document=$,t.const_set(st[0],"Footnote",t.const_get_qualified("::","Struct").$new("index","id","text")),function(n,r,i){function a(){}var o,u,_=a=s(n,r,"AttributeEntry",a);_.$$proto,[_].concat(i);return _.$attr_reader("name","value","negate"),t.defn(_,"$initialize",o=function(t,e,n){var r=this;return null==n&&(n=$),r.name=t,r.value=e,r.negate=function(){return l(n["$nil?"]())?e["$nil?"]():n}()},o.$$arity=-3),t.defn(_,"$save_to",u=function(n){var r,i=this,a=$;return(l(r=n["$[]"]("attribute_entries"))?r:(a=["attribute_entries",[]],c(n,"[]=",t.to_a(a)),a[e(a.length,1)]))["$<<"](i),i},u.$$arity=1),$&&"save_to"}(st[0],null,st),function(e,n,r){function i(){}var a,o,c,_,d=i=s(e,n,"Title",i),f=d.$$proto,p=[d].concat(r);return f.sanitized=f.subtitle=f.combined=$,d.$attr_reader("main"),t.alias(d,"title","main"),d.$attr_reader("subtitle"),d.$attr_reader("combined"),t.defn(d,"$initialize",a=function(e,n){var r,i,a=this,o=$,s=$;return null==n&&(n=u([],{})),l(l(r=a.sanitized=n["$[]"]("sanitize"))?e["$include?"]("<"):r)&&(e=e.$gsub(t.const_get_relative(p,"XmlSanitizeRx"),"").$squeeze(" ").$strip()),l(l(r=(o=l(i=n["$[]"]("separator"))?i:":")["$empty?"]())?r:e["$include?"](o=""+o+" ")["$!"]())?(a.main=e,a.subtitle=$):(i=e.$rpartition(o),r=t.to_ary(i),a.main=null==r[0]?$:r[0],s=null==r[1]?$:r[1],a.subtitle=null==r[2]?$:r[2],i),a.combined=e},a.$$arity=-2),t.defn(d,"$sanitized?",o=function(){var t=this;return t.sanitized},o.$$arity=0),t.defn(d,"$subtitle?",c=function(){var t=this;return!!l(t.subtitle)},c.$$arity=0),t.defn(d,"$to_s",_=function(){var t=this;return t.combined},_.$$arity=0),$&&"to_s"}(st[0],null,st),$t.$attr_reader("safe"),$t.$attr_reader("compat_mode"),$t.$attr_reader("backend"),$t.$attr_reader("doctype"),$t.$attr_accessor("sourcemap"),$t.$attr_reader("catalog"),t.alias($t,"references","catalog"),$t.$attr_reader("counters"),$t.$attr_reader("callouts"),$t.$attr_reader("header"),$t.$attr_reader("base_dir"),$t.$attr_reader("options"),$t.$attr_reader("outfilesuffix"),$t.$attr_reader("parent_document"),$t.$attr_reader("reader"),$t.$attr_reader("converter"),$t.$attr_reader("extensions"),t.defn($t,"$initialize",h=function(i,a){var o,s,d,f,p,g,v,m=this,y=h.$$p,b=$,k=$,w=$,x=$,E=$,O=$,A=$,S=$,R=$,M=$,T=$,I=$,q=$,C=$,N=$,z=$,P=$,L=$;if(null==i&&(i=$),null==a&&(a=u([],{})),y&&(h.$$p=null),c(m,t.find_super_dispatcher(m,"initialize",h,!1),[m,"document"],null),l(b=a.$delete("parent")))m.parent_document=b,l(o=a["$[]"]("base_dir"))?o:(k=["base_dir",b.$base_dir()],c(a,"[]=",t.to_a(k)),k[e(k.length,1)]),m.catalog=c(b.$catalog(),"inject",[u([],{})],(s=function(n,r){var i,a,o;s.$$s||this;return null==r&&(r=$),r=t.to_ary(r),i=t.slice.call(r,0,r.length),a=i.splice(0,1)[0],null==a&&(a=$),o=i.splice(0,1)[0],null==o&&(o=$),null==n&&(n=$),k=[a,function(){return a["$=="]("footnotes")?[]:o}()],c(n,"[]=",t.to_a(k)),k[e(k.length,1)],n},s.$$s=m,s.$$arity=2,s.$$has_top_level_mlhs_arg=!0,s)),m.callouts=b.$callouts(),m.attribute_overrides=w=b.$attributes().$dup(),x=w.$delete("doctype"),w.$delete("compat-mode"),w.$delete("toc"),w.$delete("toc-placement"),w.$delete("toc-position"),m.safe=b.$safe(),l(m.compat_mode=b.$compat_mode())&&(k=["compat-mode",""],c(m.attributes,"[]=",t.to_a(k)),k[e(k.length,1)]),m.sourcemap=b.$sourcemap(),m.converter=b.$converter(),E=!1,m.extensions=b.$extensions();else{if(m.parent_document=$,m.catalog=u(["ids","footnotes","links","images","indexterms","includes"],{ids:u([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:t.const_get_qualified("::","Set").$new()}),m.callouts=t.const_get_relative(st,"Callouts").$new(),w=u([],{}),c(l(o=a["$[]"]("attributes"))?o:u([],{}),"each",[],(d=function(n,r){d.$$s||this;return null==n&&(n=$),null==r&&(r=$),l(n["$start_with?"]("!"))?(n=n["$[]"](_(1,-1,!1)),r=$):l(n["$end_with?"]("!"))&&(n=n.$chop(),r=$),k=[n.$downcase(),r],c(w,"[]=",t.to_a(k)),k[e(k.length,1)]},d.$$s=m,d.$$arity=2,d)),m.attribute_overrides=w,l((O=a["$[]"]("safe"))["$!"]()))m.safe=t.const_get_qualified(t.const_get_relative(st,"SafeMode"),"SECURE");else if(l(t.const_get_qualified("::","Integer")["$==="](O)))m.safe=O;else try{m.safe=t.const_get_relative(st,"SafeMode").$value_for_name(O.$to_s())}catch(D){if(!t.rescue(D,[t.const_get_relative(st,"StandardError")]))throw D;try{m.safe=t.const_get_qualified(t.const_get_relative(st,"SafeMode"),"SECURE")}finally{t.pop_exception()}}m.compat_mode=w["$key?"]("compat-mode"),m.sourcemap=a["$[]"]("sourcemap"),m.converter=$,E=(f=t.const_get_qualified("::","Asciidoctor","skip_raise"))&&(o=t.const_get_qualified(f,"Extensions","skip_raise"))?"constant":$,m.extensions=$}return m.parsed=!1,m.header=$,m.counters=u([],{}),m.attributes_modified=t.const_get_qualified("::","Set").$new(),m.docinfo_processor_extensions=u([],{}),A=l(p=a["$[]"]("header_footer"))?p:(k=["header_footer",!1],c(a,"[]=",t.to_a(k)),k[e(k.length,1)]),(m.options=a).$freeze(),S=m.attributes,k=["sectids",""],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["toc-placement","auto"],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],l(A)?(k=["copycss",""],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["embedded",$],c(w,"[]=",t.to_a(k)),k[e(k.length,1)]):(k=["notitle",""],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["embedded",""],c(w,"[]=",t.to_a(k)),k[e(k.length,1)]),k=["stylesheet",""],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["webfonts",""],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["prewrap",""],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["attribute-undefined",t.const_get_relative(st,"Compliance").$attribute_undefined()],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["attribute-missing",t.const_get_relative(st,"Compliance").$attribute_missing()],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["iconfont-remote",""],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["caution-caption","Caution"],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["important-caption","Important"],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["note-caption","Note"],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["tip-caption","Tip"],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["warning-caption","Warning"],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["appendix-caption","Appendix"],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["example-caption","Example"],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["figure-caption","Figure"],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["table-caption","Table"],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["toc-title","Table of Contents"],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["manname-title","NAME"],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["untitled-label","Untitled"],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["version-label","Version"],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["last-update-label","Last updated"],c(S,"[]=",t.to_a(k)),k[e(k.length,1)],k=["asciidoctor",""],c(w,"[]=",t.to_a(k)),k[e(k.length,1)],k=["asciidoctor-version",t.const_get_relative(st,"VERSION")],c(w,"[]=",t.to_a(k)),k[e(k.length,1)],k=["safe-mode-name",R=t.const_get_relative(st,"SafeMode").$name_for_value(m.safe)],c(w,"[]=",t.to_a(k)),k[e(k.length,1)],k=["safe-mode-"+R,""],c(w,"[]=",t.to_a(k)),k[e(k.length,1)],k=["safe-mode-level",m.safe],c(w,"[]=",t.to_a(k)),k[e(k.length,1)],l(p=w["$[]"]("max-include-depth"))?p:(k=["max-include-depth",64],c(w,"[]=",t.to_a(k)),k[e(k.length,1)]),l(p=w["$[]"]("allow-uri-read"))?p:(k=["allow-uri-read",$],c(w,"[]=",t.to_a(k)),k[e(k.length,1)]),k=["user-home",t.const_get_relative(st,"USER_HOME")],c(w,"[]=",t.to_a(k)),k[e(k.length,1)],l(w["$key?"]("numbered"))&&(k=["sectnums",w.$delete("numbered")],c(w,"[]=",t.to_a(k)),k[e(k.length,1)]),l(a["$[]"]("base_dir"))?m.base_dir=(k=["docdir",t.const_get_qualified("::","File").$expand_path(a["$[]"]("base_dir"))],c(w,"[]=",t.to_a(k)),k[e(k.length,1)]):l(w["$[]"]("docdir"))?m.base_dir=(k=["docdir",t.const_get_qualified("::","File").$expand_path(w["$[]"]("docdir"))],c(w,"[]=",t.to_a(k)),k[e(k.length,1)]):m.base_dir=(k=["docdir",t.const_get_qualified("::","File").$expand_path(t.const_get_qualified("::","Dir").$pwd())],c(w,"[]=",t.to_a(k)),k[e(k.length,1)]),l(M=a["$[]"]("backend"))&&(k=["backend",""+M],c(w,"[]=",t.to_a(k)),k[e(k.length,1)]),l(T=a["$[]"]("doctype"))&&(k=["doctype",""+T],c(w,"[]=",t.to_a(k)),k[e(k.length,1)]),l(n(m.safe,t.const_get_qualified(t.const_get_relative(st,"SafeMode"),"SERVER")))&&(l(p=w["$[]"]("copycss"))?p:(k=["copycss",$],c(w,"[]=",t.to_a(k)),k[e(k.length,1)]),l(p=w["$[]"]("source-highlighter"))?p:(k=["source-highlighter",$],c(w,"[]=",t.to_a(k)),k[e(k.length,1)]),l(p=w["$[]"]("backend"))?p:(k=["backend",t.const_get_relative(st,"DEFAULT_BACKEND")],c(w,"[]=",t.to_a(k)),k[e(k.length,1)]),l(l(p=b["$!"]())?w["$key?"]("docfile"):p)&&(k=["docfile",w["$[]"]("docfile")["$[]"](t.Range.$new(r(w["$[]"]("docdir").$length(),1),-1,!1))],c(w,"[]=",t.to_a(k)),k[e(k.length,1)]),k=["docdir",""],c(w,"[]=",t.to_a(k)),k[e(k.length,1)],k=["user-home","."],c(w,"[]=",t.to_a(k)),k[e(k.length,1)],l(n(m.safe,t.const_get_qualified(t.const_get_relative(st,"SafeMode"),"SECURE")))&&(l(w["$key?"]("max-attribute-value-size"))||(k=["max-attribute-value-size",4096],c(w,"[]=",t.to_a(k)),k[e(k.length,1)]),l(w.$fetch("linkcss","")["$nil?"]())||(k=["linkcss",""],c(w,"[]=",t.to_a(k)),k[e(k.length,1)]),l(p=w["$[]"]("icons"))?p:(k=["icons",$],c(w,"[]=",t.to_a(k)),k[e(k.length,1)]))),m.max_attribute_value_size=function(){return l(I=l(p=w["$[]"]("max-attribute-value-size"))?p:(k=["max-attribute-value-size",$],c(w,"[]=",t.to_a(k)),k[e(k.length,1)]))?I.$to_i().$abs():$}(),c(w,"delete_if",[],(g=function(n,r){var i,a=(g.$$s||this,$);return null==n&&(n=$),null==r&&(r=$),a=!1,l(r["$nil?"]())?S.$delete(n):(l(l(i=t.const_get_qualified("::","String")["$==="](r))?r["$end_with?"]("@"):i)&&(r=r.$chop(),a=!0),k=[n,r],c(S,"[]=",t.to_a(k)),k[e(k.length,1)]),a},g.$$s=m,g.$$arity=2,g)),l(b)?(m.backend=S["$[]"]("backend"),(m.doctype=(k=["doctype",x],c(S,"[]=",t.to_a(k)),k[e(k.length,1)]))["$=="](t.const_get_relative(st,"DEFAULT_DOCTYPE"))||m.$update_doctype_attributes(t.const_get_relative(st,"DEFAULT_DOCTYPE")),m.reader=t.const_get_relative(st,"Reader").$new(i,a["$[]"]("cursor")),t.const_get_relative(st,"Parser").$parse(m.reader,m),m.$restore_attributes(),m.parsed=!0):(m.backend=$,(l(p=S["$[]"]("backend"))?p:(k=["backend",t.const_get_relative(st,"DEFAULT_BACKEND")],c(S,"[]=",t.to_a(k)),k[e(k.length,1)]))["$=="]("manpage")?m.doctype=(k=["doctype",(k=["doctype","manpage"],c(w,"[]=",t.to_a(k)),k[e(k.length,1)])],c(S,"[]=",t.to_a(k)),k[e(k.length,1)]):m.doctype=l(p=S["$[]"]("doctype"))?p:(k=["doctype",t.const_get_relative(st,"DEFAULT_DOCTYPE")],c(S,"[]=",t.to_a(k)),k[e(k.length,1)]),m.$update_backend_attributes(S["$[]"]("backend"),!0),q=function(){return l(t.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?t.const_get_qualified("::","Time").$at(m.$Integer(t.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():t.const_get_qualified("::","Time").$now()}(),l(C=S["$[]"]("localdate"))?N=l(p=S["$[]"]("localyear"))?p:(k=["localyear",function(){return C.$index("-")["$=="](4)?C.$slice(0,4):$}()],c(S,"[]=",t.to_a(k)),k[e(k.length,1)]):(k=["localdate",q.$strftime("%Y-%m-%d")],c(S,"[]=",t.to_a(k)),C=k[e(k.length,1)],N=l(p=S["$[]"]("localyear"))?p:(k=["localyear",q.$year().$to_s()],c(S,"[]=",t.to_a(k)),k[e(k.length,1)])),z=l(p=S["$[]"]("localtime"))?p:(k=["localtime",function(){try{return q.$strftime("%H:%M:%S %Z")}catch(e){if(!t.rescue(e,[t.const_get_relative(st,"StandardError")]))throw e;try{return q.$strftime("%H:%M:%S %z")}finally{t.pop_exception()}}}()],c(S,"[]=",t.to_a(k)),k[e(k.length,1)]),l(p=S["$[]"]("localdatetime"))?p:(k=["localdatetime",""+C+" "+z],c(S,"[]=",t.to_a(k)),k[e(k.length,1)]),l(p=S["$[]"]("docdate"))?p:(k=["docdate",C],c(S,"[]=",t.to_a(k)),k[e(k.length,1)]),l(p=S["$[]"]("docyear"))?p:(k=["docyear",N],c(S,"[]=",t.to_a(k)),k[e(k.length,1)]),l(p=S["$[]"]("doctime"))?p:(k=["doctime",z],c(S,"[]=",t.to_a(k)),k[e(k.length,1)]),l(p=S["$[]"]("docdatetime"))?p:(k=["docdatetime",""+C+" "+z],c(S,"[]=",t.to_a(k)),k[e(k.length,1)]),l(p=S["$[]"]("stylesdir"))?p:(k=["stylesdir","."],c(S,"[]=",t.to_a(k)),k[e(k.length,1)]),l(p=S["$[]"]("iconsdir"))?p:(k=["iconsdir",t.const_get_qualified("::","File").$join(S.$fetch("imagesdir","./images"),"icons")],c(S,"[]=",t.to_a(k)),k[e(k.length,1)]),l(E)&&(l(P=a["$[]"]("extension_registry"))?l(l(p=t.const_get_qualified(t.const_get_relative(st,"Extensions"),"Registry")["$==="](P))?p:l(v=t.const_get_qualified("::","RUBY_ENGINE_JRUBY"))?t.const_get_qualified(t.const_get_qualified(t.const_get_qualified("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](P):v)||(P=t.const_get_qualified(t.const_get_relative(st,"Extensions"),"Registry").$new()):P=l(t.const_get_qualified("::","Proc")["$==="](L=a["$[]"]("extensions")))?c(t.const_get_relative(st,"Extensions"),"create",[],L.$to_proc()):t.const_get_qualified(t.const_get_relative(st,"Extensions"),"Registry").$new(),m.extensions=P.$activate(m)),m.reader=t.const_get_relative(st,"PreprocessorReader").$new(m,i,t.const_get_qualified(t.const_get_relative(st,"Reader"),"Cursor").$new(S["$[]"]("docfile"),m.base_dir),u(["normalize"],{normalize:!0})))},h.$$arity=-1),t.defn($t,"$parse",g=function(e){var n,r,i,a=this,o=$,s=$;return null==e&&(e=$),l(a.parsed)?a:(o=a,l(e)&&(a.reader=t.const_get_relative(st,"PreprocessorReader").$new(o,e,t.const_get_qualified(t.const_get_relative(st,"Reader"),"Cursor").$new(a.attributes["$[]"]("docfile"),a.base_dir),u(["normalize"],{normalize:!0}))),l(l(n=s=function(){return l(a.parent_document)?$:a.extensions}())?s["$preprocessors?"]():n)&&c(s.$preprocessors(),"each",[],(r=function(t){var e,n=r.$$s||this;return null==n.reader&&(n.reader=$),null==t&&(t=$),n.reader=l(e=t.$process_method()["$[]"](o,n.reader))?e:n.reader},r.$$s=a,r.$$arity=1,r)),t.const_get_relative(st,"Parser").$parse(a.reader,o,u(["header_only"],{header_only:a.options["$[]"]("parse_header_only")})),a.$restore_attributes(),l(l(n=s)?s["$tree_processors?"]():n)&&c(s.$tree_processors(),"each",[],(i=function(e){var n,r,a=(i.$$s||this,$);return null==e&&(e=$),l(l(n=l(r=a=e.$process_method()["$[]"](o))?t.const_get_relative(st,"Document")["$==="](a):r)?a["$!="](o):n)?o=a:$},i.$$s=a,i.$$arity=1,i)),a.parsed=!0,o)},g.$$arity=-1),t.defn($t,"$counter",v=function(n,r){var i,a=this,o=$,s=$,u=$;return null==r&&(r=$),l(a.parent_document)?a.parent_document.$counter(n,r):l(l(i=o=(s=a.attributes["$[]"](n))["$nil_or_empty?"]()["$!"]())?a.counters["$key?"](n):i)?(u=[n,(u=[n,a.$nextval(s)],c(a.counters,"[]=",t.to_a(u)),u[e(u.length,1)])],c(a.attributes,"[]=",t.to_a(u)),u[e(u.length,1)]):l(r)?(u=[n,(u=[n,function(){return r["$=="](r.$to_i().$to_s())?r.$to_i():r}()],c(a.counters,"[]=",t.to_a(u)),u[e(u.length,1)])],c(a.attributes,"[]=",t.to_a(u)),u[e(u.length,1)]):(u=[n,(u=[n,a.$nextval(function(){return l(o)?s:0}())],c(a.counters,"[]=",t.to_a(u)),u[e(u.length,1)])],c(a.attributes,"[]=",t.to_a(u)),u[e(u.length,1)])},v.$$arity=-2),t.defn($t,"$increment_and_store_counter",m=function(e,n){var r=this;return t.const_get_relative(st,"AttributeEntry").$new(e,r.$counter(e)).$save_to(n.$attributes()).$value()},m.$$arity=2),t.alias($t,"counter_increment","increment_and_store_counter"),t.defn($t,"$nextval",y=function(e){var n=$;return l(t.const_get_qualified("::","Integer")["$==="](e))?r(e,1):(n=e.$to_i(),l(n.$to_s()["$!="](e.$to_s()))?r(e["$[]"](0).$ord(),1).$chr():r(n,1))},y.$$arity=1),t.defn($t,"$register",b=function(n,i){var a,o,s=this,u=$,_=$,d=$,f=$,p=$;return function(){return u=n,"ids"["$==="](u)?(o=i,a=t.to_ary(o),_=null==a[0]?$:a[0],d=null==a[1]?$:a[1],o,f=s.catalog["$[]"]("ids"),l(a=f["$[]"](_))?a:(p=[_,l(o=d)?o:r(r("[",_),"]")],c(f,"[]=",t.to_a(p)),p[e(p.length,1)])):"footnotes"["$==="](u)||"indexterms"["$==="](u)?s.catalog["$[]"](n)["$<<"](i):l(s.options["$[]"]("catalog_assets"))?s.catalog["$[]"](n)["$<<"](i):$}()},b.$$arity=2),t.defn($t,"$footnotes?",k=function(){var t=this;return!l(t.catalog["$[]"]("footnotes")["$empty?"]())},k.$$arity=0),t.defn($t,"$footnotes",w=function(){var t=this;return t.catalog["$[]"]("footnotes")},w.$$arity=0),t.defn($t,"$nested?",x=function(){var t=this;return!!l(t.parent_document)},x.$$arity=0),t.defn($t,"$embedded?",E=function(){var t=this;return t.attributes["$key?"]("embedded")},E.$$arity=0),t.defn($t,"$extensions?",O=function(){var t=this;return!!l(t.extensions)},O.$$arity=0),t.defn($t,"$source",A=function(){var t=this;return l(t.reader)?t.reader.$source():$},A.$$arity=0),t.defn($t,"$source_lines",S=function(){var t=this;return l(t.reader)?t.reader.$source_lines():$},S.$$arity=0),t.defn($t,"$basebackend?",R=function(t){var e=this;return e.attributes["$[]"]("basebackend")["$=="](t)},R.$$arity=1),t.defn($t,"$title",M=function(){var t=this;return t.attributes["$[]"]("title")},M.$$arity=0),t.defn($t,"$title=",T=function(n){var r=this,i=$,a=$;return l(i=r.header)||(a=["header"],c(i=r.header=t.const_get_relative(st,"Section").$new(r,0,!1),"sectname=",t.to_a(a)),a[e(a.length,1)]),a=[n],c(i,"title=",t.to_a(a)),a[e(a.length,1)]},T.$$arity=1),t.defn($t,"$doctitle",I=function(e){var n,r=this,i=$,a=$,o=$;if(null==e&&(e=u([],{})),l((i=r.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]()))i=r.$title();else if(l(l(n=a=r.$first_section())?a["$title?"]():n))i=a.$title();else if(!l(l(n=e["$[]"]("use_fallback"))?i=r.attributes["$[]"]("untitled-label"):n))return $;return l(o=e["$[]"]("partition"))?t.const_get_relative(st,"Title").$new(i,e.$merge(u(["separator"],{separator:function(){return o["$=="](!0)?r.attributes["$[]"]("title-separator"):o}()}))):l(l(n=e["$[]"]("sanitize"))?i["$include?"]("<"):n)?i.$gsub(t.const_get_relative(st,"XmlSanitizeRx"),"").$squeeze(" ").$strip():i},I.$$arity=-1),t.alias($t,"name","doctitle"),t.defn($t,"$author",q=function(){var t=this;return t.attributes["$[]"]("author")},q.$$arity=0),t.defn($t,"$revdate",C=function(){var t=this;return t.attributes["$[]"]("revdate")},C.$$arity=0),t.defn($t,"$notitle",N=function(){var t,e=this;return l(t=e.attributes["$key?"]("showtitle")["$!"]())?e.attributes["$key?"]("notitle"):t},N.$$arity=0),t.defn($t,"$noheader",z=function(){var t=this;return t.attributes["$key?"]("noheader")},z.$$arity=0),t.defn($t,"$nofooter",P=function(){var t=this;return t.attributes["$key?"]("nofooter")},P.$$arity=0),t.defn($t,"$first_section",L=function(){var t,e,n=this;return l(t=n.header)?t:c(n.blocks,"find",[],(e=function(t){e.$$s||this;return null==t&&(t=$),t.$context()["$=="]("section")},e.$$s=n,e.$$arity=1,e))},L.$$arity=0),t.defn($t,"$has_header?",D=function(){var t=this;return!!l(t.header)},D.$$arity=0),t.alias($t,"header?","has_header?"),t.defn($t,"$<<",B=function(e){var n=this,r=B.$$p,i=$,a=$,o=$;for(r&&(B.$$p=null),a=0,o=arguments.length,i=new Array(o);a<o;a++)i[a]=arguments[a];return e.$context()["$=="]("section")&&n.$enumerate_section(e),c(n,t.find_super_dispatcher(n,"<<",B,!1),i,r)},B.$$arity=1),t.defn($t,"$finalize_header",j=function(n,r){var i=this,a=$;return null==r&&(r=!0),i.$clear_playback_attributes(n),i.$save_attributes(),l(r)||(a=["invalid-header",!0],c(n,"[]=",t.to_a(a)),a[e(a.length,1)]),n},j.$$arity=-2),t.defn($t,"$save_attributes",U=function(){var n,r,i,a=this,o=$,s=$,u=$,_=$,d=$,f=$,p=$,h=$,g=$,v=$;return(o=a.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(l(l(n=a["$attribute_locked?"]("toc"))?n:a.attributes_modified["$include?"]("toc"))||(s=["toc",""],c(o,"[]=",t.to_a(s)),s[e(s.length,1)]),l(l(n=a["$attribute_locked?"]("sectnums"))?n:a.attributes_modified["$include?"]("sectnums"))||(s=["sectnums",""],c(o,"[]=",t.to_a(s)),s[e(s.length,1)])),l(l(n=o["$key?"]("doctitle"))?n:(u=a.$doctitle())["$!"]())||(s=["doctitle",u],c(o,"[]=",t.to_a(s)),s[e(s.length,1)]),l(a.id)||(a.id=o["$[]"]("css-signature")),_=function(){return l(d=function(){return l(o.$delete("toc2"))?"left":o["$[]"]("toc")}())?l(l(n=f=o.$fetch("toc-placement","macro"))?f["$!="]("auto"):n)?f:o["$[]"]("toc-position"):$}(),l(l(n=d)?l(r=d["$empty?"]()["$!"]())?r:_["$nil_or_empty?"]()["$!"]():n)&&(p="left",h="toc2",g=l(_["$nil_or_empty?"]()["$!"]())?_:l(d["$empty?"]()["$!"]())?d:p,s=["toc",""],c(o,"[]=",t.to_a(s)),s[e(s.length,1)],s=["toc-placement","auto"],c(o,"[]=",t.to_a(s)),s[e(s.length,1)],v=g,"left"["$==="](v)||"<"["$==="](v)||"&lt;"["$==="](v)?(s=["toc-position","left"],c(o,"[]=",t.to_a(s)),s[e(s.length,1)]):"right"["$==="](v)||">"["$==="](v)||"&gt;"["$==="](v)?(s=["toc-position","right"],c(o,"[]=",t.to_a(s)),s[e(s.length,1)]):"top"["$==="](v)||"^"["$==="](v)?(s=["toc-position","top"],c(o,"[]=",t.to_a(s)),s[e(s.length,1)]):"bottom"["$==="](v)||"v"["$==="](v)?(s=["toc-position","bottom"],c(o,"[]=",t.to_a(s)),s[e(s.length,1)]):"preamble"["$==="](v)||"macro"["$==="](v)?(s=["toc-position","content"],c(o,"[]=",t.to_a(s)),s[e(s.length,1)],s=["toc-placement",g],c(o,"[]=",t.to_a(s)),s[e(s.length,1)],h=$):(o.$delete("toc-position"),h=$),l(h)&&(l(n=o["$[]"]("toc-class"))?n:(s=["toc-class",h],c(o,"[]=",t.to_a(s)),s[e(s.length,1)]))),l(a.compat_mode=o["$key?"]("compat-mode"))&&l(o["$key?"]("language"))&&(s=["source-language",o["$[]"]("language")],c(o,"[]=",t.to_a(s)),s[e(s.length,1)]),a.outfilesuffix=o["$[]"]("outfilesuffix"),a.header_attributes=o.$dup(),l(a.parent_document)?$:c(t.const_get_relative(st,"FLEXIBLE_ATTRIBUTES"),"each",[],(i=function(t){var e,n=i.$$s||this;return null==n.attribute_overrides&&(n.attribute_overrides=$),null==t&&(t=$),l(l(e=n.attribute_overrides["$key?"](t))?n.attribute_overrides["$[]"](t):e)?n.attribute_overrides.$delete(t):$},i.$$s=a,i.$$arity=1,i))},U.$$arity=0),t.defn($t,"$restore_attributes",F=function(){var t=this;return l(t.parent_document)||t.callouts.$rewind(),t.attributes=t.header_attributes},F.$$arity=0),t.defn($t,"$clear_playback_attributes",H=function(t){return t.$delete("attribute_entries")},H.$$arity=1),t.defn($t,"$playback_attributes",G=function(n){var r,i=this;return l(n["$key?"]("attribute_entries"))?c(n["$[]"]("attribute_entries"),"each",[],(r=function(n){var i=r.$$s||this,a=$,o=$;return null==i.attributes&&(i.attributes=$),null==n&&(n=$),a=n.$name(),l(n.$negate())?(i.attributes.$delete(a),a["$=="]("compat-mode")?i.compat_mode=!1:$):(o=[a,n.$value()],c(i.attributes,"[]=",t.to_a(o)),o[e(o.length,1)],a["$=="]("compat-mode")?i.compat_mode=!0:$)},r.$$s=i,r.$$arity=1,r)):$},G.$$arity=1),t.defn($t,"$set_attribute",Y=function(n,r){var i=this,a=$,o=$,s=$;return null==r&&(r=""),!l(i["$attribute_locked?"](n))&&(a=l(i.max_attribute_value_size)?i.$apply_attribute_value_subs(r).$limit_bytesize(i.max_attribute_value_size):i.$apply_attribute_value_subs(r),o=n,"backend"["$==="](o)?i.$update_backend_attributes(a,i.attributes_modified["$delete?"]("htmlsyntax")):"doctype"["$==="](o)?i.$update_doctype_attributes(a):(s=[n,a],c(i.attributes,"[]=",t.to_a(s)),s[e(s.length,1)]),i.attributes_modified["$<<"](n),a)},Y.$$arity=-2),t.defn($t,"$delete_attribute",W=function(t){var e=this;return!l(e["$attribute_locked?"](t))&&(e.attributes.$delete(t),e.attributes_modified["$<<"](t),!0)},W.$$arity=1),t.defn($t,"$attribute_locked?",K=function(t){var e=this;return e.attribute_overrides["$key?"](t)},K.$$arity=1),t.defn($t,"$apply_attribute_value_subs",X=function(e){var n,r=this;return l(t.const_get_relative(st,"AttributeEntryPassMacroRx")["$=~"](e))?l((n=d["~"])===$?$:n["$[]"](1))?r.$apply_subs((n=d["~"])===$?$:n["$[]"](2),r.$resolve_pass_subs((n=d["~"])===$?$:n["$[]"](1))):(n=d["~"])===$?$:n["$[]"](2):r.$apply_header_subs(e)},X.$$arity=1),t.defn($t,"$update_backend_attributes",V=function(n,r){var i,a,o=this,s=$,u=$,d=$,f=$,p=$,h=$,g=$,v=$,m=$,y=$,b=$;return null==r&&(r=$),l(l(i=r)?i:l(a=n)?n["$!="](o.backend):a)?(i=[o.backend,(s=o.attributes)["$[]"]("basebackend"),o.doctype],u=i[0],d=i[1],f=i[2],i,l(n["$start_with?"]("xhtml"))?(p=["htmlsyntax","xml"],c(s,"[]=",t.to_a(p)),p[e(p.length,1)],n=n["$[]"](_(1,-1,!1))):l(n["$start_with?"]("html"))&&(s["$[]"]("htmlsyntax")["$=="]("xml")||(p=["htmlsyntax","html"],c(s,"[]=",t.to_a(p)),p[e(p.length,1)])),l(h=t.const_get_relative(st,"BACKEND_ALIASES")["$[]"](n))&&(n=h),l(f)?(l(u)&&(s.$delete("backend-"+u),s.$delete("backend-"+u+"-doctype-"+f)),p=["backend-"+n+"-doctype-"+f,""],c(s,"[]=",t.to_a(p)),p[e(p.length,1)],p=["doctype-"+f,""],c(s,"[]=",t.to_a(p)),p[e(p.length,1)]):l(u)&&s.$delete("backend-"+u),p=["backend-"+n,""],c(s,"[]=",t.to_a(p)),p[e(p.length,1)],o.backend=(p=["backend",n],c(s,"[]=",t.to_a(p)),p[e(p.length,1)]),l(t.const_get_qualified(t.const_get_relative(st,"Converter"),"BackendInfo")["$==="](o.converter=o.$create_converter()))?(g=o.converter.$basebackend(),l(o["$attribute_locked?"]("outfilesuffix"))||(p=["outfilesuffix",o.converter.$outfilesuffix()],c(s,"[]=",t.to_a(p)),p[e(p.length,1)]),v=o.converter.$filetype()):l(o.converter)?(g=n.$sub(t.const_get_relative(st,"TrailingDigitsRx"),""),l(m=t.const_get_relative(st,"DEFAULT_EXTENSIONS")["$[]"](g))?v=m["$[]"](_(1,-1,!1)):(i=[".html","html","html"],m=i[0],g=i[1],v=i[2],i),l(o["$attribute_locked?"]("outfilesuffix"))||(p=["outfilesuffix",m],c(s,"[]=",t.to_a(p)),p[e(p.length,1)])):o.$raise(t.const_get_qualified("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+n+"'. Processing aborted."),l(y=s["$[]"]("filetype"))&&s.$delete("filetype-"+y),p=["filetype",v],c(s,"[]=",t.to_a(p)),p[e(p.length,1)],p=["filetype-"+v,""],c(s,"[]=",t.to_a(p)),p[e(p.length,1)],l(b=t.const_get_relative(st,"DEFAULT_PAGE_WIDTHS")["$[]"](g))?(p=["pagewidth",b],c(s,"[]=",t.to_a(p)),p[e(p.length,1)]):s.$delete("pagewidth"),l(g["$!="](d))&&(l(f)?(l(d)&&(s.$delete("basebackend-"+d),s.$delete("basebackend-"+d+"-doctype-"+f)),p=["basebackend-"+g+"-doctype-"+f,""],c(s,"[]=",t.to_a(p)),p[e(p.length,1)]):l(d)&&s.$delete("basebackend-"+d),p=["basebackend-"+g,""],c(s,"[]=",t.to_a(p)),p[e(p.length,1)],p=["basebackend",g],c(s,"[]=",t.to_a(p)),p[e(p.length,1)]),n):$},V.$$arity=-2),t.defn($t,"$update_doctype_attributes",J=function(n){var r,i=this,a=$,o=$,s=$,u=$,_=$;return l(l(r=n)?n["$!="](i.doctype):r)?(r=[i.backend,(a=i.attributes)["$[]"]("basebackend"),i.doctype],o=r[0],s=r[1],u=r[2],r,l(u)?(a.$delete("doctype-"+u),l(o)&&(a.$delete("backend-"+o+"-doctype-"+u),_=["backend-"+o+"-doctype-"+n,""],c(a,"[]=",t.to_a(_)),_[e(_.length,1)]),l(s)&&(a.$delete("basebackend-"+s+"-doctype-"+u),_=["basebackend-"+s+"-doctype-"+n,""],c(a,"[]=",t.to_a(_)),_[e(_.length,1)])):(l(o)&&(_=["backend-"+o+"-doctype-"+n,""],c(a,"[]=",t.to_a(_)),_[e(_.length,1)]),l(s)&&(_=["basebackend-"+s+"-doctype-"+n,""],c(a,"[]=",t.to_a(_)),_[e(_.length,1)])),_=["doctype-"+n,""],c(a,"[]=",t.to_a(_)),_[e(_.length,1)],i.doctype=(_=["doctype",n],c(a,"[]=",t.to_a(_)),_[e(_.length,1)])):$},J.$$arity=1),t.defn($t,"$create_converter",Z=function(){var n=this,r=$,i=$,a=$,o=$,s=$,_=$;return r=u([],{}),i=["htmlsyntax",n.attributes["$[]"]("htmlsyntax")],c(r,"[]=",t.to_a(i)),i[e(i.length,1)],a=function(){return l(o=n.options["$[]"]("template_dir"))?(i=["template_dirs",[o]],c(r,"[]=",t.to_a(i)),i[e(i.length,1)]):l(a=n.options["$[]"]("template_dirs"))?(i=["template_dirs",a],c(r,"[]=",t.to_a(i)),i[e(i.length,1)]):$}(),l(a)&&(i=["template_cache",n.options.$fetch("template_cache",!0)],c(r,"[]=",t.to_a(i)),i[e(i.length,1)],i=["template_engine",n.options["$[]"]("template_engine")],c(r,"[]=",t.to_a(i)),i[e(i.length,1)],i=["template_engine_options",n.options["$[]"]("template_engine_options")],c(r,"[]=",t.to_a(i)),i[e(i.length,1)],i=["eruby",n.options["$[]"]("eruby")],c(r,"[]=",t.to_a(i)),i[e(i.length,1)],i=["safe",n.safe],c(r,"[]=",t.to_a(i)),i[e(i.length,1)]),_=l(s=n.options["$[]"]("converter"))?t.const_get_qualified(t.const_get_relative(st,"Converter"),"Factory").$new(t.const_get_qualified("::","Hash")["$[]"](n.$backend(),s)):t.const_get_qualified(t.const_get_relative(st,"Converter"),"Factory").$default(!1),_.$create(n.$backend(),r)},Z.$$arity=0),t.defn($t,"$convert",Q=function(r){var i,a,o=this,s=$,_=$,d=$,f=$,p=$;return null==r&&(r=u([],{})),l(o.parsed)||o.$parse(),l(l(i=n(o.safe,t.const_get_qualified(t.const_get_relative(st,"SafeMode"),"SERVER")))?i:r["$empty?"]())||(l((s=["outfile",r["$[]"]("outfile")],c(o.attributes,"[]=",t.to_a(s)),s[e(s.length,1)]))||o.attributes.$delete("outfile"),l((s=["outdir",r["$[]"]("outdir")],c(o.attributes,"[]=",t.to_a(s)),s[e(s.length,1)]))||o.attributes.$delete("outdir")),o.$doctype()["$=="]("inline")?l(_=o.blocks["$[]"](0))&&(l(l(i=_.$content_model()["$=="]("compound"))?i:_.$content_model()["$=="]("empty"))?o.$warn("asciidoctor: WARNING: no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):d=_.$content()):(f=function(){return l(function(){return l(r["$key?"]("header_footer"))?r["$[]"]("header_footer"):o.options["$[]"]("header_footer")}())?"document":"embedded"}(),d=o.converter.$convert(o,f)),l(o.parent_document)||l(l(i=p=o.extensions)?p["$postprocessors?"]():i)&&c(p.$postprocessors(),"each",[],(a=function(t){var e=a.$$s||this;return null==t&&(t=$),d=t.$process_method()["$[]"](e,d)},a.$$s=o,a.$$arity=1,a)),d},Q.$$arity=-1),t.alias($t,"render","convert"),t.defn($t,"$write",tt=function(e,n){var r=this;return l(t.const_get_relative(st,"Writer")["$==="](r.converter))?r.converter.$write(e,n):(l(n["$respond_to?"]("write"))?l(e["$nil_or_empty?"]())||(n.$write(e.$chomp()),n.$write(t.const_get_relative(st,"EOL"))):t.const_get_qualified("::","IO").$write(n,e),$)},tt.$$arity=2),t.defn($t,"$content",et=function(){var e=this,n=et.$$p,r=$,i=$,a=$;for(n&&(et.$$p=null),i=0,a=arguments.length,r=new Array(a);i<a;i++)r[i]=arguments[i];return e.attributes.$delete("title"),c(e,t.find_super_dispatcher(e,"content",et,!1),r,n)},et.$$arity=0),t.defn($t,"$docinfo",nt=function(e,r){var a,o,s,_=this,d=$,f=$,p=$,h=$,g=$,v=$,m=$,y=$,b=$;return null==e&&(e="head"),null==r&&(r=$),l(n(_.$safe(),t.const_get_qualified(t.const_get_relative(st,"SafeMode"),"SECURE")))?"":(d=function(){return e["$=="]("head")?$:"-"+e}(),l(r)||(r=_.outfilesuffix),f=_.attributes["$[]"]("docinfodir"),p=$,h=l((h=_.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?l(_.attributes["$key?"]("docinfo2"))?["private","shared"]:l(_.attributes["$key?"]("docinfo1"))?["shared"]:function(){return l(h)?["private"]:$}():c(h.$split(","),"map",[],(a=function(t){a.$$s||this;return null==t&&(t=$),t.$strip()},a.$$s=_,a.$$arity=1,a)),l(h)&&(g="docinfo"+d+r,l(h["$&"](["shared","shared-"+e])["$empty?"]())||(v=_.$normalize_system_path(g,f),l(p=_.$read_asset(v,u(["normalize"],{normalize:!0})))&&(l((m=l(o=m)?o:_.$resolve_docinfo_subs())["$empty?"]())||(p=function(){return l(m["$=="]("attributes"))?_.$sub_attributes(p):_.$apply_subs(p,m)}()))),l(l(o=_.attributes["$[]"]("docname")["$nil_or_empty?"]())?o:h["$&"](["private","private-"+e])["$empty?"]())||(v=_.$normalize_system_path(""+_.attributes["$[]"]("docname")+"-"+g,f),l(y=_.$read_asset(v,u(["normalize"],{normalize:!0})))&&(l((m=l(o=m)?o:_.$resolve_docinfo_subs())["$empty?"]())||(y=function(){return l(m["$=="]("attributes"))?_.$sub_attributes(y):_.$apply_subs(y,m)}()),p=function(){return l(p)?""+p+t.const_get_relative(st,"EOL")+y:y}()))),l(l(o=_.extensions)?_["$docinfo_processors?"](e):o)&&(b=i(c(_.docinfo_processor_extensions["$[]"](e),"map",[],(s=function(t){var e=s.$$s||this;return null==t&&(t=$),t.$process_method()["$[]"](e)},s.$$s=_,s.$$arity=1,s)).$compact(),t.const_get_relative(st,"EOL")),p=function(){return l(p)?""+p+t.const_get_relative(st,"EOL")+b:b}()),""+p)},nt.$$arity=-1),t.defn($t,"$resolve_docinfo_subs",rt=function(){var t=this;return l(t.attributes["$key?"]("docinfosubs"))?t.$resolve_subs(t.attributes["$[]"]("docinfosubs"),"block",$,"docinfo"):"attributes"},rt.$$arity=0),t.defn($t,"$docinfo_processors?",it=function(n){var r,i=this,a=$;return null==n&&(n="head"),l(i.docinfo_processor_extensions["$key?"](n))?i.docinfo_processor_extensions["$[]"](n)["$!="](!1):l(l(r=i.extensions)?i.document.$extensions()["$docinfo_processors?"](n):r)?(a=[n,i.document.$extensions().$docinfo_processors(n)],
c(i.docinfo_processor_extensions,"[]=",t.to_a(a)),a[e(a.length,1)])["$!"]()["$!"]():(a=[n,!1],c(i.docinfo_processor_extensions,"[]=",t.to_a(a)),a[e(a.length,1)])},it.$$arity=-1),t.defn($t,"$to_s",at=function(){var t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {doctype: "+t.$doctype().$inspect()+", doctitle: "+function(){return l(t.header["$!="]($))?t.header.$title():$}().$inspect()+", blocks: "+t.blocks.$size()+"}>"},at.$$arity=0),$&&"to_s"}(g[0],t.const_get_relative(g,"AbstractBlock"),g)}(a[0],a)},Opal.modules["asciidoctor/inline"]=function(t){var e=(t.top,[]),n=t.nil,r=(t.breaker,t.slice,t.module),i=t.klass,a=t.send,$=t.truthy,o=t.hash2;return t.add_stubs(["$attr_reader","$attr_accessor","$[]","$nil_or_empty?","$update_attributes","$convert","$converter"]),function(e,s){var l,c=l=r(e,"Asciidoctor"),u=(c.$$proto,[c].concat(s));!function(e,r,s){function l(){}var c,u,_,d,f=l=i(e,r,"Inline",l);f.$$proto,[f].concat(s);return f.$attr_reader("text"),f.$attr_reader("type"),f.$attr_accessor("target"),t.defn(f,"$initialize",c=function(e,r,i,s){var l=this,u=c.$$p,_=n;return null==i&&(i=n),null==s&&(s=o([],{})),u&&(c.$$p=null),a(l,t.find_super_dispatcher(l,"initialize",c,!1),[e,r],null),l.node_name="inline_"+r,l.text=i,l.id=s["$[]"]("id"),l.type=s["$[]"]("type"),l.target=s["$[]"]("target"),$((_=s["$[]"]("attributes"))["$nil_or_empty?"]())?n:l.$update_attributes(_)},c.$$arity=-3),t.defn(f,"$block?",u=function(){return!1},u.$$arity=0),t.defn(f,"$inline?",_=function(){return!0},_.$$arity=0),t.defn(f,"$convert",d=function(){var t=this;return t.$converter().$convert(t)},d.$$arity=0),t.alias(f,"render","convert")}(u[0],t.const_get_relative(u,"AbstractNode"),u)}(e[0],e)},Opal.modules["asciidoctor/list"]=function(t){var e=(t.top,[]),n=t.nil,r=(t.breaker,t.slice,t.module),i=t.klass,a=t.send,$=t.truthy;return t.add_stubs(["$==","$next_list","$callouts","$class","$object_id","$inspect","$size","$items","$attr_accessor","$level","$dup","$!","$nil_or_empty?","$apply_subs","$empty?","$===","$[]","$outline?","$simple?","$context","$option?","$shift","$blocks","$unshift","$lines","$source","$parent"]),function(e,o){var s,l=s=r(e,"Asciidoctor"),c=(l.$$proto,[l].concat(o));!function(e,r,o){function s(){}var l,c,u,_,d=s=i(e,r,"List",s),f=d.$$proto;[d].concat(o);return f.context=f.document=f.style=n,t.alias(d,"items","blocks"),t.alias(d,"content","blocks"),t.alias(d,"items?","blocks?"),t.defn(d,"$initialize",l=function(e,r){var i=this,$=l.$$p,o=n,s=n,c=n;for($&&(l.$$p=null),s=0,c=arguments.length,o=new Array(c);s<c;s++)o[s]=arguments[s];return a(i,t.find_super_dispatcher(i,"initialize",l,!1),o,$)},l.$$arity=2),t.defn(d,"$outline?",c=function(){var t,e=this;return $(t=e.context["$=="]("ulist"))?t:e.context["$=="]("olist")},c.$$arity=0),t.defn(d,"$convert",u=function(){var e=this,r=u.$$p,i=n,$=n,o=n,s=n;for(r&&(u.$$p=null),o=0,s=arguments.length,$=new Array(s);o<s;o++)$[o]=arguments[o];return e.context["$=="]("colist")?(i=a(e,t.find_super_dispatcher(e,"convert",u,!1),$,r),e.document.$callouts().$next_list(),i):a(e,t.find_super_dispatcher(e,"convert",u,!1),$,r)},u.$$arity=0),t.alias(d,"render","convert"),t.defn(d,"$to_s",_=function(){var t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {context: "+t.context.$inspect()+", style: "+t.style.$inspect()+", items: "+t.$items().$size()+"}>"},_.$$arity=0),n&&"to_s"}(c[0],t.const_get_relative(c,"AbstractBlock"),c),function(e,r,o){function s(){}var l,c,u,_,d,f,p,h,g=s=i(e,r,"ListItem",s),v=g.$$proto,m=[g].concat(o);return v.text=v.subs=v.blocks=n,t.alias(g,"list","parent"),g.$attr_accessor("marker"),t.defn(g,"$initialize",l=function(e,r){var i=this,$=l.$$p;return null==r&&(r=n),$&&(l.$$p=null),a(i,t.find_super_dispatcher(i,"initialize",l,!1),[e,"list_item"],null),i.text=r,i.level=e.$level(),i.subs=t.const_get_relative(m,"NORMAL_SUBS").$dup()},l.$$arity=-2),t.defn(g,"$text?",c=function(){var t=this;return t.text["$nil_or_empty?"]()["$!"]()},c.$$arity=0),t.defn(g,"$text",u=function(){var t=this;return t.$apply_subs(t.text,t.subs)},u.$$arity=0),t.defn(g,"$text=",_=function(t){var e=this;return e.text=t},_.$$arity=1),t.defn(g,"$simple?",d=function(){var e,r,i,a=this,o=n;return $(e=a.blocks["$empty?"]())?e:$(r=(i=a.blocks.$size()["$=="](1))?t.const_get_relative(m,"List")["$==="](o=a.blocks["$[]"](0)):a.blocks.$size()["$=="](1))?o["$outline?"]():r},d.$$arity=0),t.defn(g,"$compound?",f=function(){var t=this;return t["$simple?"]()["$!"]()},f.$$arity=0),t.defn(g,"$fold_first",p=function(e,r){var i,a,o,s,l,c=this,u=n,_=n;return null==e&&(e=!1),null==r&&(r=!1),$($(i=$(a=u=c.blocks["$[]"](0))?t.const_get_relative(m,"Block")["$==="](u):a)?$(a=(o=u.$context()["$=="]("paragraph"))?e["$!"]():u.$context()["$=="]("paragraph"))?a:$(o=$(s=$(l=r)?l:e["$!"]())?u.$context()["$=="]("literal"):s)?u["$option?"]("listparagraph"):o:i)&&(_=c.$blocks().$shift(),$(c.text["$nil_or_empty?"]())||_.$lines().$unshift(c.text),c.text=_.$source()),n},p.$$arity=-1),t.defn(g,"$to_s",h=function(){var t,e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {list_context: "+e.$parent().$context().$inspect()+", text: "+e.text.$inspect()+", blocks: "+($(t=e.blocks)?t:[]).$size()+"}>"},h.$$arity=0),n&&"to_s"}(c[0],t.const_get_relative(c,"AbstractBlock"),c)}(e[0],e)},Opal.modules["asciidoctor/parser"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var o=(t.top,[]),s=t.nil,l=(t.breaker,t.slice,t.module),c=t.klass,u=t.send,_=t.truthy,d=t.hash2,f=t.hash,p=t.gvars,h=t.range;return t.add_stubs(["$new","$lambda","$start_with?","$match?","$is_delimited_block?","$raise","$parse_document_header","$[]","$has_more_lines?","$next_section","$<<","$parse_block_metadata_lines","$is_next_line_doctitle?","$attributes","$key?","$finalize_header","$nil_or_empty?","$title=","$-","$sourcemap","$cursor","$parse_section_title","$id=","$attribute_locked?","$set_attr","$delete","$source_location=","$header","$[]=","$id","$parse_style_attribute","$parse_header_metadata","$==","$doctype","$parse_manpage_header","$=~","$sub_attributes","$downcase","$warn","$prev_line_info","$skip_blank_lines","$is_next_line_section?","$initialize_section","$level","$join","$read_lines_until","$match","$backend","$context","$empty?","$blocks","$has_header?","$!","$!=","$attr?","$attr","$document","$sectname","$+","$to_i","$>","$line_info","$include?","$size","$*","$next_block","$blocks?","$style","$context=","$style=","$parent=","$content_model","$shift","$unwrap_standalone_preamble","$dup","$fetch","$===","$extensions","$block_macros?","$parse_block_metadata_line","$advance","$read_line","$terminator","$to_s","$masq","$to_sym","$registered_for_block?","$strict_verbatim_paragraphs","$unshift_line","$markdown_syntax","$lstrip","$keys","$chr","$length","$end_with?","$parse_attributes","$attribute_missing","$clear","$registered_for_block_macro?","$config","$update","$process_method","$replace","$peek_line","$path","$lineno","$next_list_item","$callout_ids","$callouts","$items","$next_list","$next_item_list","$each","$catalog_inline_biblio_anchor","$instance_variable_get","$marker","$find","$next_description_list","$underline_style_section_titles","$is_section_title?","$generate_id","$title","$level=","$read_paragraph_lines","$adjust_indentation!","$set_option","$catalog_inline_anchors","$post_match","$map!","$split","$pop","$build_block","$chop","$rekey","$index","$slice","$strip","$<","$next_table","$concat","$register","$tr","$basename","$sub_specialchars","$assign_caption","$ord","$caption","$caption=","$title?","$lock_in_subs","$sub?","$catalog_callouts","$source","$remove_sub","$block_terminates_paragraph","$to_proc","$<=","$nil?","$lines","$parse_blocks","$resolve_list_marker","$items?","$parent","$scan","$gsub","$marker=","$read_lines_for_list_item","$skip_line_comments","$unshift_lines","$fold_first","$text?","$is_sibling_list_item?","$delete_at","$casecmp","$sectname=","$special=","$numbered=","$special","$numbered","$update_attributes","$peek_lines","$is_single_line_section_title?","$is_two_line_section_title?","$abs","$line_length","$process_attribute_entries","$next_line_empty?","$process_authors","$apply_header_subs","$rstrip","$each_with_index","$map","$compact","$Array","$squeeze","$to_a","$process_attribute_entry","$skip_comment_lines","$store_attribute","$sanitize_attribute_name","$set_attribute","$save_to","$delete_attribute","$resolve_ordered_list_marker","$roman_numeral_to_int","$parse_colspecs","$create_columns","$format","$starts_with_delimiter?","$close_open_cell","$parse_cellspec","$delimiter","$match_delimiter","$buffer_has_unclosed_quotes?","$pre_match","$skip_past_delimiter","$buffer","$buffer=","$skip_past_escaped_delimiter","$keep_cell_open","$push_cellspec","$close_cell","$cell_open?","$columns","$assign_column_widths","$has_header_option=","$partition_header_footer","$upto","$shorthand_property_syntax","$each_char","$call","$sub!","$gsub!","$%","$begin"]),function(o,g){var v,m=v=l(o,"Asciidoctor"),y=(m.$$proto,[m].concat(g));!function(o,l,g){function v(){}var m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P,L,D,B,j,U,F,H,G,Y,W,K,X,V,J,Z,Q,tt,et,nt,rt,it,at,$t,ot,st,lt,ct,ut=v=c(o,l,"Parser",v),_t=(ut.$$proto,[ut].concat(g));return t.const_set(_t[0],"BlockMatchData",t.const_get_relative(_t,"Struct").$new("context","masq","tip","terminator")),t.const_set(_t[0],"TabRx",/\t/),t.const_set(_t[0],"TabIndentRx",/^\t+/),t.const_set(_t[0],"StartOfBlockProc",u(ut,"lambda",[],(m=function(e){var n,r,i=m.$$s||this;return null==e&&(e=s),_(n=_(r=e["$start_with?"]("["))?t.const_get_relative(_t,"BlockAttributeLineRx")["$match?"](e):r)?n:i["$is_delimited_block?"](e)},m.$$s=ut,m.$$arity=1,m))),t.const_set(_t[0],"StartOfListProc",u(ut,"lambda",[],(y=function(e){y.$$s||this;return null==e&&(e=s),t.const_get_relative(_t,"AnyListRx")["$match?"](e)},y.$$s=ut,y.$$arity=1,y))),t.const_set(_t[0],"StartOfBlockOrListProc",u(ut,"lambda",[],(b=function(e){var n,r,i,a=b.$$s||this;return null==e&&(e=s),_(n=_(r=a["$is_delimited_block?"](e))?r:_(i=e["$start_with?"]("["))?t.const_get_relative(_t,"BlockAttributeLineRx")["$match?"](e):i)?n:t.const_get_relative(_t,"AnyListRx")["$match?"](e)},b.$$s=ut,b.$$arity=1,b))),t.const_set(_t[0],"NoOp",s),t.const_set(_t[0],"TableCellHorzAlignments",d(["<",">","^"],{"<":"left",">":"right","^":"center"})),t.const_set(_t[0],"TableCellVertAlignments",d(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),t.const_set(_t[0],"TableCellStyles",d(["d","s","e","m","h","l","v","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"})),t.defn(ut,"$initialize",k=function(){var t=this;return t.$raise("Au contraire, mon frere. No parser instances will be running around.")},k.$$arity=0),t.defs(ut,"$parse",w=function(e,n,r){var i,a,$=this,o=s,l=s;if(null==r&&(r=d([],{})),o=$.$parse_document_header(e,n),_(r["$[]"]("header_only")));else for(;_(e["$has_more_lines?"]());)a=$.$next_section(e,n,o),i=t.to_ary(a),l=null==i[0]?s:i[0],o=null==i[1]?s:i[1],a,_(l)&&n["$<<"](l);return n},w.$$arity=-3),t.defs(ut,"$parse_document_header",x=function(n,r){var i,a,$=this,o=s,l=s,c=s,d=s,p=s,h=s,g=s,v=s,m=s,y=s,b=s,k=s,w=s;return o=$.$parse_block_metadata_lines(n,r),_(_(i=l=$["$is_next_line_doctitle?"](n,o,r.$attributes()["$[]"]("leveloffset")))?o["$key?"]("title"):i)?r.$finalize_header(o,!1):(c=s,_((d=r.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())||(p=[c=d],u(r,"title=",t.to_a(p)),p[e(p.length,1)]),h=s,_(l)&&(_(r.$sourcemap())&&(g=n.$cursor()),a=$.$parse_section_title(n,r),i=t.to_ary(a),r["$id="](null==i[0]?s:i[0]),v=null==i[1]?s:i[1],m=null==i[2]?s:i[2],v=null==i[3]?s:i[3],y=null==i[4]?s:i[4],a,_(c)||(p=[c=m],u(r,"title=",t.to_a(p)),p[e(p.length,1)]),_(_(i=y)?i:r["$attribute_locked?"]("compat-mode"))||r.$set_attr("compat-mode"),_(b=o.$delete("separator"))&&(_(r["$attribute_locked?"]("title-separator"))||r.$set_attr("title-separator",b)),_(g)&&(p=[g],u(r.$header(),"source_location=",t.to_a(p)),p[e(p.length,1)]),p=["doctitle",h=m],u(r.$attributes(),"[]=",t.to_a(p)),p[e(p.length,1)],_(r.$id())?(o.$delete(1),o.$delete("id")):(_(k=o.$delete(1))&&(w=f(1,k),$.$parse_style_attribute(w,n),_(w["$key?"]("id"))&&(p=["id",w["$[]"]("id")],u(o,"[]=",t.to_a(p)),p[e(p.length,1)])),p=[o.$delete("id")],u(r,"id=",t.to_a(p)),p[e(p.length,1)]),$.$parse_header_metadata(n,r)),_(_(i=(d=r.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())?i:d["$=="](h))||(p=[c=d],u(r,"title=",t.to_a(p)),p[e(p.length,1)]),_(c)&&(p=["doctitle",c],u(r.$attributes(),"[]=",t.to_a(p)),p[e(p.length,1)]),r.$doctype()["$=="]("manpage")&&$.$parse_manpage_header(n,r),r.$finalize_header(o))},x.$$arity=2),t.defs(ut,"$parse_manpage_header",E=function(n,r){var i,a=this,$=s,o=s,l=s,c=s;return _(t.const_get_relative(_t,"ManpageTitleVolnumRx")["$=~"](r.$attributes()["$[]"]("doctitle")))?($=["mantitle",r.$sub_attributes(((i=p["~"])===s?s:i["$[]"](1)).$downcase())],u(r.$attributes(),"[]=",t.to_a($)),$[e($.length,1)],$=["manvolnum",(i=p["~"])===s?s:i["$[]"](2)],u(r.$attributes(),"[]=",t.to_a($)),$[e($.length,1)]):(a.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": malformed manpage title"),$=["mantitle",r.$attributes()["$[]"]("doctitle")],u(r.$attributes(),"[]=",t.to_a($)),$[e($.length,1)],$=["manvolnum","1"],u(r.$attributes(),"[]=",t.to_a($)),$[e($.length,1)]),n.$skip_blank_lines(),_(a["$is_next_line_section?"](n,d([],{})))?(o=a.$initialize_section(n,r,d([],{})),o.$level()["$=="](1)?(l=n.$read_lines_until(d(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" "),_(c=t.const_get_relative(_t,"ManpageNamePurposeRx").$match(l))?($=["manname",r.$sub_attributes(c["$[]"](1))],u(r.$attributes(),"[]=",t.to_a($)),$[e($.length,1)],$=["manpurpose",c["$[]"](2)],u(r.$attributes(),"[]=",t.to_a($)),$[e($.length,1)],r.$backend()["$=="]("manpage")?($=["docname",r.$attributes()["$[]"]("manname")],u(r.$attributes(),"[]=",t.to_a($)),$[e($.length,1)],$=["outfilesuffix","."+r.$attributes()["$[]"]("manvolnum")],u(r.$attributes(),"[]=",t.to_a($)),$[e($.length,1)]):s):a.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": malformed name section body")):a.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": name section title must be at level 1")):a.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": name section expected")},E.$$arity=2),t.defs(ut,"$next_section",O=function(a,$,o){var l,c,f,p=this,h=s,g=s,v=s,m=s,y=s,b=s,k=s,w=s,x=s,E=s,O=s,A=s,S=s,R=s,M=s,T=s,I=s;for(null==o&&(o=d([],{})),h=g=v=!1,_(_(l=(c=$.$context()["$=="]("document"))?$.$blocks()["$empty?"]():$.$context()["$=="]("document"))?_(c=_(f=m=$["$has_header?"]())?f:o.$delete("invalid-header"))?c:p["$is_next_line_section?"](a,o)["$!"]():l)?(y=(b=$).$doctype(),_(_(l=m)?l:(c=y["$=="]("book"))?o["$[]"](1)["$!="]("abstract"):y["$=="]("book"))&&(h=g=t.const_get_relative(_t,"Block").$new($,"preamble",d(["content_model"],{content_model:"compound"})),_((l=y["$=="]("book"))?$["$attr?"]("preface-title"):y["$=="]("book"))&&(k=[$.$attr("preface-title")],u(h,"title=",t.to_a(k)),k[e(k.length,1)]),$["$<<"](h)),w=$,x=0,E=_($.$attributes()["$key?"]("fragment"))?s:y["$=="]("book")?[0,1]:[1]):(y=(b=$.$document()).$doctype(),w=p.$initialize_section(a,$,o),o=function(){return _(O=o["$[]"]("title"))?d(["title"],{title:O}):d([],{})}(),v=w.$sectname()["$=="]("part"),E=[n(x=w.$level(),1)]),a.$skip_blank_lines();_(a["$has_more_lines?"]());){if(p.$parse_block_metadata_lines(a,b,o),_(A=p["$is_next_line_section?"](a,o))){if(_(b["$attr?"]("leveloffset"))&&(A=n(A,b.$attr("leveloffset").$to_i())),!_(_(c=r(A,x))?c:(f=A["$=="](0))?w.$context()["$=="]("document"):A["$=="](0))){_((c=A["$=="](0))?y["$!="]("book"):A["$=="](0))&&p.$warn("asciidoctor: ERROR: "+a.$line_info()+": only book doctypes can contain level 0 sections");break}_((c=A["$=="](0))?y["$!="]("book"):A["$=="](0))?p.$warn("asciidoctor: ERROR: "+a.$line_info()+": only book doctypes can contain level 0 sections"):_(_(c=E)?E["$include?"](A)["$!"]():c)&&p.$warn("asciidoctor: WARNING: "+a.$line_info()+": section title out of sequence: expected "+function(){return _(r(E.$size(),1))?"levels":"level"}()+" "+i(E," or ")+", got level "+A),f=p.$next_section(a,w,o),c=t.to_ary(f),S=null==c[0]?s:c[0],o=null==c[1]?s:c[1],f,w["$<<"](S)}else R=a.$line_info(),_(M=p.$next_block(a,_(c=g)?c:w,o,d(["parse_metadata"],{parse_metadata:!1})))&&(_(v)&&(_(w["$blocks?"]()["$!"]())?_(M.$style()["$!="]("partintro"))&&(M.$context()["$=="]("paragraph")?(k=["open"],u(M,"context=",t.to_a(k)),k[e(k.length,1)],k=["partintro"],u(M,"style=",t.to_a(k)),k[e(k.length,1)]):(g=t.const_get_relative(_t,"Block").$new(w,"open",d(["content_model"],{content_model:"compound"})),k=["partintro"],u(g,"style=",t.to_a(k)),k[e(k.length,1)],k=[g],u(M,"parent=",t.to_a(k)),k[e(k.length,1)],w["$<<"](g))):w.$blocks().$size()["$=="](1)&&(T=w.$blocks()["$[]"](0),_(_(c=g["$!"]())?T.$content_model()["$=="]("compound"):c)?p.$warn("asciidoctor: ERROR: "+R+": illegal block content outside of partintro block"):_(T.$content_model()["$!="]("compound"))&&(g=t.const_get_relative(_t,"Block").$new(w,"open",d(["content_model"],{content_model:"compound"})),k=["partintro"],u(g,"style=",t.to_a(k)),k[e(k.length,1)],w.$blocks().$shift(),T.$style()["$=="]("partintro")&&(k=["paragraph"],u(T,"context=",t.to_a(k)),k[e(k.length,1)],k=[s],u(T,"style=",t.to_a(k)),k[e(k.length,1)]),k=[g],u(T,"parent=",t.to_a(k)),k[e(k.length,1)],g["$<<"](T),k=[g],u(M,"parent=",t.to_a(k)),k[e(k.length,1)],w["$<<"](g)))),(_(c=g)?c:w)["$<<"](M),o=d([],{}));a.$skip_blank_lines()}if(_(v))_(_(l=w["$blocks?"]())?w.$blocks()["$[]"](-1).$context()["$=="]("section"):l)||p.$warn("asciidoctor: ERROR: "+a.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(_(h))if(_(h["$blocks?"]())){if(_(_(l=_(c=t.const_get_relative(_t,"Compliance").$unwrap_standalone_preamble())?b.$blocks().$size()["$=="](1):c)?y["$!="]("book"):l))for(b.$blocks().$shift();_(I=h.$blocks().$shift());)k=[b],u(I,"parent=",t.to_a(k)),k[e(k.length,1)],b["$<<"](I)}else b.$blocks().$shift();return[function(){return _(w["$!="]($))?w:s}(),o.$dup()]},O.$$arity=-3),t.defs(ut,"$next_block",A=function($,o,l,c){var f,p,g,v,m,y,b,k,w,x,E,O=this,A=s,S=s,R=s,M=s,T=s,I=s,q=s,C=s,N=s,z=s,P=s,L=s,D=s,B=s,j=s,U=s,F=s,H=s,G=s,Y=s,W=s,K=s,X=s,V=s,J=s,Z=s,Q=s,tt=s,et=s,nt=s,rt=s,it=s,at=s,$t=s,ot=s,st=s,lt=s,ct=s,ut=s,dt=s,ft=s,pt=s,ht=s,gt=s,vt=s,mt=s,yt=s,bt=s,kt=s,wt=s,xt=s,Et=s,Ot=s,At=s,St=s,Rt=s,Mt=s,Tt=s,It=s;if(null==l&&(l=d([],{})),null==c&&(c=d([],{})),A=$.$skip_blank_lines(),!_($["$has_more_lines?"]()))return s;for(_(_(f=S=c["$[]"]("text"))?r(A,0):f)&&(c.$delete("text"),S=!1),R=c.$fetch("parse_metadata",!0),f=[o.$document(),s,t.const_get_relative(_t,"ListItem")["$==="](o)],M=f[0],T=f[1],I=f[2],f,f=[M.$sourcemap(),s],q=f[0],C=f[1],f,_(N=M.$extensions())?(f=[N["$blocks?"](),N["$block_macros?"]()],z=f[0],P=f[1],f):z=P=!1;_(_(p=T["$!"]())?$["$has_more_lines?"]():p);)if(_(_(p=R)?O.$parse_block_metadata_line($,M,l,c):p))$.$advance();else{if(_(q)&&(C=$.$cursor()),L=$.$read_line(),D=B=j=U=s,F=function(){return _(l["$[]"](1))?O.$parse_style_attribute(l,$):s}(),_(H=O["$is_delimited_block?"](L,!0))&&(D=!0,B=j=H.$context(),U=H.$terminator(),_(F["$!"]())?(G=["style",B.$to_s()],u(l,"[]=",t.to_a(G)),F=G[e(G.length,1)]):_(F["$!="](B.$to_s()))&&(_(H.$masq()["$include?"](F))?B=F.$to_sym():_(_(p=H.$masq()["$include?"]("admonition"))?t.const_get_relative(_t,"ADMONITION_STYLES")["$include?"](F):p)?B="admonition":_(_(p=z)?N["$registered_for_block?"](F,B):p)?B=F.$to_sym():(O.$warn("asciidoctor: WARNING: "+$.$prev_line_info()+": invalid style for "+B+" block: "+F),F=B.$to_s()))),_(D));else for(;_(!0);){if(_(_(g=_(v=F)?t.const_get_relative(_t,"Compliance").$strict_verbatim_paragraphs():v)?t.const_get_relative(_t,"VERBATIM_STYLES")["$include?"](F):g)){B=F.$to_sym(),$.$unshift_line(L);break}if(_(S))Y=L["$start_with?"](" ",t.const_get_relative(_t,"TAB"));else if(W=t.const_get_relative(_t,"Compliance").$markdown_syntax(),_(L["$start_with?"](" "))){if(g=[!0," "],Y=g[0],K=g[1],g,_(_(g=_(v=W)?u(L.$lstrip(),"start_with?",t.to_a(t.const_get_relative(_t,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):v)?t.const_get_relative(_t,"MarkdownThematicBreakRx")["$match?"](L):g)){T=t.const_get_relative(_t,"Block").$new(o,"thematic_break",d(["content_model"],{content_model:"empty"}));break}}else if(_(L["$start_with?"](t.const_get_relative(_t,"TAB"))))g=[!0,t.const_get_relative(_t,"TAB")],Y=g[0],K=g[1],g;else{if(g=[!1,L.$chr()],Y=g[0],K=g[1],g,X=function(){return _(W)?t.const_get_relative(_t,"HYBRID_LAYOUT_BREAK_CHARS"):t.const_get_relative(_t,"LAYOUT_BREAK_CHARS")}(),_(_(g=X["$key?"](K))?function(){return _(W)?t.const_get_relative(_t,"HybridLayoutBreakRx")["$match?"](L):(v=L["$=="](i(K,V=L.$length())))?r(V,2):L["$=="](i(K,V=L.$length()))}():g)){T=t.const_get_relative(_t,"Block").$new(o,X["$[]"](K),d(["content_model"],{content_model:"empty"}));break}if(_(_(g=L["$end_with?"]("]"))?L["$include?"]("::"):g)){if(_(_(g=_(v=K["$=="]("i"))?v:L["$start_with?"]("video:","audio:"))?J=t.const_get_relative(_t,"MediaBlockMacroRx").$match(L):g)){if(Z=J["$[]"](1).$to_sym(),T=t.const_get_relative(_t,"Block").$new(o,Z,d(["content_model"],{content_model:"empty"})),Q=Z,tt="video"["$==="](Q)?["poster","width","height"]:"audio"["$==="](Q)?[]:["alt","width","height"],T.$parse_attributes(J["$[]"](3),tt,d(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:l})),_(l["$key?"]("style"))&&(_(_(g=F)?Z["$=="]("image"):g)&&(_(g=l["$[]"]("alt"))?g:(G=["alt",F],u(l,"[]=",t.to_a(G)),G[e(G.length,1)])),l.$delete("style")),_((et=J["$[]"](2))["$include?"]("{"))&&(et=T.$sub_attributes(et,d(["attribute_missing"],{attribute_missing:"drop-line"}))),_(et["$empty?"]()))return M.$attributes().$fetch("attribute-missing",t.const_get_relative(_t,"Compliance").$attribute_missing())["$=="]("skip")?t.const_get_relative(_t,"Block").$new(o,"paragraph",d(["content_model","source"],{content_model:"simple",source:[L]})):(l.$clear(),s);G=["target",et],u(l,"[]=",t.to_a(G)),G[e(G.length,1)];break}if(_(_(g=(v=K["$=="]("t"))?L["$start_with?"]("toc:"):K["$=="]("t"))?J=t.const_get_relative(_t,"TocBlockMacroRx").$match(L):g)){T=t.const_get_relative(_t,"Block").$new(o,"toc",d(["content_model"],{content_model:"empty"})),T.$parse_attributes(J["$[]"](1),[],d(["sub_result","into"],{sub_result:!1,into:l}));break}if(_(_(g=_(v=P)?J=t.const_get_relative(_t,"GenericBlockMacroRx").$match(L):v)?nt=N["$registered_for_block_macro?"](J["$[]"](1)):g)){if(et=J["$[]"](2),rt=J["$[]"](3),nt.$config()["$[]"]("content_model")["$=="]("attributes")?_(rt["$empty?"]())||M.$parse_attributes(rt,_(g=nt.$config()["$[]"]("pos_attrs"))?g:[],d(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:l})):(G=["text",rt],u(l,"[]=",t.to_a(G)),G[e(G.length,1)]),_(it=nt.$config()["$[]"]("default_attrs"))&&u(l,"update",[it],(m=function(t,e){m.$$s||this;return null==t&&(t=s),null==e&&(e=s),e},m.$$s=O,m.$$arity=2,m)),!_(T=nt.$process_method()["$[]"](o,et,l)))return l.$clear(),s;l.$replace(T.$attributes());break}}}if(_(_(g=_(v=_(y=Y["$!"]())?t.const_get_relative(_t,"CALLOUT_LIST_LEADERS")["$include?"](K=_(b=K)?b:L.$chr()):y)?t.const_get_relative(_t,"CalloutListSniffRx")["$match?"](L):v)?J=t.const_get_relative(_t,"CalloutListRx").$match(L):g)){for(T=t.const_get_relative(_t,"List").$new(o,"colist"),G=["style","arabic"],u(l,"[]=",t.to_a(G)),G[e(G.length,1)],$.$unshift_line(L),at=1;_(_(v=J)?v:_(y=$["$has_more_lines?"]())?J=t.const_get_relative(_t,"CalloutListRx").$match($.$peek_line()):y);)_(J["$[]"](1).$to_i()["$!="](at))&&O.$warn("asciidoctor: WARNING: "+$.$path()+": line "+e($.$lineno(),2)+": callout list item index: expected "+at+" got "+J["$[]"](1)),$t=O.$next_list_item($,T,J),at=n(at,1),_($t)&&(T["$<<"]($t),ot=M.$callouts().$callout_ids(T.$items().$size()),_(ot["$empty?"]()["$!"]())?(G=["coids",ot],u($t.$attributes(),"[]=",t.to_a(G)),G[e(G.length,1)]):O.$warn("asciidoctor: WARNING: "+$.$path()+": line "+e($.$lineno(),2)+": no callouts refer to list item "+T.$items().$size())),J=s;M.$callouts().$next_list();break}if(_(t.const_get_relative(_t,"UnorderedListRx")["$match?"](L))){$.$unshift_line(L),T=O.$next_item_list($,"ulist",o),(_(g=F)?g:_(v=t.const_get_relative(_t,"Section")["$==="](o))?o.$sectname():v)["$=="]("bibliography")&&(_(F)||(G=["style","bibliography"],u(l,"[]=",t.to_a(G)),G[e(G.length,1)]),u(T.$items(),"each",[],(k=function(t){var e=k.$$s||this;return null==t&&(t=s),e.$catalog_inline_biblio_anchor(t.$instance_variable_get("@text"),M)},k.$$s=O,k.$$arity=1,k)));break}if(_(J=t.const_get_relative(_t,"OrderedListRx").$match(L))){$.$unshift_line(L),T=O.$next_item_list($,"olist",o),_(F)||(st=T.$items()["$[]"](0).$marker(),_(st["$start_with?"]("."))?(G=["style",(_(g=t.const_get_relative(_t,"ORDERED_LIST_STYLES")["$[]"](e(st.$length(),1)))?g:"arabic").$to_s()],u(l,"[]=",t.to_a(G)),G[e(G.length,1)]):(G=["style",(_(g=u(t.const_get_relative(_t,"ORDERED_LIST_STYLES"),"find",[],(w=function(e){w.$$s||this;return null==e&&(e=s),t.const_get_relative(_t,"OrderedListMarkerRxMap")["$[]"](e)["$match?"](st)},w.$$s=O,w.$$arity=1,w)))?g:"arabic").$to_s()],u(l,"[]=",t.to_a(G)),G[e(G.length,1)]));break}if(_(J=t.const_get_relative(_t,"DescriptionListRx").$match(L))){$.$unshift_line(L),T=O.$next_description_list($,J,o);break}if(_(_(g=_(v=F["$=="]("float"))?v:F["$=="]("discrete"))?function(){return _(t.const_get_relative(_t,"Compliance").$underline_style_section_titles())?O["$is_section_title?"](L,$.$peek_line(!0)):_(v=Y["$!"]())?O["$is_section_title?"](L):v}():g)){$.$unshift_line(L),v=O.$parse_section_title($,M),g=t.to_ary(v),lt=null==g[0]?s:g[0],ct=null==g[1]?s:g[1],ut=null==g[2]?s:g[2],dt=null==g[3]?s:g[3],ft=null==g[4]?s:g[4],v,_(ct)&&(G=["reftext",ct],u(l,"[]=",t.to_a(G)),G[e(G.length,1)]),T=t.const_get_relative(_t,"Block").$new(o,"floating_title",d(["content_model"],{content_model:"empty"})),G=[ut],u(T,"title=",t.to_a(G)),G[e(G.length,1)],l.$delete("title"),G=[_(g=_(v=lt)?v:l["$[]"]("id"))?g:function(){return _(M.$attributes()["$key?"]("sectids"))?t.const_get_relative(_t,"Section").$generate_id(T.$title(),M):s}()],u(T,"id=",t.to_a(G)),G[e(G.length,1)],G=[dt],u(T,"level=",t.to_a(G)),G[e(G.length,1)];break}if(_(_(g=F)?F["$!="]("normal"):g)){if(_(t.const_get_relative(_t,"PARAGRAPH_STYLES")["$include?"](F))){B=F.$to_sym(),j="paragraph",$.$unshift_line(L);break}if(_(t.const_get_relative(_t,"ADMONITION_STYLES")["$include?"](F))){B="admonition",j="paragraph",$.$unshift_line(L);break}if(_(_(g=z)?N["$registered_for_block?"](F,"paragraph"):g)){B=F.$to_sym(),j="paragraph",$.$unshift_line(L);break}O.$warn("asciidoctor: WARNING: "+$.$prev_line_info()+": invalid style for paragraph: "+F),F=s}if(pt=(g=A["$=="](0))?I:A["$=="](0),$.$unshift_line(L),_(_(g=Y)?F["$!"]():g))ht=O.$read_paragraph_lines($,pt,d(["skip_line_comments"],{skip_line_comments:S})),O["$adjust_indentation!"](ht),T=t.const_get_relative(_t,"Block").$new(o,"literal",d(["content_model","source","attributes"],{content_model:"verbatim",source:ht,attributes:l})),_(I)&&T.$set_option("listparagraph");else{if(ht=O.$read_paragraph_lines($,pt,d(["skip_line_comments"],{skip_line_comments:!0})),_(_(g=I)?ht["$empty?"]():g))return $.$advance(),s;if(O.$catalog_inline_anchors(ht.$join(t.const_get_relative(_t,"EOL")),M),_(S))_(_(g=Y)?F["$=="]("normal"):g)&&O["$adjust_indentation!"](ht),T=t.const_get_relative(_t,"Block").$new(o,"paragraph",d(["content_model","source","attributes"],{content_model:"simple",source:ht,attributes:l}));else if(_(_(g=_(v=t.const_get_relative(_t,"ADMONITION_STYLE_LEADERS")["$include?"](K))?L["$include?"](":"):v)?gt=t.const_get_relative(_t,"AdmonitionParagraphRx").$match(L):g))G=[0,gt.$post_match()],u(ht,"[]=",t.to_a(G)),G[e(G.length,1)],G=["name",vt=(G=["style",gt["$[]"](1)],u(l,"[]=",t.to_a(G)),G[e(G.length,1)]).$downcase()],u(l,"[]=",t.to_a(G)),G[e(G.length,1)],_(g=l["$[]"]("caption"))?g:(G=["caption",M.$attributes()["$[]"](""+vt+"-caption")],u(l,"[]=",t.to_a(G)),G[e(G.length,1)]),T=t.const_get_relative(_t,"Block").$new(o,"admonition",d(["content_model","source","attributes"],{content_model:"simple",source:ht,attributes:l}));else if(_(_(g=_(v=W)?K["$=="](">"):v)?L["$start_with?"]("> "):g)){if(u(ht,"map!",[],(x=function(t){x.$$s||this;return null==t&&(t=s),t["$=="](">")?t["$[]"](h(1,-1,!1)):_(t["$start_with?"]("> "))?t["$[]"](h(2,-1,!1)):t},x.$$s=O,x.$$arity=1,x)),_(ht["$[]"](-1)["$start_with?"]("-- ")))for(v=ht.$pop()["$[]"](h(3,-1,!1)).$split(", ",2),g=t.to_ary(v),mt=null==g[0]?s:g[0],yt=null==g[1]?s:g[1],v,_(mt)&&(G=["attribution",mt],u(l,"[]=",t.to_a(G)),G[e(G.length,1)]),_(yt)&&(G=["citetitle",yt],u(l,"[]=",t.to_a(G)),G[e(G.length,1)]);_(ht["$[]"](-1)["$empty?"]());)ht.$pop();G=["style","quote"],u(l,"[]=",t.to_a(G)),G[e(G.length,1)],T=O.$build_block("quote","compound",!1,o,t.const_get_relative(_t,"Reader").$new(ht),l)}else if(_(_(g=_(v=(y=K["$=="]('"'))?r(ht.$size(),1):K["$=="]('"'))?ht["$[]"](-1)["$start_with?"]("-- "):v)?ht["$[]"](-2)["$end_with?"]('"'):g)){for(G=[0,L["$[]"](h(1,-1,!1))],u(ht,"[]=",t.to_a(G)),G[e(G.length,1)],v=ht.$pop()["$[]"](h(3,-1,!1)).$split(", ",2),g=t.to_ary(v),mt=null==g[0]?s:g[0],yt=null==g[1]?s:g[1],v,_(mt)&&(G=["attribution",mt],u(l,"[]=",t.to_a(G)),G[e(G.length,1)]),_(yt)&&(G=["citetitle",yt],u(l,"[]=",t.to_a(G)),G[e(G.length,1)]);_(ht["$[]"](-1)["$empty?"]());)ht.$pop();G=[-1,ht["$[]"](-1).$chop()],u(ht,"[]=",t.to_a(G)),G[e(G.length,1)],G=["style","quote"],u(l,"[]=",t.to_a(G)),G[e(G.length,1)],T=t.const_get_relative(_t,"Block").$new(o,"quote",d(["content_model","source","attributes"],{content_model:"simple",source:ht,attributes:l}))}else _(_(g=Y)?F["$=="]("normal"):g)&&O["$adjust_indentation!"](ht),T=t.const_get_relative(_t,"Block").$new(o,"paragraph",d(["content_model","source","attributes"],{content_model:"simple",source:ht,attributes:l}))}break}if(_(_(p=T["$!"]())?B:p))if(_(_(p=B["$=="]("abstract"))?p:B["$=="]("partintro"))&&(B="open"),Q=B,"admonition"["$==="](Q))G=["name",vt=F.$downcase()],u(l,"[]=",t.to_a(G)),G[e(G.length,1)],_(p=l["$[]"]("caption"))?p:(G=["caption",M.$attributes()["$[]"](""+vt+"-caption")],u(l,"[]=",t.to_a(G)),G[e(G.length,1)]),T=O.$build_block(B,"compound",U,o,$,l);else{if("comment"["$==="](Q))return O.$build_block(B,"skip",U,o,$,l),s;if("example"["$==="](Q))T=O.$build_block(B,"compound",U,o,$,l);else if("listing"["$==="](Q)||"literal"["$==="](Q))T=O.$build_block(B,"verbatim",U,o,$,l);else if("source"["$==="](Q))t.const_get_relative(_t,"AttributeList").$rekey(l,[s,"language","linenums"]),_(l["$key?"]("language"))||_(bt=M.$attributes()["$[]"]("source-language"))&&(G=["language",bt],u(l,"[]=",t.to_a(G)),G[e(G.length,1)]),_(_(p=l["$key?"]("indent")["$!"]())?M.$attributes()["$key?"]("source-indent"):p)&&(G=["indent",M.$attributes()["$[]"]("source-indent")],u(l,"[]=",t.to_a(G)),G[e(G.length,1)]),T=O.$build_block("listing","verbatim",U,o,$,l);else if("fenced_code"["$==="](Q))G=["style","source"],u(l,"[]=",t.to_a(G)),G[e(G.length,1)],(V=L.$length())["$=="](3)?kt=s:_(wt=(kt=L.$slice(3,V)).$index(","))?_(r(wt,0))?(kt=kt.$slice(0,wt).$strip(),_(a(wt,e(V,4)))&&(G=["linenums",""],u(l,"[]=",t.to_a(G)),G[e(G.length,1)])):(kt=s,_(r(V,4))&&(G=["linenums",""],u(l,"[]=",t.to_a(G)),G[e(G.length,1)])):kt=kt.$lstrip(),_(kt["$nil_or_empty?"]())?_(bt=M.$attributes()["$[]"]("source-language"))&&(G=["language",bt],u(l,"[]=",t.to_a(G)),G[e(G.length,1)]):(G=["language",kt],u(l,"[]=",t.to_a(G)),G[e(G.length,1)]),_(_(p=l["$key?"]("indent")["$!"]())?M.$attributes()["$key?"]("source-indent"):p)&&(G=["indent",M.$attributes()["$[]"]("source-indent")],u(l,"[]=",t.to_a(G)),G[e(G.length,1)]),U=U.$slice(0,3),T=O.$build_block("listing","verbatim",U,o,$,l);else if("pass"["$==="](Q))T=O.$build_block(B,"raw",U,o,$,l);else if("stem"["$==="](Q)||"latexmath"["$==="](Q)||"asciimath"["$==="](Q))B["$=="]("stem")&&(G=["style",function(){
return _(xt=l["$[]"](2))?_(xt["$include?"]("tex"))?"latexmath":"asciimath":_((Et=M.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":Et}()],u(l,"[]=",t.to_a(G)),G[e(G.length,1)]),T=O.$build_block("stem","raw",U,o,$,l);else if("open"["$==="](Q)||"sidebar"["$==="](Q))T=O.$build_block(B,"compound",U,o,$,l);else if("table"["$==="](Q))Ot=t.const_get_relative(_t,"Reader").$new($.$read_lines_until(d(["terminator","skip_line_comments"],{terminator:U,skip_line_comments:!0})),$.$cursor()),_(U["$start_with?"]("|","!"))||(_(p=l["$[]"]("format"))?p:(G=["format",function(){return _(U["$start_with?"](","))?"csv":"dsv"}()],u(l,"[]=",t.to_a(G)),G[e(G.length,1)])),T=O.$next_table(Ot,o,l);else if("quote"["$==="](Q)||"verse"["$==="](Q))t.const_get_relative(_t,"AttributeList").$rekey(l,[s,"attribution","citetitle"]),T=O.$build_block(B,function(){return B["$=="]("verse")?"verbatim":"compound"}(),U,o,$,l);else if(_(_(p=z)?nt=N["$registered_for_block?"](B,j):p)){if(_((At=nt.$config()["$[]"]("content_model"))["$!="]("skip"))&&(_((St=_(p=nt.$config()["$[]"]("pos_attrs"))?p:[])["$empty?"]()["$!"]())&&t.const_get_relative(_t,"AttributeList").$rekey(l,[s].$concat(St)),_(it=nt.$config()["$[]"]("default_attrs"))&&u(it,"each",[],(E=function(n,r){var i;E.$$s||this;return null==n&&(n=s),null==r&&(r=s),_(i=l["$[]"](n))?i:(G=[n,r],u(l,"[]=",t.to_a(G)),G[e(G.length,1)])},E.$$s=O,E.$$arity=2,E)),G=["cloaked-context",j],u(l,"[]=",t.to_a(G)),G[e(G.length,1)]),T=O.$build_block(B,At,U,o,$,l,d(["extension"],{extension:nt})),!_(_(p=T)?At["$!="]("skip"):p))return l.$clear(),s}else O.$raise("Unsupported block type "+B+" at "+$.$line_info())}}return _(T)&&(_(C)&&(G=[C],u(T,"source_location=",t.to_a(G)),G[e(G.length,1)]),_(l["$key?"]("title"))&&(G=[l.$delete("title")],u(T,"title=",t.to_a(G)),G[e(G.length,1)]),T.$context()["$=="]("image")?(Rt=l["$[]"]("target"),T.$document().$register("images",Rt),Mt=_(f=l["$[]"]("alt"))?f:t.const_get_relative(_t,"Helpers").$basename(Rt,!0).$tr("_-"," "),_(_(f=_(p=Mt["$include?"]("<"))?p:Mt["$include?"]("&"))?f:Mt["$include?"](">"))&&(Mt=T.$sub_specialchars(Mt)),G=["alt",Mt],u(l,"[]=",t.to_a(G)),G[e(G.length,1)],T.$assign_caption(l.$delete("caption"),"figure"),_((Tt=l.$delete("scaledwidth"))["$nil_or_empty?"]())||(G=["scaledwidth",function(){return _(h(48,57,!1)["$include?"](Tt["$[]"](-1).$ord()))?""+Tt+"%":Tt}()],u(l,"[]=",t.to_a(G)),G[e(G.length,1)])):_(f=T.$caption())?f:(G=[l.$delete("caption")],u(T,"caption=",t.to_a(G)),G[e(G.length,1)]),G=[l["$[]"]("style")],u(T,"style=",t.to_a(G)),G[e(G.length,1)],_(It=_(f=T.$id())?f:(G=[l["$[]"]("id")],u(T,"id=",t.to_a(G)),G[e(G.length,1)]))&&M.$register("ids",[It,_(f=l["$[]"]("reftext"))?f:function(){return _(T["$title?"]())?T.$title():s}()]),_(l["$empty?"]())||T.$attributes().$update(l),T.$lock_in_subs(),_(T["$sub?"]("callouts"))&&(_(O.$catalog_callouts(T.$source(),M))||T.$remove_sub("callouts"))),T},A.$$arity=-3),t.defs(ut,"$read_paragraph_lines",S=function(n,r,i){var a=s,$=s;return null==i&&(i=d([],{})),a=["break_on_blank_lines",!0],u(i,"[]=",t.to_a(a)),a[e(a.length,1)],a=["break_on_list_continuation",!0],u(i,"[]=",t.to_a(a)),a[e(a.length,1)],a=["preserve_last_line",!0],u(i,"[]=",t.to_a(a)),a[e(a.length,1)],$=function(){return _(r)?_(t.const_get_relative(_t,"Compliance").$block_terminates_paragraph())?t.const_get_relative(_t,"StartOfBlockOrListProc"):t.const_get_relative(_t,"StartOfListProc"):_(t.const_get_relative(_t,"Compliance").$block_terminates_paragraph())?t.const_get_relative(_t,"StartOfBlockProc"):t.const_get_relative(_t,"NoOp")}(),u(n,"read_lines_until",[i],$.$to_proc())},S.$$arity=-3),t.defs(ut,"$is_delimited_block?",R=function(n,o){var l,c,u=s,d=s,f=s,p=s,g=s,v=s,m=s;if(null==o&&(o=!1),!_(_(l=r(u=n.$length(),1))?t.const_get_relative(_t,"DELIMITED_BLOCK_LEADERS")["$include?"](n.$slice(0,2)):l))return s;if(u["$=="](2))d=n,f=2;else{if(_($(u,4))?(d=n,f=u):(d=n.$slice(0,4),f=4),p=!1,_(t.const_get_relative(_t,"Compliance").$markdown_syntax())&&(g=function(){return f["$=="](4)?d.$chop():d}(),g["$=="]("```"))){if(_((l=f["$=="](4))?d["$end_with?"]("`"):f["$=="](4)))return s;d=g,f=3,p=!0}if(_((l=f["$=="](3))?p["$!"]():f["$=="](3)))return s}return _(t.const_get_relative(_t,"DELIMITED_BLOCKS")["$key?"](d))?_(_(l=a(f,4))?l:f["$=="](u))?!_(o)||(c=t.const_get_relative(_t,"DELIMITED_BLOCKS")["$[]"](d),l=t.to_ary(c),v=null==l[0]?s:l[0],m=null==l[1]?s:l[1],c,t.const_get_relative(_t,"BlockMatchData").$new(v,m,d,d)):(""+d+i(d["$[]"](h(-1,-1,!1)),e(u,f)))["$=="](n)?!_(o)||(c=t.const_get_relative(_t,"DELIMITED_BLOCKS")["$[]"](d),l=t.to_ary(c),v=null==l[0]?s:l[0],m=null==l[1]?s:l[1],c,t.const_get_relative(_t,"BlockMatchData").$new(v,m,d,n)):s:s},R.$$arity=-2),t.defs(ut,"$build_block",M=function(n,i,a,$,o,l,c){var f,p=this,h=s,g=s,v=s,m=s,y=s,b=s,k=s,w=s,x=s;if(null==c&&(c=d([],{})),i["$=="]("skip")?(h=!0,g="simple"):i["$=="]("raw")?(h=!1,g="simple"):(h=!1,g=i),_(a["$nil?"]())?(g["$=="]("verbatim")?v=o.$read_lines_until(d(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(i["$=="]("compound")&&(i="simple"),v=p.$read_paragraph_lines(o,!1,d(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:h}))),m=s):_(g["$!="]("compound"))?(v=o.$read_lines_until(d(["terminator","skip_processing"],{terminator:a,skip_processing:h})),m=s):a["$=="](!1)?(v=s,m=o):(v=s,m=t.const_get_relative(_t,"Reader").$new(o.$read_lines_until(d(["terminator","skip_processing"],{terminator:a,skip_processing:h})),o.$cursor())),i["$=="]("skip"))return l.$clear(),v;if(i["$=="]("verbatim")&&(_(y=l["$[]"]("indent"))?p["$adjust_indentation!"](v,y,_(f=l["$[]"]("tabsize"))?f:$.$document().$attributes()["$[]"]("tabsize")):_(r(b=(_(f=l["$[]"]("tabsize"))?f:$.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))&&p["$adjust_indentation!"](v,s,b)),_(k=c["$[]"]("extension"))){if(l.$delete("style"),!_(w=k.$process_method()["$[]"]($,_(f=m)?f:t.const_get_relative(_t,"Reader").$new(v),l.$dup())))return s;l.$replace(w.$attributes()),_((f=w.$content_model()["$=="]("compound"))?(v=w.$lines())["$nil_or_empty?"]()["$!"]():w.$content_model()["$=="]("compound"))&&(i="compound",m=t.const_get_relative(_t,"Reader").$new(v))}else w=t.const_get_relative(_t,"Block").$new($,n,d(["content_model","source","attributes"],{content_model:i,source:v,attributes:l}));return _(_(f=l["$key?"]("title"))?w.$document()["$attr?"](""+w.$context()+"-caption"):f)&&(x=[l.$delete("title")],u(w,"title=",t.to_a(x)),x[e(x.length,1)],w.$assign_caption(l.$delete("caption"))),i["$=="]("compound")&&p.$parse_blocks(m,w),w},M.$$arity=-7),t.defs(ut,"$parse_blocks",T=function(e,n){for(var r=s;_(e["$has_more_lines?"]());)r=t.const_get_relative(_t,"Parser").$next_block(e,n),_(r)&&n["$<<"](r)},T.$$arity=2),t.defs(ut,"$next_item_list",I=function(i,$,o){var l,c=this,d=s,f=s,p=s,h=s,g=s,v=s,m=s;for(d=t.const_get_relative(_t,"List").$new(o,$),o.$context()["$=="]($)?(f=[n(o.$level(),1)],u(d,"level=",t.to_a(f)),f[e(f.length,1)]):(f=[1],u(d,"level=",t.to_a(f)),f[e(f.length,1)]);_(_(l=i["$has_more_lines?"]())?p=t.const_get_relative(_t,"ListRxMap")["$[]"]($).$match(i.$peek_line()):l);){if(h=c.$resolve_list_marker($,p["$[]"](1)),_(_(l=d["$items?"]())?h["$!="](d.$items()["$[]"](0).$marker()):l))for(g=n(d.$level(),1),v=o;v.$context()["$=="]($);){if(h["$=="](v.$items()["$[]"](0).$marker())){g=v.$level();break}v=v.$parent()}else g=d.$level();if(_(_(l=d["$items?"]()["$!"]())?l:g["$=="](d.$level())))m=c.$next_list_item(i,d,p);else{if(_(a(g,d.$level())))break;_(r(g,d.$level()))&&d.$items()["$[]"](-1)["$<<"](c.$next_block(i,d))}_(m)&&d["$<<"](m),m=s,i.$skip_blank_lines()}return d},I.$$arity=3),t.defs(ut,"$catalog_callouts",q=function(e,n){var r,i=this,a=s;return a=!1,_(e["$include?"]("<"))&&u(e,"scan",[t.const_get_relative(_t,"CalloutScanRx")],(r=function(){var t,e,i=(r.$$s||this,s),$=s;return t=[(e=p["~"])===s?s:e["$[]"](0),(e=p["~"])===s?s:e["$[]"](2)],i=t[0],$=t[1],t,_(i["$start_with?"]("\\"))||n.$callouts().$register($),a=!0},r.$$s=i,r.$$arity=0,r)),a},q.$$arity=2),t.defs(ut,"$catalog_inline_anchors",C=function(e,n){var r,i,a=this;return _(_(r=e["$include?"]("[["))?r:e["$include?"]("or:"))&&u(e,"scan",[t.const_get_relative(_t,"InlineAnchorScanRx")],(i=function(){var t,e,r=(i.$$s||this,s),a=s;return _(r=(t=p["~"])===s?s:t["$[]"](1))?a=(t=p["~"])===s?s:t["$[]"](2):(r=(t=p["~"])===s?s:t["$[]"](3),_(_(t=a=(e=p["~"])===s?s:e["$[]"](4))?a["$include?"]("]"):t)&&(a=a.$gsub("\\]","]"))),n.$register("ids",[r,a])},i.$$s=a,i.$$arity=0,i)),s},C.$$arity=2),t.defs(ut,"$catalog_inline_biblio_anchor",N=function(e,n){var r,i;return _(t.const_get_relative(_t,"InlineBiblioAnchorRx")["$=~"](e))&&n.$register("ids",[(r=p["~"])===s?s:r["$[]"](1),"["+(_(r=(i=p["~"])===s?s:i["$[]"](2))?r:(i=p["~"])===s?s:i["$[]"](1))+"]"]),s},N.$$arity=2),t.defs(ut,"$next_description_list",z=function(e,n,r){var i,a,$=this,o=s,l=s,c=s,u=s,d=s;for(o=t.const_get_relative(_t,"List").$new(r,"dlist"),l=s,c=t.const_get_relative(_t,"DescriptionListSiblingRx")["$[]"](n["$[]"](2));_(_(i=n)?i:_(a=e["$has_more_lines?"]())?n=c.$match(e.$peek_line()):a);)a=$.$next_list_item(e,o,n,c),i=t.to_ary(a),u=null==i[0]?s:i[0],d=null==i[1]?s:i[1],a,_(_(i=l)?l["$[]"](-1)["$!"]():i)?(l.$pop(),l["$[]"](0)["$<<"](u),l["$<<"](d)):o.$items()["$<<"](l=[[u],d]),n=s;return o},z.$$arity=3),t.defs(ut,"$next_list_item",P=function(n,r,i,a){var $,o=this,l=s,c=s,f=s,p=s,g=s,v=s,m=s,y=s,b=s,k=s,w=s,x=s,E=s,O=s,A=s;if(null==a&&(a=s),(l=r.$context())["$=="]("dlist")?(c=t.const_get_relative(_t,"ListItem").$new(r,i["$[]"](1)),f=t.const_get_relative(_t,"ListItem").$new(r,i["$[]"](3)),p=i["$[]"](3)["$nil_or_empty?"]()["$!"]()):(g=i["$[]"](2),v=!1,_(($=l["$=="]("ulist"))?g["$start_with?"]("["):l["$=="]("ulist"))&&(_(g["$start_with?"]("[ ] "))?(v=!0,m=!1,g=g["$[]"](h(3,-1,!1)).$lstrip()):_(g["$start_with?"]("[x] ","[*] "))&&(v=!0,m=!0,g=g["$[]"](h(3,-1,!1)).$lstrip())),f=t.const_get_relative(_t,"ListItem").$new(r,g),_(v)&&(y=["checklist-option",""],u(r.$attributes(),"[]=",t.to_a(y)),y[e(y.length,1)],y=["checkbox",""],u(f.$attributes(),"[]=",t.to_a(y)),y[e(y.length,1)],_(m)&&(y=["checked",""],u(f.$attributes(),"[]=",t.to_a(y)),y[e(y.length,1)])),a=_($=a)?$:o.$resolve_list_marker(l,i["$[]"](1),r.$items().$size(),!0,n),y=[a],u(f,"marker=",t.to_a(y)),y[e(y.length,1)],p=!0),n.$advance(),b=t.const_get_relative(_t,"Reader").$new(o.$read_lines_for_list_item(n,l,a,p),n.$cursor()),_(b["$has_more_lines?"]())){for(k=b.$skip_line_comments(),_(w=b.$peek_line())?(_(k["$empty?"]())||b.$unshift_lines(k),_(x=w["$empty?"]())?E=!1:(E=!0,l["$=="]("dlist")||(p=!1))):(x=!1,E=!1),O=d(["text"],{text:p["$!"]()});_(b["$has_more_lines?"]());)_(A=o.$next_block(b,f,d([],{}),O))&&f["$<<"](A);f.$fold_first(x,E)}return l["$=="]("dlist")?_(_($=f["$text?"]())?$:f["$blocks?"]())?[c,f]:[c,s]:f},P.$$arity=-4),t.defs(ut,"$read_lines_for_list_item",L=function(n,r,i,a){var $,o,l,c,f,h,g,v,m=this,y=s,b=s,k=s,w=s,x=s,E=s,O=s,A=s,S=s;for(null==i&&(i=s),null==a&&(a=!0),y=[],b="inactive",k=!1,w=s;_(n["$has_more_lines?"]())&&(x=n.$read_line(),!_(m["$is_sibling_list_item?"](x,r,i)));)if(E=function(){return _(y["$empty?"]())?s:y["$[]"](-1)}(),E["$=="](t.const_get_relative(_t,"LIST_CONTINUATION"))&&(b["$=="]("inactive")&&(b="active",a=!0,_(k)||(O=[-1,""],u(y,"[]=",t.to_a(O)),O[e(O.length,1)])),x["$=="](t.const_get_relative(_t,"LIST_CONTINUATION"))))_(b["$!="]("frozen"))&&(b="frozen",y["$<<"](x)),x=s;else{if(_(A=m["$is_delimited_block?"](x,!0))){if(!b["$=="]("active"))break;y["$<<"](x),y.$concat(n.$read_lines_until(d(["terminator","read_last_line"],{terminator:A.$terminator(),read_last_line:!0}))),b="inactive"}else{if(_(_(o=(l=r["$=="]("dlist"))?b["$!="]("active"):r["$=="]("dlist"))?t.const_get_relative(_t,"BlockAttributeLineRx")["$match?"](x):o))break;if(_((o=b["$=="]("active"))?x["$empty?"]()["$!"]():b["$=="]("active")))_(t.const_get_relative(_t,"LiteralParagraphRx")["$match?"](x))?(n.$unshift_line(x),y.$concat(u(n,"read_lines_until",[d(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(c=function(t){var e,n=c.$$s||this;return null==t&&(t=s),(e=r["$=="]("dlist"))?n["$is_sibling_list_item?"](t,r,i):r["$=="]("dlist")},c.$$s=m,c.$$arity=1,c))),b="inactive"):_(_(o=_(l=t.const_get_relative(_t,"BlockTitleRx")["$match?"](x))?l:t.const_get_relative(_t,"BlockAttributeLineRx")["$match?"](x))?o:t.const_get_relative(_t,"AttributeEntryRx")["$match?"](x))?y["$<<"](x):(_(S=u(function(){return _(k)?["dlist"]:t.const_get_relative(_t,"NESTABLE_LIST_CONTEXTS")}(),"find",[],(f=function(e){f.$$s||this;return null==e&&(e=s),t.const_get_relative(_t,"ListRxMap")["$[]"](e)["$match?"](x)},f.$$s=m,f.$$arity=1,f)))&&(k=!0,_((o=S["$=="]("dlist"))?((l=p["~"])===s?s:l["$[]"](3))["$nil_or_empty?"]():S["$=="]("dlist"))&&(a=!1)),y["$<<"](x),b="inactive");else if(_(_(o=E)?E["$empty?"]():o)){if(_(x["$empty?"]())&&(n.$skip_blank_lines(),x=n.$read_line(),!_(_(o=x)?m["$is_sibling_list_item?"](x,r,i)["$!"]():o)))break;if(x["$=="](t.const_get_relative(_t,"LIST_CONTINUATION")))w=y.$size(),y["$<<"](x);else if(_(a)){if(_(m["$is_sibling_list_item?"](x,r,i)))break;if(_(S=u(t.const_get_relative(_t,"NESTABLE_LIST_CONTEXTS"),"find",[],(h=function(e){h.$$s||this;return null==e&&(e=s),t.const_get_relative(_t,"ListRxMap")["$[]"](e)["$=~"](x)},h.$$s=m,h.$$arity=1,h))))y["$<<"](x),k=!0,_((o=S["$=="]("dlist"))?((l=p["~"])===s?s:l["$[]"](3))["$nil_or_empty?"]():S["$=="]("dlist"))&&(a=!1);else{if(!_(t.const_get_relative(_t,"LiteralParagraphRx")["$match?"](x)))break;n.$unshift_line(x),y.$concat(u(n,"read_lines_until",[d(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(g=function(t){var e,n=g.$$s||this;return null==t&&(t=s),(e=r["$=="]("dlist"))?n["$is_sibling_list_item?"](t,r,i):r["$=="]("dlist")},g.$$s=m,g.$$arity=1,g)))}}else _(k)||y.$pop(),y["$<<"](x),a=!0}else _(x["$empty?"]()["$!"]())&&(a=!0),_(S=u(function(){return _(k)?["dlist"]:t.const_get_relative(_t,"NESTABLE_LIST_CONTEXTS")}(),"find",[],(v=function(e){v.$$s||this;return null==e&&(e=s),t.const_get_relative(_t,"ListRxMap")["$[]"](e)["$=~"](x)},v.$$s=m,v.$$arity=1,v)))&&(k=!0,_((o=S["$=="]("dlist"))?((l=p["~"])===s?s:l["$[]"](3))["$nil_or_empty?"]():S["$=="]("dlist"))&&(a=!1)),y["$<<"](x)}x=s}for(_(x)&&n.$unshift_line(x),_(w)&&y.$delete_at(w);_(_(o=y["$empty?"]()["$!"]())?y["$[]"](-1)["$empty?"]():o);)y.$pop();return _(_($=y["$empty?"]()["$!"]())?y["$[]"](-1)["$=="](t.const_get_relative(_t,"LIST_CONTINUATION")):$)&&y.$pop(),y},L.$$arity=-3),t.defs(ut,"$initialize_section",D=function(n,i,a){var $,o,l=this,c=s,f=s,p=s,h=s,g=s,v=s,m=s,y=s,b=s,k=s,w=s,x=s,E=s,O=s,A=s;return null==a&&(a=d([],{})),c=i.$document(),_(c.$sourcemap())&&(f=n.$cursor()),o=l.$parse_section_title(n,c),$=t.to_ary(o),p=null==$[0]?s:$[0],h=null==$[1]?s:$[1],g=null==$[2]?s:$[2],v=null==$[3]?s:$[3],m=null==$[4]?s:$[4],o,_(h)?(y=["reftext",h],u(a,"[]=",t.to_a(y)),y[e(y.length,1)]):_(a["$key?"]("reftext"))&&(h=a["$[]"]("reftext")),b=function(){return _(a["$[]"](1))?l.$parse_style_attribute(a,n):s}(),_(b)?_(($=b["$=="]("abstract"))?c.$doctype()["$=="]("book"):b["$=="]("abstract"))?($=["chapter",1],k=$[0],v=$[1],$):($=[b,!0],k=$[0],w=$[1],$,v["$=="](0)&&(v=1),x=b["$=="]("appendix")):(E=c.$doctype(),"book"["$==="](E)?k=function(){return v["$=="](0)?"part":v["$=="](1)?"chapter":"section"}():"manpage"["$==="](E)&&g.$casecmp("synopsis")["$=="](0)?($=["synopsis",!0],k=$[0],w=$[1],$):k="section"),O=t.const_get_relative(_t,"Section").$new(i,v,!1),$=[p,g,k,f],O["$id="]($[0]),O["$title="]($[1]),O["$sectname="]($[2]),O["$source_location="]($[3]),$,_(w)?(y=[!0],u(O,"special=",t.to_a(y)),y[e(y.length,1)],_(x)&&(y=[!0],u(O,"numbered=",t.to_a(y)),y[e(y.length,1)])):_(_($=r(v,0))?c.$attributes()["$key?"]("sectnums"):$)&&(y=[function(){return!_(O.$special())||(($=i.$context()["$=="]("section"))?i.$numbered():i.$context()["$=="]("section"))}()],u(O,"numbered=",t.to_a(y)),y[e(y.length,1)]),_(A=_($=O.$id())?$:(y=[_(o=a["$[]"]("id"))?o:function(){return _(c.$attributes()["$key?"]("sectids"))?t.const_get_relative(_t,"Section").$generate_id(O.$title(),c):s}()],u(O,"id=",t.to_a(y)),y[e(y.length,1)]))&&c.$register("ids",[A,_($=h)?$:O.$title()]),O.$update_attributes(a),n.$skip_blank_lines(),O},D.$$arity=-3),t.defs(ut,"$is_next_line_section?",B=function(e,n){var r,i,a,$=this,o=s;return _(_(r=_(i=n["$key?"](1))?(o=_(a=n["$[]"](1))?a:"")["$start_with?"]("float","discrete"):i)?t.const_get_relative(_t,"FloatingTitleStyleRx")["$match?"](o):r)?s:_(e["$has_more_lines?"]())?_(t.const_get_relative(_t,"Compliance").$underline_style_section_titles())?u($,"is_section_title?",t.to_a(e.$peek_lines(2))):$["$is_section_title?"](e.$peek_line()):s},B.$$arity=2),t.defs(ut,"$is_next_line_doctitle?",j=function(t,e,r){var i,a=this,$=s;return _(r)?_(i=$=a["$is_next_line_section?"](t,e))?n($,r.$to_i())["$=="](0):i:a["$is_next_line_section?"](t,e)["$=="](0)},j.$$arity=3),t.defs(ut,"$is_section_title?",U=function(t,e){var n,r=this;return null==e&&(e=s),_(n=r["$is_single_line_section_title?"](t))?n:function(){return _(e["$nil_or_empty?"]())?s:r["$is_two_line_section_title?"](t,e)}()},U.$$arity=-2),t.defs(ut,"$is_single_line_section_title?",F=function(n){var r,i,a;return _(_(r=_(i=n["$start_with?"]("="))?i:_(a=t.const_get_relative(_t,"Compliance").$markdown_syntax())?n["$start_with?"]("#"):a)?t.const_get_relative(_t,"AtxSectionRx")["$=~"](n):r)?e(((r=p["~"])===s?s:r["$[]"](1)).$length(),1):s},F.$$arity=1),t.defs(ut,"$is_two_line_section_title?",H=function(n,r){var $,o,l,c=this,u=s,d=s,f=s;return _(_($=_(o=_(l=u=t.const_get_relative(_t,"SETEXT_SECTION_LEVELS")["$[]"](d=r.$chr()))?i(d,f=r.$length())["$=="](r):l)?t.const_get_relative(_t,"SetextSectionTitleRx")["$match?"](n):o)?a(e(c.$line_length(n),f).$abs(),2):$)?u:s},H.$$arity=2),t.defs(ut,"$parse_section_title",G=function(r,$){var o,l,c,u,d,f=this,h=s,g=s,v=s,m=s,y=s,b=s,k=s,w=s,x=s;return h=g=s,v=r.$read_line(),_(_(o=_(l=v["$start_with?"]("="))?l:_(c=t.const_get_relative(_t,"Compliance").$markdown_syntax())?v["$start_with?"]("#"):c)?t.const_get_relative(_t,"AtxSectionRx")["$=~"](v):o)?(o=[e(((l=p["~"])===s?s:l["$[]"](1)).$length(),1),(l=p["~"])===s?s:l["$[]"](2),!0],m=o[0],y=o[1],b=o[2],o,_(_(o=_(l=y["$end_with?"]("]]"))?t.const_get_relative(_t,"InlineSectionAnchorRx")["$=~"](y):l)?((l=p["~"])===s?s:l["$[]"](1))["$!"]():o)&&(o=[y.$slice(0,e(y.$length(),((l=p["~"])===s?s:l["$[]"](0)).$length())),(l=p["~"])===s?s:l["$[]"](2),(l=p["~"])===s?s:l["$[]"](3)],y=o[0],h=o[1],g=o[2],o)):_(_(o=_(l=_(c=_(u=_(d=t.const_get_relative(_t,"Compliance").$underline_style_section_titles())?k=r.$peek_line(!0):d)?m=t.const_get_relative(_t,"SETEXT_SECTION_LEVELS")["$[]"](w=k.$chr()):u)?i(w,x=k.$length())["$=="](k):c)?y=_(c=t.const_get_relative(_t,"SetextSectionTitleRx")["$=~"](v))?(u=p["~"])===s?s:u["$[]"](1):c:l)?a(e(f.$line_length(v),x).$abs(),2):o)?(b=!1,_(_(o=_(l=y["$end_with?"]("]]"))?t.const_get_relative(_t,"InlineSectionAnchorRx")["$=~"](y):l)?((l=p["~"])===s?s:l["$[]"](1))["$!"]():o)&&(o=[y.$slice(0,e(y.$length(),((l=p["~"])===s?s:l["$[]"](0)).$length())),(l=p["~"])===s?s:l["$[]"](2),(l=p["~"])===s?s:l["$[]"](3)],y=o[0],h=o[1],g=o[2],o),r.$advance()):f.$raise("Unrecognized section at "+r.$prev_line_info()),_($["$attr?"]("leveloffset"))&&(m=n(m,$.$attr("leveloffset").$to_i())),[h,g,y,m,b]},G.$$arity=2),_(t.const_get_relative(_t,"FORCE_UNICODE_LINE_LENGTH"))?t.defs(ut,"$line_length",Y=function(e){return e.$scan(t.const_get_relative(_t,"UnicodeCharScanRx")).$size()},Y.$$arity=1):t.defs(ut,"$line_length",W=function(t){return t.$length()},W.$$arity=1),t.defs(ut,"$parse_header_metadata",K=function(r,a){var $,o,l,c,f=this,p=s,g=s,v=s,m=s,y=s,b=s,k=s,w=s,x=s,E=s,O=s,A=s,S=s,R=s,M=s,T=s;if(null==a&&(a=s),f.$process_attribute_entries(r,a),$=[d([],{}),s,s],p=$[0],g=$[1],v=$[2],$,_(_($=r["$has_more_lines?"]())?r["$next_line_empty?"]()["$!"]():$)&&(_((m=f.$process_authors(r.$read_line()))["$empty?"]())||(_(a)&&(u(m,"each",[],(o=function(n,r){var i=(o.$$s||this,s);return null==n&&(n=s),null==r&&(r=s),_(a.$attributes()["$key?"](n))?s:(i=[n,function(){return _(t.const_get_qualified("::","String")["$==="](r))?a.$apply_header_subs(r):r}()],u(a.$attributes(),"[]=",t.to_a(i)),i[e(i.length,1)])},o.$$s=f,o.$$arity=2,o)),g=a.$attributes()["$[]"]("author"),v=a.$attributes()["$[]"]("authors")),p=m),f.$process_attribute_entries(r,a),y=d([],{}),_(_($=r["$has_more_lines?"]())?r["$next_line_empty?"]()["$!"]():$)&&(b=r.$read_line(),_(k=t.const_get_relative(_t,"RevisionInfoLineRx").$match(b))?(_(k["$[]"](1))&&(w=["revnumber",k["$[]"](1).$rstrip()],u(y,"[]=",t.to_a(w)),w[e(w.length,1)]),_((x=k["$[]"](2).$strip())["$empty?"]())||(_(_($=k["$[]"](1)["$!"]())?x["$start_with?"]("v"):$)?(w=["revnumber",x["$[]"](h(1,-1,!1))],u(y,"[]=",t.to_a(w)),w[e(w.length,1)]):(w=["revdate",x],u(y,"[]=",t.to_a(w)),w[e(w.length,1)])),_(k["$[]"](3))&&(w=["revremark",k["$[]"](3).$rstrip()],u(y,"[]=",t.to_a(w)),w[e(w.length,1)])):r.$unshift_line(b)),_(y["$empty?"]())||(_(a)&&u(y,"each",[],(l=function(n,r){l.$$s||this;return null==n&&(n=s),null==r&&(r=s),_(a.$attributes()["$key?"](n))?s:(w=[n,a.$apply_header_subs(r)],u(a.$attributes(),"[]=",t.to_a(w)),w[e(w.length,1)])},l.$$s=f,l.$$arity=2,l)),p.$update(y)),f.$process_attribute_entries(r,a),r.$skip_blank_lines()),_(a)){if(_(_($=a.$attributes()["$key?"]("author"))?(E=a.$attributes()["$[]"]("author"))["$!="](g):$))m=f.$process_authors(E,!0,!1);else if(_(_($=a.$attributes()["$key?"]("authors"))?(E=a.$attributes()["$[]"]("authors"))["$!="](v):$))m=f.$process_authors(E,!0);else{for($=[[],1,"author_1",!1,!1],O=$[0],A=$[1],S=$[2],R=$[3],M=$[4],$;_(a.$attributes()["$key?"](S));)(T=a.$attributes()["$[]"](S))["$=="](m["$[]"](S))?(O["$<<"](s),M=!0):(O["$<<"](T),R=!0),S="author_"+(A=n(A,1));_(R)?(_(M)&&u(O,"each_with_index",[],(c=function(r,a){var $,o=c.$$s||this,l=s;return null==r&&(r=s),null==a&&(a=s),_(r)?s:(w=[a,i(u([m["$[]"]("firstname_"+(l=n(a,1))),m["$[]"]("middlename_"+l),m["$[]"]("lastname_"+l)].$compact(),"map",[],($=function(t){$.$$s||this;return null==t&&(t=s),t.$tr(" ","_")},$.$$s=o,$.$$arity=1,$))," ")],u(O,"[]=",t.to_a(w)),w[e(w.length,1)])},c.$$s=f,c.$$arity=2,c)),m=f.$process_authors(O,!0,!1)):m=d([],{})}_(m["$empty?"]())||(a.$attributes().$update(m),_(_($=a.$attributes()["$key?"]("email")["$!"]())?a.$attributes()["$key?"]("email_1"):$)&&(w=["email",a.$attributes()["$[]"]("email_1")],u(a.$attributes(),"[]=",t.to_a(w)),w[e(w.length,1)]))}return p},K.$$arity=-2),t.defs(ut,"$process_authors",X=function(r,i,a){var $,o,l=this,c=s,f=s,p=s;return null==i&&(i=!1),null==a&&(a=!0),c=d([],{}),f=["author","authorinitials","firstname","middlename","lastname","email"],p=function(){return _(a)?u(r.$split(";"),"map",[],($=function(t){$.$$s||this;return null==t&&(t=s),t.$strip()},$.$$s=l,$.$$arity=1,$)):l.$Array(r)}(),u(p,"each_with_index",[],(o=function(r,a){var $,l,p,h,g=o.$$s||this,v=s,m=s,y=s,b=s,k=s,w=s,x=s,E=s;return null==r&&(r=s),null==a&&(a=s),_(r["$empty?"]())?s:(v=d([],{}),a["$=="](0)?u(f,"each",[],($=function(n){var r=($.$$s||this,s);return null==n&&(n=s),r=[n.$to_sym(),n],u(v,"[]=",t.to_a(r)),r[e(r.length,1)]},$.$$s=g,$.$$arity=1,$)):u(f,"each",[],(l=function(r){var i=(l.$$s||this,s);return null==r&&(r=s),i=[r.$to_sym(),""+r+"_"+n(a,1)],u(v,"[]=",t.to_a(i)),i[e(i.length,1)]},l.$$s=g,l.$$arity=1,l)),m=s,_(i)?(_(r["$include?"]("<"))&&(y=[v["$[]"]("author"),r.$tr("_"," ")],u(c,"[]=",t.to_a(y)),y[e(y.length,1)],r=r.$gsub(t.const_get_relative(_t,"XmlSanitizeRx"),"")),(m=r.$split(s,3)).$size()["$=="](3)&&m["$<<"](m.$pop().$squeeze(" "))):_(b=t.const_get_relative(_t,"AuthorInfoLineRx").$match(r))&&(m=b.$to_a()).$shift(),_(m)?(y=[v["$[]"]("firstname"),w=m["$[]"](0).$tr("_"," ")],u(c,"[]=",t.to_a(y)),k=y[e(y.length,1)],y=[v["$[]"]("authorinitials"),w.$chr()],u(c,"[]=",t.to_a(y)),y[e(y.length,1)],_(m["$[]"](1))&&(_(m["$[]"](2))?(y=[v["$[]"]("middlename"),x=m["$[]"](1).$tr("_"," ")],u(c,"[]=",t.to_a(y)),y[e(y.length,1)],y=[v["$[]"]("lastname"),E=m["$[]"](2).$tr("_"," ")],u(c,"[]=",t.to_a(y)),y[e(y.length,1)],k=n(n(n(n(w," "),x)," "),E),y=[v["$[]"]("authorinitials"),""+w.$chr()+x.$chr()+E.$chr()],u(c,"[]=",t.to_a(y)),y[e(y.length,1)]):(y=[v["$[]"]("lastname"),E=m["$[]"](1).$tr("_"," ")],u(c,"[]=",t.to_a(y)),y[e(y.length,1)],k=n(n(w," "),E),y=[v["$[]"]("authorinitials"),""+w.$chr()+E.$chr()],u(c,"[]=",t.to_a(y)),y[e(y.length,1)])),_(p=c["$[]"](v["$[]"]("author")))?p:(y=[v["$[]"]("author"),k],u(c,"[]=",t.to_a(y)),y[e(y.length,1)]),_(_(p=i)?p:m["$[]"](3)["$!"]())||(y=[v["$[]"]("email"),m["$[]"](3)],u(c,"[]=",t.to_a(y)),y[e(y.length,1)])):(y=[v["$[]"]("author"),(y=[v["$[]"]("firstname"),w=r.$squeeze(" ").$strip()],u(c,"[]=",t.to_a(y)),y[e(y.length,1)])],u(c,"[]=",t.to_a(y)),y[e(y.length,1)],y=[v["$[]"]("authorinitials"),w.$chr()],u(c,"[]=",t.to_a(y)),y[e(y.length,1)]),y=["authorcount",n(a,1)],u(c,"[]=",t.to_a(y)),y[e(y.length,1)],a["$=="](1)&&u(f,"each",[],(h=function(n){h.$$s||this;return null==n&&(n=s),_(c["$key?"](n))?(y=[""+n+"_1",c["$[]"](n)],u(c,"[]=",t.to_a(y)),y[e(y.length,1)]):s},h.$$s=g,h.$$arity=1,h)),a["$=="](0)?(y=["authors",c["$[]"](v["$[]"]("author"))],u(c,"[]=",t.to_a(y)),y[e(y.length,1)]):(y=["authors",""+c["$[]"]("authors")+", "+c["$[]"](v["$[]"]("author"))],u(c,"[]=",t.to_a(y)),y[e(y.length,1)]))},o.$$s=l,o.$$arity=2,o)),c},X.$$arity=-2),t.defs(ut,"$parse_block_metadata_lines",V=function(t,e,n,r){var i=this;for(null==n&&(n=d([],{})),null==r&&(r=d([],{}));_(i.$parse_block_metadata_line(t,e,n,r));)t.$advance(),t.$skip_blank_lines();return n},V.$$arity=-3),t.defs(ut,"$parse_block_metadata_line",J=function(n,r,a,$){var o,l,c=this,f=s,h=s,g=s,v=s;return null==p["~"]&&(p["~"]=s),null==$&&($=d([],{})),_(_(o=f=n.$peek_line())?function(){return _($["$[]"]("text"))?f["$start_with?"]("[","/"):h=f["$start_with?"]("[",".","/",":")}():o)?_(f["$start_with?"]("["))?_(f["$start_with?"]("[["))?_(_(o=f["$end_with?"]("]]"))?t.const_get_relative(_t,"BlockAnchorRx")["$=~"](f):o)?(g=["id",(o=p["~"])===s?s:o["$[]"](1)],u(a,"[]=",t.to_a(g)),g[e(g.length,1)],_((o=p["~"])===s?s:o["$[]"](2))&&(g=["reftext",(o=p["~"])===s?s:o["$[]"](2)],u(a,"[]=",t.to_a(g)),g[e(g.length,1)]),!0):s:_(_(o=f["$end_with?"]("]"))?t.const_get_relative(_t,"BlockAttributeListRx")["$=~"](f):o)?(r.$parse_attributes((o=p["~"])===s?s:o["$[]"](1),[],d(["sub_input","into"],{sub_input:!0,into:a})),!0):s:_(_(o=h)?f["$start_with?"]("."):o)?_(t.const_get_relative(_t,"BlockTitleRx")["$=~"](f))?(g=["title",(o=p["~"])===s?s:o["$[]"](1)],u(a,"[]=",t.to_a(g)),g[e(g.length,1)],!0):s:_(f["$start_with?"]("/"))?_(f["$start_with?"]("//"))?!!f["$=="]("//")||(_(_(o=h)?i("/",v=f.$length())["$=="](f):o)?v["$=="](3)?s:(n.$read_lines_until(d(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:f,skip_processing:!0})),!0):!_(f["$start_with?"]("///"))||s):s:_(_(o=_(l=h)?f["$start_with?"](":"):l)?t.const_get_relative(_t,"AttributeEntryRx")["$=~"](f):o)?(c.$process_attribute_entry(n,r,a,p["~"]),!0):s:s},J.$$arity=-4),t.defs(ut,"$process_attribute_entries",Z=function(t,e,n){var r=this;for(null==n&&(n=s),t.$skip_comment_lines();_(r.$process_attribute_entry(t,e,n));)t.$advance(),t.$skip_comment_lines()},Z.$$arity=-3),t.defs(ut,"$process_attribute_entry",Q=function(n,r,i,a){var $,o,l=this,c=s,u=s,d=s,f=s;if(null==i&&(i=s),null==a&&(a=s),_(a=_($=a)?$:function(){return _(n["$has_more_lines?"]())?t.const_get_relative(_t,"AttributeEntryRx").$match(n.$peek_line()):s}())){if(_((c=a["$[]"](2))["$nil_or_empty?"]()))c="";else if(_(c["$end_with?"](t.const_get_relative(_t,"LINE_CONTINUATION"),t.const_get_relative(_t,"LINE_CONTINUATION_LEGACY"))))for($=[c.$slice(-2,2),c.$slice(0,e(c.$length(),2)).$rstrip()],u=$[0],c=$[1],$;_(_(o=n.$advance())?(d=n.$peek_line().$lstrip())["$empty?"]()["$!"]():o)&&(_(f=d["$end_with?"](u))&&(d=d.$slice(0,e(d.$length(),2)).$rstrip()),c=""+c+function(){return _(c["$end_with?"](t.const_get_relative(_t,"LINE_BREAK")))?t.const_get_relative(_t,"EOL"):" "}()+d,_(f)););return l.$store_attribute(a["$[]"](1),c,r,i),!0}return s},Q.$$arity=-3),t.defs(ut,"$store_attribute",tt=function(r,i,a,$){var o,l=this,c=s;return null==a&&(a=s),null==$&&($=s),_(r["$end_with?"]("!"))?(o=[r.$chop(),s],r=o[0],i=o[1],o):_(r["$start_with?"]("!"))&&(o=[r.$slice(1,r.$length()),s],r=o[0],i=o[1],o),r=l.$sanitize_attribute_name(r),r["$=="]("numbered")&&(r="sectnums"),_(a)?_(i)?(r["$=="]("leveloffset")&&(_(i["$start_with?"]("+"))?i=n(a.$attr("leveloffset",0).$to_i(),(_(o=i["$[]"](h(1,-1,!1)))?o:0).$to_i()).$to_s():_(i["$start_with?"]("-"))&&(i=e(a.$attr("leveloffset",0).$to_i(),(_(o=i["$[]"](h(1,-1,!1)))?o:0).$to_i()).$to_s())),_(c=a.$set_attribute(r,i))&&(i=c,_($)&&t.const_get_qualified(t.const_get_relative(_t,"Document"),"AttributeEntry").$new(r,i).$save_to($))):_(_(o=a.$delete_attribute(r))?$:o)&&t.const_get_qualified(t.const_get_relative(_t,"Document"),"AttributeEntry").$new(r,i).$save_to($):_($)&&t.const_get_qualified(t.const_get_relative(_t,"Document"),"AttributeEntry").$new(r,i).$save_to($),[r,i]},tt.$$arity=-3),t.defs(ut,"$resolve_list_marker",et=function(t,e,n,r,i){var a=this;return null==n&&(n=0),null==r&&(r=!1),null==i&&(i=s),t["$=="]("olist")?_(e["$start_with?"]("."))?e:a.$resolve_ordered_list_marker(e,n,r,i):t["$=="]("colist")?"<1>":e},et.$$arity=-3),t.defs(ut,"$resolve_ordered_list_marker",nt=function(e,r,i,a){var $,o,l=this,c=s,d=s,f=s;return null==r&&(r=0),null==i&&(i=!1),null==a&&(a=s),c=d=s,f=u(t.const_get_relative(_t,"ORDERED_LIST_STYLES"),"find",[],($=function(n){$.$$s||this;return null==n&&(n=s),t.const_get_relative(_t,"OrderedListMarkerRxMap")["$[]"](n)["$match?"](e)},$.$$s=l,$.$$arity=1,$)),"arabic"["$==="](f)?(_(i)&&(c=n(r,1),d=e.$to_i()),e="1."):"loweralpha"["$==="](f)?(_(i)&&(c=n("a"["$[]"](0).$ord(),r).$chr(),d=e.$chop()),e="a."):"upperalpha"["$==="](f)?(_(i)&&(c=n("A"["$[]"](0).$ord(),r).$chr(),d=e.$chop()),e="A."):"lowerroman"["$==="](f)?(_(i)&&(c=n(r,1),d=l.$roman_numeral_to_int(e.$chop())),e="i)"):"upperroman"["$==="](f)&&(_(i)&&(c=n(r,1),d=l.$roman_numeral_to_int(e.$chop())),e="I)"),_(_(o=i)?c["$!="](d):o)&&l.$warn("asciidoctor: WARNING: "+a.$line_info()+": list item index: expected "+c+", got "+d),e},nt.$$arity=-2),t.defs(ut,"$is_sibling_list_item?",rt=function(e,n,r){var i=this,a=s,$=s,o=s;return _(t.const_get_qualified("::","Regexp")["$==="](r))?(a=r,$=!1):(a=t.const_get_relative(_t,"ListRxMap")["$[]"](n),$=r),!!_(o=a.$match(e))&&(!_($)||$["$=="](i.$resolve_list_marker(n,o["$[]"](1))))},rt.$$arity=3),t.defs(ut,"$next_table",it=function(i,a,$){var o,l,c,d,f=this,p=s,h=s,g=s,v=s,m=s,y=s,b=s,k=s,w=s,x=s,E=s,O=s,A=s,S=s,R=s,M=s;for(p=t.const_get_relative(_t,"Table").$new(a,$),_($["$key?"]("title"))&&(h=[$.$delete("title")],u(p,"title=",t.to_a(h)),h[e(h.length,1)],p.$assign_caption($.$delete("caption"))),_(_(o=$["$key?"]("cols"))?(g=f.$parse_colspecs($["$[]"]("cols")))["$empty?"]()["$!"]():o)&&(p.$create_columns(g),v=!0),m=i.$skip_blank_lines(),y=t.const_get_qualified(t.const_get_relative(_t,"Table"),"ParserContext").$new(i,p,$),o=[y.$format(),-1,s],b=o[0],k=o[1],w=o[2],o,_(_(o=_(l=r(m,0))?l:$["$key?"]("header-option"))?o:$["$key?"]("noheader-option"))||(x=!0),o=!1;o||_(E=i.$read_line());){for(o=!1,_(_(l=r(k=n(k,1),0))?E["$empty?"]():l)?(E=s,_(w)&&(w=n(w,1))):b["$=="]("psv")&&(_(y["$starts_with_delimiter?"](E))?(E=E.$slice(1,E.$length()),y.$close_open_cell(),_(w)&&(w=s)):(c=f.$parse_cellspec(E,"start",y.$delimiter()),l=t.to_ary(c),O=null==l[0]?s:l[0],E=null==l[1]?s:l[1],c,_(O)?(y.$close_open_cell(O),_(w)&&(w=s)):_(_(l=w)?w["$=="](k):l)&&(l=[!1,s],x=l[0],w=l[1],l))),_((l=k["$=="](0))?x:k["$=="](0))&&(_(_(l=i["$has_more_lines?"]())?i.$peek_line()["$empty?"]():l)?w=1:x=!1),l=!1;l||_(!0);){if(l=!1,!_(_(c=E)?A=y.$match_delimiter(E):c)){h=[""+y.$buffer()+E+t.const_get_relative(_t,"EOL")],u(y,"buffer=",t.to_a(h)),h[e(h.length,1)],S=b,"csv"["$==="](S)?(h=[""+y.$buffer().$rstrip()+" "],u(y,"buffer=",t.to_a(h)),h[e(h.length,1)],_(y["$buffer_has_unclosed_quotes?"]())?(_(_(c=w)?k["$=="](0):c)&&(c=[!1,s],
x=c[0],w=c[1],c),y.$keep_cell_open()):y.$close_cell(!0)):"dsv"["$==="](S)?y.$close_cell(!0):y.$keep_cell_open();break}if(S=b,"csv"["$==="](S)){if(_(y["$buffer_has_unclosed_quotes?"](A.$pre_match()))){if(_((E=y.$skip_past_delimiter(A))["$empty?"]()))break;l=!0}h=[""+y.$buffer()+A.$pre_match()],u(y,"buffer=",t.to_a(h)),h[e(h.length,1)]}else if("dsv"["$==="](S)){if(_(A.$pre_match()["$end_with?"]("\\"))){if(_((E=y.$skip_past_escaped_delimiter(A))["$empty?"]())){h=[""+y.$buffer()+t.const_get_relative(_t,"EOL")],u(y,"buffer=",t.to_a(h)),h[e(h.length,1)],y.$keep_cell_open();break}l=!0}h=[""+y.$buffer()+A.$pre_match()],u(y,"buffer=",t.to_a(h)),h[e(h.length,1)]}else{if(_(A.$pre_match()["$end_with?"]("\\"))){if(_((E=y.$skip_past_escaped_delimiter(A))["$empty?"]())){h=[""+y.$buffer()+t.const_get_relative(_t,"EOL")],u(y,"buffer=",t.to_a(h)),h[e(h.length,1)],y.$keep_cell_open();break}l=!0}d=f.$parse_cellspec(A.$pre_match()),c=t.to_ary(d),O=null==c[0]?s:c[0],R=null==c[1]?s:c[1],d,y.$push_cellspec(O),h=[""+y.$buffer()+R],u(y,"buffer=",t.to_a(h)),h[e(h.length,1)]}_((E=A.$post_match())["$empty?"]())&&(E=s),y.$close_cell()}_(y["$cell_open?"]())||i.$skip_blank_lines(),_(i["$has_more_lines?"]())||_(y["$cell_open?"]())&&y.$close_cell(!0)}return _(_(o=(M=p.$attributes(),_(l=M["$[]"]("colcount"))?l:(h=["colcount",p.$columns().$size()],u(M,"[]=",t.to_a(h)),h[e(h.length,1)]))["$=="](0))?o:v)||p.$assign_column_widths(),_(x)&&(h=[!0],u(p,"has_header_option=",t.to_a(h)),h[e(h.length,1)],h=["header-option",""],u($,"[]=",t.to_a(h)),h[e(h.length,1)],h=["options",function(){return _($["$key?"]("options"))?""+$["$[]"]("options")+",header":"header"}()],u($,"[]=",t.to_a(h)),h[e(h.length,1)]),p.$partition_header_footer($),p},it.$$arity=3),t.defs(ut,"$parse_colspecs",at=function(n){var r,i,a=this,$=s;return _(n["$include?"](" "))&&(n=n.$delete(" ")),n["$=="](n.$to_i().$to_s())?u(t.const_get_qualified("::","Array"),"new",[n.$to_i()],(r=function(){r.$$s||this;return d(["width"],{width:1})},r.$$s=a,r.$$arity=0,r)):($=[],u(n.$split(",",-1),"each",[],(i=function(n){var r,a,o,l=i.$$s||this,c=s,f=s,p=s,h=s,g=s;return null==n&&(n=s),_(n["$empty?"]())?$["$<<"](d(["width"],{width:1})):_(c=t.const_get_relative(_t,"ColumnSpecRx").$match(n))?(f=d([],{}),_(c["$[]"](2))&&(a=c["$[]"](2).$split("."),r=t.to_ary(a),p=null==r[0]?s:r[0],h=null==r[1]?s:r[1],a,_(_(r=p["$nil_or_empty?"]()["$!"]())?t.const_get_relative(_t,"TableCellHorzAlignments")["$key?"](p):r)&&(g=["halign",t.const_get_relative(_t,"TableCellHorzAlignments")["$[]"](p)],u(f,"[]=",t.to_a(g)),g[e(g.length,1)]),_(_(r=h["$nil_or_empty?"]()["$!"]())?t.const_get_relative(_t,"TableCellVertAlignments")["$key?"](h):r)&&(g=["valign",t.const_get_relative(_t,"TableCellVertAlignments")["$[]"](h)],u(f,"[]=",t.to_a(g)),g[e(g.length,1)])),g=["width",function(){return _(c["$[]"](3))?c["$[]"](3).$to_i():1}()],u(f,"[]=",t.to_a(g)),g[e(g.length,1)],_(_(r=c["$[]"](4))?t.const_get_relative(_t,"TableCellStyles")["$key?"](c["$[]"](4)):r)&&(g=["style",t.const_get_relative(_t,"TableCellStyles")["$[]"](c["$[]"](4))],u(f,"[]=",t.to_a(g)),g[e(g.length,1)]),_(c["$[]"](1))?u(1,"upto",[c["$[]"](1).$to_i()],(o=function(){o.$$s||this;return $["$<<"](f.$dup())},o.$$s=l,o.$$arity=0,o)):$["$<<"](f)):s},i.$$s=a,i.$$arity=1,i)),$)},at.$$arity=1),t.defs(ut,"$parse_cellspec",$t=function(n,r,i){var a,$,o=s,l=s,c=s,f=s,p=s,h=s,g=s;if(null==r&&(r="end"),null==i&&(i=s),a=[s,""],o=a[0],l=a[1],a,r["$=="]("start")){if(!_(n["$include?"](i)))return[s,n];if($=n.$split(i,2),a=t.to_ary($),c=null==a[0]?s:a[0],l=null==a[1]?s:a[1],$,!_(o=t.const_get_relative(_t,"CellSpecStartRx").$match(c)))return[s,n];if(_(o["$[]"](0)["$empty?"]()))return[d([],{}),l]}else{if(!_(o=t.const_get_relative(_t,"CellSpecEndRx").$match(n)))return[d([],{}),n];if(_(o["$[]"](0).$lstrip()["$empty?"]()))return[d([],{}),n.$rstrip()];l=o.$pre_match()}return f=d([],{}),_(o["$[]"](1))&&($=o["$[]"](1).$split("."),a=t.to_ary($),p=null==a[0]?s:a[0],h=null==a[1]?s:a[1],$,p=function(){return _(p["$nil_or_empty?"]())?1:p.$to_i()}(),h=function(){return _(h["$nil_or_empty?"]())?1:h.$to_i()}(),o["$[]"](2)["$=="]("+")?(p["$=="](1)||(g=["colspan",p],u(f,"[]=",t.to_a(g)),g[e(g.length,1)]),h["$=="](1)||(g=["rowspan",h],u(f,"[]=",t.to_a(g)),g[e(g.length,1)])):o["$[]"](2)["$=="]("*")&&(p["$=="](1)||(g=["repeatcol",p],u(f,"[]=",t.to_a(g)),g[e(g.length,1)]))),_(o["$[]"](3))&&($=o["$[]"](3).$split("."),a=t.to_ary($),p=null==a[0]?s:a[0],h=null==a[1]?s:a[1],$,_(_(a=p["$nil_or_empty?"]()["$!"]())?t.const_get_relative(_t,"TableCellHorzAlignments")["$key?"](p):a)&&(g=["halign",t.const_get_relative(_t,"TableCellHorzAlignments")["$[]"](p)],u(f,"[]=",t.to_a(g)),g[e(g.length,1)]),_(_(a=h["$nil_or_empty?"]()["$!"]())?t.const_get_relative(_t,"TableCellVertAlignments")["$key?"](h):a)&&(g=["valign",t.const_get_relative(_t,"TableCellVertAlignments")["$[]"](h)],u(f,"[]=",t.to_a(g)),g[e(g.length,1)])),_(_(a=o["$[]"](4))?t.const_get_relative(_t,"TableCellStyles")["$key?"](o["$[]"](4)):a)&&(g=["style",t.const_get_relative(_t,"TableCellStyles")["$[]"](o["$[]"](4))],u(f,"[]=",t.to_a(g)),g[e(g.length,1)]),[f,l]},$t.$$arity=-2),t.defs(ut,"$parse_style_attribute",ot=function(r,a){var $,o,l,c,f,p=this,h=s,g=s,v=s,m=s,y=s,b=s,k=s,w=s,x=s;return null==a&&(a=s),_(_($=_(o=h=r["$[]"](1))?h["$include?"](" ")["$!"]():o)?t.const_get_relative(_t,"Compliance").$shorthand_property_syntax():$)?($=["style",[],d([],{})],g=$[0],v=$[1],m=$[2],$,y=u(p,"lambda",[],(l=function(){var n,r=l.$$s||this,i=s,$=s;return _(v["$empty?"]())?g["$=="]("style")?s:r.$warn("asciidoctor: WARNING:"+function(){return _(a)?" "+a.$prev_line_info()+":":s}()+" invalid empty "+g+" detected in style attribute"):(i=g,"role"["$==="](i)||"option"["$==="](i)?(_(n=m["$[]"](g))?n:($=[g,[]],u(m,"[]=",t.to_a($)),$[e($.length,1)]))["$<<"](v.$join()):"id"["$==="](i)?(_(m["$key?"]("id"))&&r.$warn("asciidoctor: WARNING:"+function(){return _(a)?" "+a.$prev_line_info()+":":s}()+" multiple ids detected in style attribute"),$=[g,v.$join()],u(m,"[]=",t.to_a($)),$[e($.length,1)]):($=[g,v.$join()],u(m,"[]=",t.to_a($)),$[e($.length,1)]),v=[])},l.$$s=p,l.$$arity=0,l)),u(h,"each_char",[],(c=function(t){var e,n,r=(c.$$s||this,s);return null==t&&(t=s),_(_(e=_(n=t["$=="]("."))?n:t["$=="]("#"))?e:t["$=="]("%"))?(y.$call(),function(){return r=t,"."["$==="](r)?g="role":"#"["$==="](r)?g="id":"%"["$==="](r)?g="option":s}()):v["$<<"](t)},c.$$s=p,c.$$arity=1,c)),g["$=="]("style")?(b=["style",h],u(r,"[]=",t.to_a(b)),b[e(b.length,1)]):(y.$call(),_(m["$key?"]("style"))&&(b=["style",m["$[]"]("style")],u(r,"[]=",t.to_a(b)),k=b[e(b.length,1)]),_(m["$key?"]("id"))&&(b=["id",m["$[]"]("id")],u(r,"[]=",t.to_a(b)),b[e(b.length,1)]),_(m["$key?"]("role"))&&(b=["role",i(m["$[]"]("role")," ")],u(r,"[]=",t.to_a(b)),b[e(b.length,1)]),_(m["$key?"]("option"))&&(u(w=m["$[]"]("option"),"each",[],(f=function(n){f.$$s||this;return null==n&&(n=s),b=[""+n+"-option",""],u(r,"[]=",t.to_a(b)),b[e(b.length,1)]},f.$$s=p,f.$$arity=1,f)),_(x=r["$[]"]("options"))?(b=["options",i(n(w,x.$split(",")),",")],u(r,"[]=",t.to_a(b)),b[e(b.length,1)]):(b=["options",i(w,",")],u(r,"[]=",t.to_a(b)),b[e(b.length,1)])),k)):(b=["style",h],u(r,"[]=",t.to_a(b)),b[e(b.length,1)])},ot.$$arity=-2),t.defs(ut,"$adjust_indentation!",st=function(a,$,o){var l,c,d,f,h,g,v=this,m=s,y=s,b=s;return null==$&&($=0),null==o&&(o=0),_(a["$empty?"]())?s:(_(_(l=r(o=o.$to_i(),0))?a.$join()["$include?"](t.const_get_relative(_t,"TAB")):l)&&(m=i(" ",o),u(a,"map!",[],(c=function(r){var a,$,l=c.$$s||this,d=s;return null==r&&(r=s),_(r["$empty?"]())?r:(_(r["$start_with?"](t.const_get_relative(_t,"TAB")))&&(r=u(r,"sub",[t.const_get_relative(_t,"TabIndentRx")],(a=function(){var t;a.$$s||this;return i(m,((t=p["~"])===s?s:t["$[]"](0)).$length())},a.$$s=l,a.$$arity=0,a))),_(r["$include?"](t.const_get_relative(_t,"TAB")))?(d=0,r=u(r,"gsub",[t.const_get_relative(_t,"TabRx")],($=function(){var t=($.$$s||this,s),r=s;return null==p["~"]&&(p["~"]=s),(t=n(p["~"].$begin(0),d))["$%"](o)["$=="](0)?(d=n(d,e(o,1)),m):((r=e(o,t["$%"](o)))["$=="](1)||(d=n(d,e(r,1))),i(" ",r))},$.$$s=l,$.$$arity=0,$))):r)},c.$$s=v,c.$$arity=1,c))),_(_(l=$)?r($=$.$to_i(),-1):l)?(y=s,function(){var n=t.new_brk();try{return u(a,"each",[],(d=function(i){var a,$=(d.$$s||this,s);return null==i&&(i=s),_(i["$empty?"]())?s:($=e(i.$length(),i.$lstrip().$length()))["$=="](0)?(y=s,void t.brk(s,n)):_(_(a=y)?r($,y):a)?s:y=$},d.$$s=v,d.$$brk=n,d.$$arity=1,d))}catch(i){if(i===n)return i.$v;throw i}}(),$["$=="](0)?_(y)&&u(a,"map!",[],(f=function(e){f.$$s||this;return null==e&&(e=s),_(e["$empty?"]())?e:e["$[]"](t.Range.$new(y,-1,!1))},f.$$s=v,f.$$arity=1,f)):(b=i(" ",$),_(y)?u(a,"map!",[],(h=function(e){h.$$s||this;return null==e&&(e=s),_(e["$empty?"]())?e:n(b,e["$[]"](t.Range.$new(y,-1,!1)))},h.$$s=v,h.$$arity=1,h)):u(a,"map!",[],(g=function(t){g.$$s||this;return null==t&&(t=s),_(t["$empty?"]())?t:n(b,t)},g.$$s=v,g.$$arity=1,g))),s):s)},st.$$arity=-2),t.defs(ut,"$sanitize_attribute_name",lt=function(e){return e.$gsub(t.const_get_relative(_t,"InvalidAttributeNameCharsRx"),"").$downcase()},lt.$$arity=1),t.defs(ut,"$roman_numeral_to_int",ct=function(i){var $,o=this,l=s,c=s;return i=i.$downcase(),l=d(["i","v","x"],{i:1,v:5,x:10}),c=0,u(t.Range.$new(0,e(i.$length(),1),!1),"each",[],($=function(o){var u,d=($.$$s||this,s);return null==o&&(o=s),d=l["$[]"](i["$[]"](t.Range.$new(o,o,!1))),c=_(_(u=a(n(o,1),i.$length()))?r(l["$[]"](i["$[]"](t.Range.$new(n(o,1),n(o,1),!1))),d):u)?e(c,d):n(c,d)},$.$$s=o,$.$$arity=1,$)),c},ct.$$arity=1)}(y[0],null,y)}(o[0],o)},Opal.modules["asciidoctor/path_resolver"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var a=(t.top,[]),$=t.nil,o=(t.breaker,t.slice,t.module),s=t.klass,l=t.truthy,c=t.hash2,u=t.range,_=t.send;return t.add_stubs(["$attr_accessor","$is_root?","$expand_path","$pwd","$==","$start_with?","$match?","$nil_or_empty?","$include?","$tr","$partition_path","$join_path","$[]","$posixify","$is_web_root?","$is_unc?","$slice","$+","$index","$split","$shift","$delete","$[]=","$-","$*","$raise","$empty?","$system_path","$!=","$!","$dup","$each","$>","$size","$pop","$fetch","$warn","$<<","$end_with?","$uri_prefix","$length","$gsub"]),function(a,d){var f,p=f=o(a,"Asciidoctor"),h=(p.$$proto,[p].concat(d));!function(a,o,d){function f(){}var p,h,g,v,m,y,b,k,w,x,E,O=f=s(a,o,"PathResolver",f),A=O.$$proto,S=[O].concat(d);return A.file_separator=A._partition_path_web=A._partition_path_sys=A.working_dir=$,t.const_set(S[0],"DOT","."),t.const_set(S[0],"DOT_DOT",".."),t.const_set(S[0],"DOT_SLASH","./"),t.const_set(S[0],"SLASH","/"),t.const_set(S[0],"BACKSLASH","\\"),t.const_set(S[0],"DOUBLE_SLASH","//"),t.const_set(S[0],"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/),O.$attr_accessor("file_separator"),O.$attr_accessor("working_dir"),t.defn(O,"$initialize",p=function(e,n){var r,i=this;return null==e&&(e=$),null==n&&(n=$),i.file_separator=function(){return l(e)?e:l(r=t.const_get_qualified(t.const_get_qualified("::","File"),"ALT_SEPARATOR"))?r:t.const_get_qualified(t.const_get_qualified("::","File"),"SEPARATOR")}(),l(n)?i.working_dir=function(){return l(i["$is_root?"](n))?n:t.const_get_qualified("::","File").$expand_path(n)}():i.working_dir=t.const_get_qualified("::","File").$expand_path(t.const_get_qualified("::","Dir").$pwd()),i._partition_path_sys=c([],{}),i._partition_path_web=c([],{})},p.$$arity=-1),t.const_get_relative(S,"RUBY_ENGINE")["$=="]("opal")&&t.defn(O,"$is_root?",h=function(e){var n,r,i,a=this;return l(n=l(r=e["$start_with?"](t.const_get_relative(S,"SLASH")))?r:(i=t.const_get_qualified("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"))?e["$start_with?"]("file://"):t.const_get_qualified("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"))?n:(r=a.file_separator["$=="](t.const_get_relative(S,"BACKSLASH")))?t.const_get_relative(S,"WindowsRootRx")["$match?"](e):a.file_separator["$=="](t.const_get_relative(S,"BACKSLASH"))},h.$$arity=1),t.defn(O,"$is_unc?",g=function(e){return e["$start_with?"](t.const_get_relative(S,"DOUBLE_SLASH"))},g.$$arity=1),t.defn(O,"$is_web_root?",v=function(e){return e["$start_with?"](t.const_get_relative(S,"SLASH"))},v.$$arity=1),t.defn(O,"$posixify",m=function(e){return l(e["$nil_or_empty?"]())?"":l(e["$include?"](t.const_get_relative(S,"BACKSLASH")))?e.$tr(t.const_get_relative(S,"BACKSLASH"),t.const_get_relative(S,"SLASH")):e},m.$$arity=1),t.alias(O,"posixfy","posixify"),t.defn(O,"$expand_path",y=function(e){var n,r,i=this,a=$,o=$,s=$;return r=i.$partition_path(e),n=t.to_ary(r),a=null==n[0]?$:n[0],o=null==n[1]?$:n[1],s=null==n[2]?$:n[2],r,i.$join_path(a,o)},y.$$arity=1),t.defn(O,"$partition_path",b=function(r,i){var a=this,o=$,s=$,c=$,d=$,f=$;return null==i&&(i=!1),l(o=function(){return l(i)?a._partition_path_web["$[]"](r):a._partition_path_sys["$[]"](r)}())?o:(s=a.$posixify(r),c=function(){return l(i)?l(a["$is_web_root?"](s))?t.const_get_relative(S,"SLASH"):l(s["$start_with?"](t.const_get_relative(S,"DOT_SLASH")))?t.const_get_relative(S,"DOT_SLASH"):$:l(a["$is_root?"](s))?l(a["$is_unc?"](s))?t.const_get_relative(S,"DOUBLE_SLASH"):l(s["$start_with?"](t.const_get_relative(S,"SLASH")))?t.const_get_relative(S,"SLASH"):s.$slice(0,e(s.$index(t.const_get_relative(S,"SLASH")),1)):l(s["$start_with?"](t.const_get_relative(S,"DOT_SLASH")))?t.const_get_relative(S,"DOT_SLASH"):$}(),d=s.$split(t.const_get_relative(S,"SLASH")),c["$=="](t.const_get_relative(S,"DOUBLE_SLASH"))?d=d["$[]"](u(2,-1,!1)):l(c)&&d.$shift(),d.$delete(t.const_get_relative(S,"DOT")),f=[r,[d,c,s]],_(function(){return l(i)?a._partition_path_web:a._partition_path_sys}(),"[]=",t.to_a(f)),f[n(f.length,1)])},b.$$arity=-2),t.defn(O,"$join_path",k=function(e,n){return null==n&&(n=$),l(n)?""+n+r(e,t.const_get_relative(S,"SLASH")):r(e,t.const_get_relative(S,"SLASH"))},k.$$arity=-2),t.defn(O,"$system_path",w=function(e,n,r,a){var o,s,u,d=this,f=$,p=$,h=$,g=$,v=$,m=$,y=$,b=$,k=$,w=$;if(null==n&&(n=$),null==r&&(r=$),null==a&&(a=c([],{})),l(r)&&(l(d["$is_root?"](r))||d.$raise(t.const_get_qualified("::","SecurityError"),"Jail is not an absolute path: "+r),r=d.$posixify(r)),l(e["$nil_or_empty?"]())?f=[]:(s=d.$partition_path(e),o=t.to_ary(s),f=null==o[0]?$:o[0],p=null==o[1]?$:o[1],h=null==o[2]?$:o[2],s),l(f["$empty?"]())){if(l(n["$nil_or_empty?"]()))return function(){return l(r)?r:d.working_dir}();if(!l(d["$is_root?"](n)))return d.$system_path(n,r,r,a);if(!l(r))return d.$expand_path(n)}return l(l(o=p)?p["$!="](t.const_get_relative(S,"DOT_SLASH")):o)&&(g=d.$join_path(f,p),l(l(o=r["$!"]())?o:g["$start_with?"](r)))?g:(n=l(n["$nil_or_empty?"]())?function(){return l(r)?r:d.working_dir}():l(d["$is_root?"](n))?d.$posixify(n):d.$system_path(n,r,r,a),r["$=="](n)?(s=d.$partition_path(r),o=t.to_ary(s),v=null==o[0]?$:o[0],m=null==o[1]?$:o[1],h=null==o[2]?$:o[2],s,y=v.$dup()):l(r)?(l(n["$start_with?"](r))||d.$raise(t.const_get_qualified("::","SecurityError"),""+(l(o=a["$[]"]("target_name"))?o:"Start path")+" "+n+" is outside of jail: "+r+" (disallowed in safe mode)"),s=d.$partition_path(n),o=t.to_ary(s),y=null==o[0]?$:o[0],b=null==o[1]?$:o[1],h=null==o[2]?$:o[2],s,s=d.$partition_path(r),o=t.to_ary(s),v=null==o[0]?$:o[0],m=null==o[1]?$:o[1],h=null==o[2]?$:o[2],s):(s=d.$partition_path(n),o=t.to_ary(s),y=null==o[0]?$:o[0],b=null==o[1]?$:o[1],h=null==o[2]?$:o[2],s,m=b),k=y.$dup(),w=!1,_(f,"each",[],(u=function(n){var o,s=u.$$s||this,c=$;return null==n&&(n=$),n["$=="](t.const_get_relative(S,"DOT_DOT"))?l(r)?l(i(k.$size(),v.$size()))?k.$pop():l((c=l(o=c)?o:a.$fetch("recover",!0))["$!"]())?s.$raise(t.const_get_qualified("::","SecurityError"),""+(l(o=a["$[]"]("target_name"))?o:"path")+" "+e+" refers to location outside jail: "+r+" (disallowed in safe mode)"):l(w["$!"]())?(s.$warn("asciidoctor: WARNING: "+(l(o=a["$[]"]("target_name"))?o:"path")+" has illegal reference to ancestor of jail, auto-recovering"),w=!0):$:k.$pop():k["$<<"](n)},u.$$s=d,u.$$arity=1,u)),d.$join_path(k,m))},w.$$arity=-2),t.defn(O,"$web_path",x=function(e,n){var r,i,a,o=this,s=$,c=$,u=$,d=$,f=$,p=$;return null==n&&(n=$),e=o.$posixify(e),n=o.$posixify(n),s=$,l(l(r=n["$nil_or_empty?"]())?r:o["$is_web_root?"](e))||(e=function(){return l(n["$end_with?"](t.const_get_relative(S,"SLASH")))?""+n+e:""+n+t.const_get_relative(S,"SLASH")+e}(),l(s=t.const_get_relative(S,"Helpers").$uri_prefix(e))&&(e=e["$[]"](t.Range.$new(s.$length(),-1,!1)))),i=o.$partition_path(e,!0),r=t.to_ary(i),c=null==r[0]?$:r[0],u=null==r[1]?$:r[1],d=null==r[2]?$:r[2],i,f=[],_(c,"each",[],(a=function(e){var n;a.$$s||this;return null==e&&(e=$),e["$=="](t.const_get_relative(S,"DOT_DOT"))?l(f["$empty?"]())?l(l(n=u)?u["$!="](t.const_get_relative(S,"DOT_SLASH")):n)?$:f["$<<"](e):f["$[]"](-1)["$=="](t.const_get_relative(S,"DOT_DOT"))?f["$<<"](e):f.$pop():f["$<<"](e)},a.$$s=o,a.$$arity=1,a)),l((p=o.$join_path(f,u))["$include?"](" "))&&(p=p.$gsub(" ","%20")),l(s)?""+s+p:p},x.$$arity=-2),t.defn(O,"$relative_path",E=function(n,r){var i,a=this,o=$;return l(l(i=a["$is_root?"](n))?a["$is_root?"](r):i)?(o=function(){return l(r["$end_with?"](a.file_separator))?r.$length():e(r.$length(),1)}(),n["$[]"](t.Range.$new(o,-1,!1))):n},E.$$arity=2),$&&"relative_path"}(h[0],null,h)}(a[0],a)},Opal.modules["asciidoctor/reader"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var l=(t.top,[]),c=t.nil,u=(t.breaker,t.slice,t.module),_=t.klass,d=t.truthy,f=t.hash2,p=t.range,h=t.send,g=t.gvars,v=t.hash;return t.add_stubs(["$attr_accessor","$path","$lineno","$attr_reader","$!","$===","$split","$file","$dir","$dirname","$==","$basename","$prepare_lines","$dup","$empty?","$[]","$normalize_lines_from_string","$normalize_lines_array","$+","$nil?","$peek_line","$nil_or_empty?","$>","$process_line","$times","$read_line","$<<","$-","$unshift_all","$has_more_lines?","$shift","$*","$read_lines","$unshift","$advance","$eof?","$start_with?","$match?","$push","$read_lines_until","$size","$clear","$[]=","$new","$line_info","$to_i","$fetch","$attributes","$<","$catalog","$key?","$skip_front_matter!","$pop","$adjust_indentation!","$attr","$end_with?","$include?","$=~","$preprocess_conditional_directive","$preprocess_include_directive","$strip","$pop_include","$downcase","$warn","$none?","$any?","$resolve_expr_val","$send","$to_sym","$replace_next_line","$rstrip","$sub_attributes","$attribute_missing","$include_processors?","$find","$handles?","$instance","$process_method","$parse","$>=","$safe","$pwd","$base_dir","$join","$uriish?","$require_library","$normalize_system_path","$file?","$relative_path","$each","$map","$/","$concat","$to_a","$uniq","$sort","$slice","$length","$open","$each_line","$infinite?","$push_include","$delete","$value?","$force_encoding","$rindex","$delete_at","$keys","$read","$extname","$rootname","$<=","$!=","$to_f","$extensions?","$extensions","$include_processors","$class","$object_id","$inspect","$to_s"]),function(l,m){var y,b=y=u(l,"Asciidoctor"),k=(b.$$proto,[b].concat(m));!function(a,$,o){function s(){}var l,u,g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P,L,D,B,j,U,F,H,G=s=_(a,$,"Reader",s),Y=G.$$proto,W=[G].concat(o);return Y.file=Y.dir=Y.lines=Y.process_lines=Y.look_ahead=Y.eof=Y.unescape_next_line=Y.lineno=Y.path=Y.source_lines=c,function(e,n,r){function i(){}var a,$,o=i=_(e,n,"Cursor",i);o.$$proto,[o].concat(r);return o.$attr_accessor("file"),o.$attr_accessor("dir"),o.$attr_accessor("path"),o.$attr_accessor("lineno"),t.defn(o,"$initialize",a=function(t,e,n,r){var i=this;return null==e&&(e=c),null==n&&(n=c),null==r&&(r=c),i.file=t,i.dir=e,i.path=n,i.lineno=r},a.$$arity=-2),t.defn(o,"$line_info",$=function(){var t=this;return""+t.$path()+": line "+t.$lineno()},$.$$arity=0),t.alias(o,"to_s","line_info")}(W[0],null,W),G.$attr_reader("file"),G.$attr_reader("dir"),G.$attr_reader("path"),G.$attr_reader("lineno"),G.$attr_reader("source_lines"),G.$attr_accessor("process_lines"),t.defn(G,"$initialize",l=function(e,n,r){var i,a,$=this;return null==e&&(e=c),null==n&&(n=c),null==r&&(r=f([],{})),d(n["$!"]())?($.file=$.dir=c,$.path="<stdin>",$.lineno=1):d(t.const_get_qualified("::","String")["$==="](n))?($.file=n,a=t.const_get_qualified("::","File").$split($.file),i=t.to_ary(a),$.dir=null==i[0]?c:i[0],$.path=null==i[1]?c:i[1],a,$.lineno=1):($.file=n.$file(),$.dir=n.$dir(),$.path=d(i=n.$path())?i:"<stdin>",d($.file)&&(d($.dir)||($.dir=t.const_get_qualified("::","File").$dirname($.file),$.dir["$=="](".")&&($.dir=c)),d(n.$path())||($.path=t.const_get_qualified("::","File").$basename($.file))),$.lineno=d(i=n.$lineno())?i:1),$.lines=function(){return d(e)?$.$prepare_lines(e,r):[]}(),$.source_lines=$.lines.$dup(),$.eof=$.lines["$empty?"](),$.look_ahead=0,$.process_lines=!0,$.unescape_next_line=!1},l.$$arity=-1),t.defn(G,"$prepare_lines",u=function(e,n){return null==n&&(n=f([],{})),d(t.const_get_qualified("::","String")["$==="](e))?d(n["$[]"]("normalize"))?t.const_get_relative(W,"Helpers").$normalize_lines_from_string(e):e.$split(t.const_get_relative(W,"EOL"),-1):d(n["$[]"]("normalize"))?t.const_get_relative(W,"Helpers").$normalize_lines_array(e):e.$dup()},u.$$arity=-2),t.defn(G,"$process_line",g=function(t){var n=this;return d(n.process_lines)&&(n.look_ahead=e(n.look_ahead,1)),t},g.$$arity=1),t.defn(G,"$has_more_lines?",v=function(){var t,e=this;return(d(t=e.eof)?t:e.eof=e.$peek_line()["$nil?"]())["$!"]()},v.$$arity=0),t.defn(G,"$next_line_empty?",m=function(){var t=this;return t.$peek_line()["$nil_or_empty?"]()},m.$$arity=0),t.defn(G,"$peek_line",y=function(t){var e,r=this,i=c;return null==t&&(t=!1),d(d(e=t)?e:n(r.look_ahead,0))?d(r.unescape_next_line)?r.lines["$[]"](0)["$[]"](p(1,-1,!1)):r.lines["$[]"](0):d(d(e=r.eof)?e:r.lines["$empty?"]())?(r.eof=!0,r.look_ahead=0,c):d((i=r.$process_line(r.lines["$[]"](0)))["$!"]())?r.$peek_line():i},y.$$arity=-1),t.defn(G,"$peek_lines",b=function(e,n){var i,a=this,$=c,o=c;return null==e&&(e=1),null==n&&(n=!0),$=a.look_ahead,o=[],function(){var $=t.new_brk();try{return h(e,"times",[],(i=function(){var e=i.$$s||this,a=c;return null==e.lineno&&(e.lineno=c),d(a=e.$read_line(n))?o["$<<"](a):(d(n)&&(e.lineno=r(e.lineno,1)),void t.brk(c,$))},i.$$s=a,i.$$brk=$,i.$$arity=0,i))}catch(s){if(s===$)return s.$v;throw s}}(),d(o["$empty?"]())||(a.$unshift_all(o),d(n)&&(a.look_ahead=$)),o},b.$$arity=-1),t.defn(G,"$read_line",k=function(t){var e,r,i=this;return null==t&&(t=!1),d(d(e=d(r=t)?r:n(i.look_ahead,0))?e:i["$has_more_lines?"]())?i.$shift():c},k.$$arity=-1),t.defn(G,"$read_lines",w=function(){var t=this,e=c;for(e=[];d(t["$has_more_lines?"]());)e["$<<"](t.$shift());return e},w.$$arity=0),t.alias(G,"readlines","read_lines"),t.defn(G,"$read",x=function(){var e=this;return i(e.$read_lines(),t.const_get_relative(W,"EOL"))},x.$$arity=0),t.defn(G,"$advance",E=function(t){var e=this;return null==t&&(t=!0),e.$read_line(t)["$!"]()["$!"]()},E.$$arity=-1),t.defn(G,"$unshift_line",O=function(t){var e=this;return e.$unshift(t),c},O.$$arity=1),t.alias(G,"restore_line","unshift_line"),t.defn(G,"$unshift_lines",A=function(t){var e=this;return e.$unshift_all(t),c},A.$$arity=1),t.alias(G,"restore_lines","unshift_lines"),t.defn(G,"$replace_next_line",S=function(t){var e=this;return e.$advance(),e.$unshift(t),c},S.$$arity=1),t.alias(G,"replace_line","replace_next_line"),t.defn(G,"$skip_blank_lines",R=function(){var t=this,n=c,r=c;if(d(t["$eof?"]()))return 0;for(n=0;d(r=t.$peek_line());){if(!d(r["$empty?"]()))return n;t.$advance(),n=e(n,1)}return n},R.$$arity=0),t.defn(G,"$skip_comment_lines",M=function(e){var n,r=this,i=c,a=c,$=c,o=c;if(null==e&&(e=f([],{})),d(r["$eof?"]()))return[];for(i=[],a=e["$[]"]("include_blank_lines");d($=r.$peek_line());)if(d(d(n=a)?$["$empty?"]():n))i["$<<"](r.$shift());else if(d(d(n=o=$["$start_with?"]("//"))?t.const_get_relative(W,"CommentBlockRx")["$match?"]($):n))i["$<<"](r.$shift()),h(i,"push",t.to_a(r.$read_lines_until(f(["terminator","read_last_line","skip_processing"],{terminator:$,read_last_line:!0,skip_processing:!0}))));else{if(!d(d(n=o)?t.const_get_relative(W,"CommentLineRx")["$match?"]($):n))break;i["$<<"](r.$shift())}return i},M.$$arity=-1),t.defn(G,"$skip_line_comments",T=function(){var e=this,n=c,r=c;if(d(e["$eof?"]()))return[];for(n=[];d(r=e.$peek_line())&&d(t.const_get_relative(W,"CommentLineRx")["$match?"](r));)n["$<<"](e.$shift());return n},T.$$arity=0),t.defn(G,"$terminate",I=function(){var t=this;return t.lineno=e(t.lineno,t.lines.$size()),t.lines.$clear(),t.eof=!0,t.look_ahead=0,c},I.$$arity=0),t.defn(G,"$eof?",q=function(){var t=this;return t["$has_more_lines?"]()["$!"]()},q.$$arity=0),t.alias(G,"empty?","eof?"),t.defn(G,"$read_lines_until",C=function(e){var n,i,a,$,o=this,s=C.$$p,l=s||c,u=c,_=c,p=c,g=c,v=c,m=c,y=c,b=c,k=c,w=c,x=c;for(null==e&&(e=f([],{})),s&&(C.$$p=null),u=[],d(e["$[]"]("skip_first_line"))&&o.$advance(),d(d(n=o.process_lines)?e["$[]"]("skip_processing"):n)?(o.process_lines=!1,_=!0):_=!1,d(p=e["$[]"]("terminator"))?(g=!1,v=!1):(g=e["$[]"]("break_on_blank_lines"),v=e["$[]"]("break_on_list_continuation")),m=e["$[]"]("skip_line_comments"),y=!1,b=!1,k=!1;d(d(i=k["$!"]())?w=o.$read_line():i);)k=function(){for(;d(!0);)return!!d(d(a=p)?w["$=="](p):a)||(!!d(d(a=g)?w["$empty?"]():a)||(d(d(a=d($=v)?y:$)?w["$=="](t.const_get_relative(W,"LIST_CONTINUATION")):a)?(x=["preserve_last_line",!0],h(e,"[]=",t.to_a(x)),x[r(x.length,1)],!0):!!d((a=l!==c)?t.yield1(l,w):l!==c)));return c}(),d(k)?(d(e["$[]"]("read_last_line"))&&(u["$<<"](w),y=!0),d(e["$[]"]("preserve_last_line"))&&(o.$unshift(w),b=!0)):d(d(i=d(a=m)?w["$start_with?"]("//"):a)?t.const_get_relative(W,"CommentLineRx")["$match?"](w):i)||(u["$<<"](w),y=!0);return d(_)&&(o.process_lines=!0,d(d(n=b)?p["$!"]():n)&&(o.look_ahead=r(o.look_ahead,1))),u},C.$$arity=-1),t.defn(G,"$shift",N=function(){var t=this;return t.lineno=e(t.lineno,1),t.look_ahead["$=="](0)||(t.look_ahead=r(t.look_ahead,1)),t.lines.$shift()},N.$$arity=0),t.defn(G,"$unshift",z=function(t){var n=this;return n.lineno=r(n.lineno,1),n.look_ahead=e(n.look_ahead,1),n.eof=!1,n.lines.$unshift(t)},z.$$arity=1),t.defn(G,"$unshift_all",P=function(n){var i=this;return i.lineno=r(i.lineno,n.$size()),i.look_ahead=e(i.look_ahead,n.$size()),i.eof=!1,h(i.lines,"unshift",t.to_a(n))},P.$$arity=1),t.defn(G,"$cursor",L=function(){var e=this;return t.const_get_relative(W,"Cursor").$new(e.file,e.dir,e.path,e.lineno)},L.$$arity=0),t.defn(G,"$line_info",D=function(){var t=this;return""+t.path+": line "+t.lineno},D.$$arity=0),t.alias(G,"next_line_info","line_info"),t.defn(G,"$prev_line_info",B=function(){var t=this;return""+t.path+": line "+r(t.lineno,1)},B.$$arity=0),t.defn(G,"$lines",j=function(){var t=this;return t.lines.$dup()},j.$$arity=0),t.defn(G,"$string",U=function(){var e=this;return i(e.lines,t.const_get_relative(W,"EOL"))},U.$$arity=0),t.defn(G,"$source",F=function(){var e=this;return i(e.source_lines,t.const_get_relative(W,"EOL"))},F.$$arity=0),t.defn(G,"$to_s",H=function(){var t=this;return t.$line_info()},H.$$arity=0),c&&"to_s"}(k[0],null,k),function(l,u,m){function y(){}var b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z=y=_(l,u,"PreprocessorReader",y),P=z.$$proto,L=[z].concat(m);return P.document=P.lineno=P.process_lines=P.look_ahead=P.skipping=P.include_stack=P.conditional_stack=P.path=P.include_processor_extensions=P.maxdepth=P.dir=P.lines=P.file=P.includes=P.unescape_next_line=c,z.$attr_reader("include_stack"),z.$attr_reader("includes"),t.defn(z,"$initialize",b=function(e,n,r,i){var $=this,o=b.$$p,s=c;return null==n&&(n=c),null==r&&(r=c),null==i&&(i=f([],{})),o&&(b.$$p=null),$.document=e,h($,t.find_super_dispatcher($,"initialize",b,!1),[n,r,i],null),s=e.$attributes().$fetch("max-include-depth",64).$to_i(),d(a(s,0))&&(s=0),$.maxdepth=f(["abs","rel"],{abs:s,rel:s}),$.include_stack=[],$.includes=e.$catalog()["$[]"]("includes"),$.skipping=!1,$.conditional_stack=[],$.include_processor_extensions=c},b.$$arity=-2),t.defn(z,"$prepare_lines",k=function(n,a){var $,o,s=this,l=k.$$p,u=c,_=c,p=c,g=c,v=c,m=c,y=c,b=c;for(null==a&&(a=f([],{})),l&&(k.$$p=null),y=0,b=arguments.length,m=new Array(b);y<b;y++)m[y]=arguments[y];if(u=h(s,t.find_super_dispatcher(s,"prepare_lines",k,!1),m,l),d(d($=s.document)?s.document.$attributes()["$key?"]("skip-front-matter"):$)&&d(_=s["$skip_front_matter!"](u))&&(p=["front-matter",i(_,t.const_get_relative(L,"EOL"))],h(s.document.$attributes(),"[]=",t.to_a(p)),p[r(p.length,1)]),d(a.$fetch("condense",!0))){for(;d(d(o=g=u["$[]"](0))?g["$empty?"]():o);)d(o=u.$shift())?s.lineno=e(s.lineno,1):o;for(;d(d(o=v=u["$[]"](-1))?v["$empty?"]():o);)u.$pop()}return d(a["$[]"]("indent"))&&t.const_get_relative(L,"Parser")["$adjust_indentation!"](u,a["$[]"]("indent"),s.document.$attr("tabsize")),u},k.$$arity=-2),t.defn(z,"$process_line",w=function(n){var r,i,a=this;return d(a.process_lines)?d(n["$empty?"]())?(a.look_ahead=e(a.look_ahead,1),""):d(d(r=d(i=n["$end_with?"]("]"))?n["$start_with?"]("[")["$!"]():i)?n["$include?"]("::"):r)?d(d(r=n["$include?"]("if"))?t.const_get_relative(L,"ConditionalDirectiveRx")["$=~"](n):r)?((r=g["~"])===c?c:r["$[]"](1))["$=="]("\\")?(a.unescape_next_line=!0,a.look_ahead=e(a.look_ahead,1),n["$[]"](p(1,-1,!1))):d(a.$preprocess_conditional_directive((r=g["~"])===c?c:r["$[]"](2),(r=g["~"])===c?c:r["$[]"](3),(r=g["~"])===c?c:r["$[]"](4),(r=g["~"])===c?c:r["$[]"](5)))?(a.$advance(),c):(a.look_ahead=e(a.look_ahead,1),n):d(a.skipping)?(a.$advance(),c):d(d(r=n["$start_with?"]("inc","\\inc"))?t.const_get_relative(L,"IncludeDirectiveRx")["$=~"](n):r)?((r=g["~"])===c?c:r["$[]"](1))["$=="]("\\")?(a.unescape_next_line=!0,a.look_ahead=e(a.look_ahead,1),n["$[]"](p(1,-1,!1))):d(a.$preprocess_include_directive((r=g["~"])===c?c:r["$[]"](2),((r=g["~"])===c?c:r["$[]"](3)).$strip()))?c:(a.look_ahead=e(a.look_ahead,1),n):(a.look_ahead=e(a.look_ahead,1),n):d(a.skipping)?(a.$advance(),c):(a.look_ahead=e(a.look_ahead,1),n):n},w.$$arity=1),t.defn(z,"$peek_line",x=function(e){var n=this,r=x.$$p,i=c,a=c,$=c,o=c;for(null==e&&(e=!1),r&&(x.$$p=null),$=0,o=arguments.length,a=new Array(o);$<o;$++)a[$]=arguments[$];return d(i=h(n,t.find_super_dispatcher(n,"peek_line",x,!1),a,r))?i:d(n.include_stack["$empty?"]())?c:(n.$pop_include(),n.$peek_line(e))},x.$$arity=-1),t.defn(z,"$preprocess_conditional_directive",E=function(e,i,a,$){var o,s,l,u,_,p,v,m=this,y=c,b=c,k=c,w=c,x=c,E=c,O=c;if(d(d(o=d(s=d(l=e["$=="]("ifdef"))?l:e["$=="]("ifndef"))?i["$empty?"]():s)?o:(s=e["$=="]("endif"))?$:e["$=="]("endif")))return!1;if(i=i.$downcase(),e["$=="]("endif"))return y=m.conditional_stack.$size(),d(n(y,0))?(b=m.conditional_stack["$[]"](-1),d(d(o=i["$empty?"]())?o:i["$=="](b["$[]"]("target")))?(m.conditional_stack.$pop(),m.skipping=function(){return!d(m.conditional_stack["$empty?"]())&&m.conditional_stack["$[]"](-1)["$[]"]("skipping")}()):m.$warn("asciidoctor: ERROR: "+m.$line_info()+": mismatched macro: endif::"+i+"[], expected endif::"+b["$[]"]("target")+"[]")):m.$warn("asciidoctor: ERROR: "+m.$line_info()+": unmatched macro: endif::"+i+"[]"),!0;if(k=!1,d(m.skipping));else if(w=e,"ifdef"["$==="](w))w=a,c["$==="](w)?k=m.document.$attributes()["$key?"](i)["$!"]():","["$==="](w)?k=h(i.$split(","),"none?",[],(u=function(t){var e=u.$$s||this;return null==e.document&&(e.document=c),null==t&&(t=c),e.document.$attributes()["$key?"](t)},u.$$s=m,u.$$arity=1,u)):"+"["$==="](w)&&(k=h(i.$split("+"),"any?",[],(_=function(t){var e=_.$$s||this;return null==e.document&&(e.document=c),null==t&&(t=c),e.document.$attributes()["$key?"](t)["$!"]();
},_.$$s=m,_.$$arity=1,_)));else if("ifndef"["$==="](w))w=a,c["$==="](w)?k=m.document.$attributes()["$key?"](i):","["$==="](w)?k=h(i.$split(","),"none?",[],(p=function(t){var e=p.$$s||this;return null==e.document&&(e.document=c),null==t&&(t=c),e.document.$attributes()["$key?"](t)["$!"]()},p.$$s=m,p.$$arity=1,p)):"+"["$==="](w)&&(k=h(i.$split("+"),"any?",[],(v=function(t){var e=v.$$s||this;return null==e.document&&(e.document=c),null==t&&(t=c),e.document.$attributes()["$key?"](t)},v.$$s=m,v.$$arity=1,v)));else if("ifeval"["$==="](w)){if(!d(d(o=i["$empty?"]())?t.const_get_relative(L,"EvalExpressionRx")["$=~"]($.$strip()):o))return!1;o=[(s=g["~"])===c?c:s["$[]"](1),(s=g["~"])===c?c:s["$[]"](2),(s=g["~"])===c?c:s["$[]"](3)],x=o[0],E=o[1],O=o[2],o,x=m.$resolve_expr_val(x),O=m.$resolve_expr_val(O),k=E["$=="]("!=")?x.$send("==",O):x.$send(E.$to_sym(),O)["$!"]()}return d(d(o=e["$=="]("ifeval"))?o:$["$!"]())?(d(k)&&(m.skipping=!0),m.conditional_stack["$<<"](f(["target","skip","skipping"],{target:i,skip:k,skipping:m.skipping}))):d(d(o=m.skipping)?o:k)||(m.$replace_next_line($.$rstrip()),m.$unshift(""),d($["$start_with?"]("include::"))&&(m.look_ahead=r(m.look_ahead,1))),!0},E.$$arity=4),t.defn(z,"$preprocess_include_directive",O=function(a,s){var l,u,_,p,m,y,b,k,w,x=this,E=c,O=c,A=c,S=c,R=c,M=c,T=c,I=c,q=c,C=c,N=c,z=c,P=c,D=c,B=c,j=c,U=c,F=c,H=c,G=c,Y=c;if(E=function(){return d(a["$include?"]("{"))?x.document.$sub_attributes(a,f(["attribute_missing"],{attribute_missing:"drop-line"})):a}(),d(E["$empty?"]()))return x.$advance(),x.document.$attributes().$fetch("attribute-missing",t.const_get_relative(L,"Compliance").$attribute_missing())["$=="]("skip")&&x.$unshift("Unresolved directive in "+x.path+" - include::"+a+"["+s+"]"),!0;if(d(d(l=x["$include_processors?"]())?O=h(x.include_processor_extensions,"find",[],(u=function(t){u.$$s||this;return null==t&&(t=c),t.$instance()["$handles?"](E)},u.$$s=x,u.$$arity=1,u)):l))return x.$advance(),O.$process_method()["$[]"](x.document,x,E,t.const_get_relative(L,"AttributeList").$new(s).$parse()),!0;if(d($(x.document.$safe(),t.const_get_qualified(t.const_get_relative(L,"SafeMode"),"SECURE"))))return x.$replace_next_line("link:"+E+"[]"),!0;if(d(n(A=x.maxdepth["$[]"]("abs"),0))){if(d($(x.include_stack.$size(),A)))return x.$warn("asciidoctor: ERROR: "+x.$line_info()+": maximum include depth of "+x.maxdepth["$[]"]("rel")+" exceeded"),!1;if(d(d(l=t.const_get_qualified("::","RUBY_ENGINE_OPAL"))?t.const_get_qualified("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):l))S="file",R=M=function(){return d(x.include_stack["$empty?"]())&&t.const_get_qualified("::","Dir").$pwd()["$=="](x.document.$base_dir())?E:t.const_get_qualified("::","File").$join(x.dir,E)}();else if(d(t.const_get_relative(L,"Helpers")["$uriish?"](E))){if(!d(x.document.$attributes()["$key?"]("allow-uri-read")))return x.$replace_next_line("link:"+E+"[]"),!0;S="uri",R=M=E,d(x.document.$attributes()["$key?"]("cache-uri"))?d((_=t.const_get_qualified("::","OpenURI","skip_raise"))&&(l=t.const_get_qualified(_,"Cache","skip_raise"))?"constant":c)||t.const_get_relative(L,"Helpers").$require_library("open-uri/cached","open-uri-cached"):d(t.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())&&t.const_get_qualified("::","OpenURI")}else{if(S="file",R=x.document.$normalize_system_path(E,x.dir,c,f(["target_name"],{target_name:"include file"})),!d(t.const_get_qualified("::","File")["$file?"](R)))return x.$warn("asciidoctor: WARNING: "+x.$line_info()+": include file not found: "+R),x.$replace_next_line("Unresolved directive in "+x.path+" - include::"+E+"["+s+"]"),!0;M=t.const_get_relative(L,"PathResolver").$new().$relative_path(R,x.document.$base_dir())}if(p=[c,c,f([],{})],T=p[0],I=p[1],q=p[2],p,d(s["$empty?"]())||(q=t.const_get_relative(L,"AttributeList").$new(s).$parse(),d(q["$key?"]("lines"))?(T=[],h(q["$[]"]("lines").$split(t.const_get_relative(L,"DataDelimiterRx")),"each",[],(m=function(e){var n,r,i,a=m.$$s||this,$=c,s=c;return null==e&&(e=c),d(e["$include?"](".."))?(r=h(e.$split("..",2),"map",[],(i=function(t){i.$$s||this;return null==t&&(t=c),t.$to_i()},i.$$s=a,i.$$arity=1,i)),n=t.to_ary(r),$=null==n[0]?c:n[0],s=null==n[1]?c:n[1],r,s["$=="](-1)?(T["$<<"]($),T["$<<"](o(1,0))):T.$concat(t.const_get_qualified("::","Range").$new($,s).$to_a())):T["$<<"](e.$to_i())},m.$$s=x,m.$$arity=1,m)),T=function(){return d(T["$empty?"]())?c:T.$sort().$uniq()}()):d(q["$key?"]("tag"))?d((C=q["$[]"]("tag"))["$empty?"]())||(d(C["$start_with?"]("!"))?C["$=="]("!")||(I=v(C.$slice(1,C.$length()),!1)):I=v(C,!0)):d(q["$key?"]("tags"))&&(I=f([],{}),h(q["$[]"]("tags").$split(t.const_get_relative(L,"DataDelimiterRx")),"each",[],(y=function(e){var n=(y.$$s||this,c);return null==e&&(e=c),d(e["$empty?"]())?c:d(e["$start_with?"]("!"))?e["$=="]("!")?c:(n=[e.$slice(1,e.$length()),!1],h(I,"[]=",t.to_a(n)),n[r(n.length,1)]):(n=[e,!0],h(I,"[]=",t.to_a(n)),n[r(n.length,1)])},y.$$s=x,y.$$arity=1,y)),d(I["$empty?"]())&&(I=c))),d(T)){p=[[],c,0],N=p[0],z=p[1],P=p[2],p;try{!function(){var n=t.new_brk();try{return h(x,"open",[R,"r"],(b=function(n){var r,i=b.$$s||this;return null==n&&(n=c),function(){var a=t.new_brk();try{return h(n,"each_line",[],(r=function(n){var i,$=(r.$$s||this,c);return null==n&&(n=c),P=e(P,1),$=T["$[]"](0),d(d(i=t.const_get_qualified("::","Float")["$==="]($))?$["$infinite?"]():i)?(z=d(i=z)?i:P,N["$<<"](n)):(P["$=="]($)&&(z=d(i=z)?i:P,N["$<<"](n),T.$shift()),d(T["$empty?"]())?void t.brk(c,a):c)},r.$$s=i,r.$$brk=a,r.$$arity=1,r))}catch($){if($===a)return $.$v;throw $}}()},b.$$s=x,b.$$brk=n,b.$$arity=1,b))}catch(r){if(r===n)return r.$v;throw r}}()}catch(W){if(!t.rescue(W,[t.const_get_relative(L,"StandardError")]))throw W;try{return x.$warn("asciidoctor: WARNING: "+x.$line_info()+": include "+S+" not readable: "+R),x.$replace_next_line("Unresolved directive in "+x.path+" - include::"+E+"["+s+"]"),!0}finally{t.pop_exception()}}x.$advance(),d(z)&&x.$push_include(N,R,M,z,q)}else if(d(I)){p=[[],c,0,[],t.const_get_qualified("::","Set").$new(),c],N=p[0],z=p[1],P=p[2],D=p[3],B=p[4],j=p[5],p,d(I["$key?"]("**"))?d(I["$key?"]("*"))?(U=F=I.$delete("**"),H=I.$delete("*")):U=F=H=I.$delete("**"):(U=F=I["$value?"](!0)["$!"](),H=function(){return d(I["$key?"]("*"))?I.$delete("*"):c}());try{h(x,"open",[R,"r"],(k=function(n){var r,i=k.$$s||this;return null==n&&(n=c),h(n,"each_line",[],(r=function(n){var i,a,$,o=r.$$s||this,s=c,l=c;return null==n&&(n=c),P=e(P,1),d(t.const_get_relative(L,"FORCE_ENCODING"))&&n.$force_encoding(t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_8")),d(d(i=(n=n.$rstrip())["$end_with?"]("[]","[] -->"))?t.const_get_relative(L,"TagDirectiveRx")["$=~"](n):i)?d((i=g["~"])===c?c:i["$[]"](1))?(s=(i=g["~"])===c?c:i["$[]"](2))["$=="](j)?(D.$pop(),a=function(){return d(D["$empty?"]())?[c,F]:D["$[]"](-1)}(),i=t.to_ary(a),j=null==i[0]?c:i[0],U=null==i[1]?c:i[1],a):d(I["$key?"](s))?d(l=h(D,"rindex",[],($=function(t,e){$.$$s||this;return null==t&&(t=c),null==e&&(e=c),t["$=="](s)},$.$$s=o,$.$$arity=2,$)))?(l["$=="](0)?D.$shift():D.$delete_at(l),o.$warn("asciidoctor: WARNING: "+E+": line "+P+": mismatched end tag in include: expected "+j+", found "+s)):o.$warn("asciidoctor: WARNING: "+E+": line "+P+": unexpected end tag in include: "+s):c:d(I["$key?"](s=(i=g["~"])===c?c:i["$[]"](2)))?(B["$<<"](s),D["$<<"]([j=s,U=I["$[]"](s)])):d(H["$nil?"]()["$!"]())?(U=function(){return!d(d(i=j)?U["$!"]():i)&&H}(),D["$<<"]([j=s,U])):c:d(U)?(z=d(i=z)?i:P,N["$<<"](n)):c},r.$$s=i,r.$$arity=1,r))},k.$$s=x,k.$$arity=1,k))}catch(W){if(!t.rescue(W,[t.const_get_relative(L,"StandardError")]))throw W;try{return x.$warn("asciidoctor: WARNING: "+x.$line_info()+": include "+S+" not readable: "+R),x.$replace_next_line("Unresolved directive in "+x.path+" - include::"+E+"["+s+"]"),!0}finally{t.pop_exception()}}d((G=r(I.$keys().$to_a(),B.$to_a()))["$empty?"]())||x.$warn("asciidoctor: WARNING: "+x.$line_info()+": tag"+function(){return d(n(G.$size(),1))?"s":c}()+" '"+i(G,",")+"' not found in include "+S+": "+R),x.$advance(),d(z)&&x.$push_include(N,R,M,z,q)}else try{Y=function(){return S["$=="]("file")?t.const_get_qualified("::","IO").$read(R):h(x,"open",[R,"r"],(w=function(t){w.$$s||this;return null==t&&(t=c),t.$read()},w.$$s=x,w.$$arity=1,w))}(),x.$advance(),x.$push_include(Y,R,M,1,q)}catch(W){if(!t.rescue(W,[t.const_get_relative(L,"StandardError")]))throw W;try{return x.$warn("asciidoctor: WARNING: "+x.$line_info()+": include "+S+" not readable: "+R),x.$replace_next_line("Unresolved directive in "+x.path+" - include::"+E+"["+s+"]"),!0}finally{t.pop_exception()}}return!0}return!1},O.$$arity=2),t.defn(z,"$push_include",A=function(n,i,a,$,o){var l=this,u=c,_=c;return null==i&&(i=c),null==a&&(a=c),null==$&&($=1),null==o&&(o=f([],{})),l.include_stack["$<<"]([l.lines,l.file,l.dir,l.path,l.lineno,l.maxdepth,l.process_lines]),d(i)?(l.file=i,l.dir=t.const_get_relative(L,"File").$dirname(i),l.process_lines=t.const_get_relative(L,"ASCIIDOC_EXTENSIONS")["$[]"](t.const_get_qualified("::","File").$extname(i))):(l.file=c,l.dir=".",l.process_lines=!0),d(a)?(l.includes["$<<"](t.const_get_relative(L,"Helpers").$rootname(a)),l.path=a):l.path="<stdin>",l.lineno=$,d(o["$key?"]("depth"))&&(u=o["$[]"]("depth").$to_i(),d(s(u,0))&&(u=1),l.maxdepth=f(["abs","rel"],{abs:e(r(l.include_stack.$size(),1),u),rel:u})),d((l.lines=l.$prepare_lines(n,f(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:o["$[]"]("indent")})))["$empty?"]())?l.$pop_include():(d(o["$key?"]("leveloffset"))&&(l.lines.$unshift(""),l.lines.$unshift(":leveloffset: "+o["$[]"]("leveloffset")),l.lines["$<<"](""),d(_=l.document.$attr("leveloffset"))?l.lines["$<<"](":leveloffset: "+_):l.lines["$<<"](":leveloffset!:"),l.lineno=r(l.lineno,2)),l.eof=!1,l.look_ahead=0),l},A.$$arity=-2),t.defn(z,"$pop_include",S=function(){var e,r,i=this;return d(n(i.include_stack.$size(),0))&&(r=i.include_stack.$pop(),e=t.to_ary(r),i.lines=null==e[0]?c:e[0],i.file=null==e[1]?c:e[1],i.dir=null==e[2]?c:e[2],i.path=null==e[3]?c:e[3],i.lineno=null==e[4]?c:e[4],i.maxdepth=null==e[5]?c:e[5],i.process_lines=null==e[6]?c:e[6],r,i.eof=i.lines["$empty?"](),i.look_ahead=0),c},S.$$arity=0),t.defn(z,"$include_depth",R=function(){var t=this;return t.include_stack.$size()},R.$$arity=0),t.defn(z,"$exceeded_max_depth?",M=function(){var t,e=this,r=c;return!!d(d(t=n(r=e.maxdepth["$[]"]("abs"),0))?$(e.include_stack.$size(),r):t)&&e.maxdepth["$[]"]("rel")},M.$$arity=0),t.defn(z,"$shift",T=function(){var e=this,n=T.$$p,r=c,i=c,a=c;for(n&&(T.$$p=null),i=0,a=arguments.length,r=new Array(a);i<a;i++)r[i]=arguments[i];return d(e.unescape_next_line)?(e.unescape_next_line=!1,h(e,t.find_super_dispatcher(e,"shift",T,!1),r,n)["$[]"](p(1,-1,!1))):h(e,t.find_super_dispatcher(e,"shift",T,!1),r,n)},T.$$arity=0),t.defn(z,"$skip_front_matter!",I=function(n,r){var i,a=this,$=c,o=c;if(null==r&&(r=!0),$=c,n["$[]"](0)["$=="]("---")){for(o=n.$dup(),$=[],n.$shift(),d(r)&&(a.lineno=e(a.lineno,1));d(d(i=n["$empty?"]()["$!"]())?n["$[]"](0)["$!="]("---"):i);)$["$<<"](n.$shift()),d(r)&&(a.lineno=e(a.lineno,1));d(n["$empty?"]())?(h(n,"unshift",t.to_a(o)),d(r)&&(a.lineno=0),$=c):(n.$shift(),d(r)&&(a.lineno=e(a.lineno,1)))}return $},I.$$arity=-2),t.defn(z,"$resolve_expr_val",q=function(t){var e,n,r=this,i=c;return d(d(e=d(n=t["$start_with?"]('"'))?t["$end_with?"]('"'):n)?e:d(n=t["$start_with?"]("'"))?t["$end_with?"]("'"):n)?(i=!0,t=t["$[]"](p(1,-1,!0))):i=!1,d(t["$include?"]("{"))&&(t=r.document.$sub_attributes(t,f(["attribute_missing"],{attribute_missing:"drop"}))),d(i)?t:d(t["$empty?"]())?c:!!t["$=="]("true")||!t["$=="]("false")&&(d(t.$rstrip()["$empty?"]())?" ":d(t["$include?"]("."))?t.$to_f():t.$to_i())},q.$$arity=1),t.defn(z,"$include_processors?",C=function(){var t,e=this;return d(e.include_processor_extensions["$nil?"]())?d(d(t=e.document["$extensions?"]())?e.document.$extensions()["$include_processors?"]():t)?(e.include_processor_extensions=e.document.$extensions().$include_processors())["$!"]()["$!"]():e.include_processor_extensions=!1:e.include_processor_extensions["$!="](!1)},C.$$arity=0),t.defn(z,"$to_s",N=function(){var t,e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {path: "+e.path.$inspect()+", line #: "+e.lineno+", include depth: "+e.include_stack.$size()+", include stack: ["+h(e.include_stack,"map",[],(t=function(e){t.$$s||this;return null==e&&(e=c),e.$to_s()},t.$$s=e,t.$$arity=1,t)).$join(", ")+"]}>"},N.$$arity=0),c&&"to_s"}(k[0],t.const_get_relative(k,"Reader"),k)}(l[0],l)},Opal.modules["asciidoctor/section"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var r=(t.top,[]),i=t.nil,a=(t.breaker,t.slice,t.module),$=t.klass,o=t.send,s=t.truthy,l=t.hash2,c=t.range;return t.add_stubs(["$attr_accessor","$+","$level","$>","$==","$context","$special","$generate_id","$title","$sectnum","$enumerate_section","$!=","$class","$object_id","$inspect","$size","$attributes","$[]","$gsub","$downcase","$empty?","$tr_s","$end_with?","$chop","$start_with?","$key?","$catalog","$unique_id_start_index"]),function(r,u){var _,d=_=a(r,"Asciidoctor"),f=(d.$$proto,[d].concat(u));!function(r,a,u){function _(){}var d,f,p,h,g,v,m=_=$(r,a,"Section",_),y=m.$$proto,b=[m].concat(u);return y.level=y.document=y.parent=y.number=y.title=y.numbered=y.blocks=i,m.$attr_accessor("index"),m.$attr_accessor("sectname"),m.$attr_accessor("special"),m.$attr_accessor("numbered"),t.defn(m,"$initialize",d=function(r,a,$,c){var u,_,f=this,p=d.$$p;return null==r&&(r=i),null==a&&(a=i),null==$&&($=!0),null==c&&(c=l([],{})),p&&(d.$$p=null),o(f,t.find_super_dispatcher(f,"initialize",d,!1),[r,"section",c],null),f.level=function(){return s(a)?a:s(r)?e(r.$level(),1):1}(),f.numbered=s(u=$)?n(f.level,0):u,f.special=s(u=s(_=r)?r.$context()["$=="]("section"):_)?r.$special():u,f.index=0,f.number=1},d.$$arity=-1),t.alias(m,"name","title"),t.defn(m,"$generate_id",f=function(){var e=this;return t.const_get_relative(b,"Section").$generate_id(e.$title(),e.document)},f.$$arity=0),t.defn(m,"$sectnum",p=function(t,e){var r,a,$,o=this;return null==t&&(t="."),null==e&&(e=i),e=s(r=e)?r:function(){return e["$=="](!1)?"":t}(),s(s(r=s(a=s($=o.level)?n(o.level,1):$)?o.parent:a)?o.parent.$context()["$=="]("section"):r)?""+o.parent.$sectnum(t)+o.number+e:""+o.number+e},p.$$arity=-1),t.defn(m,"$<<",h=function(e){var n=this,r=h.$$p,a=i,$=i,s=i;for(r&&(h.$$p=null),$=0,s=arguments.length,a=new Array(s);$<s;$++)a[$]=arguments[$];return e.$context()["$=="]("section")&&n.$enumerate_section(e),o(n,t.find_super_dispatcher(n,"<<",h,!1),a,r)},h.$$arity=1),t.defn(m,"$to_s",g=function(){var e=this,n=g.$$p,r=i,a=i,$=i,l=i;for(n&&(g.$$p=null),$=0,l=arguments.length,a=new Array(l);$<l;$++)a[$]=arguments[$];return s(e.title["$!="](i))?(r=function(){return s(e.numbered)?""+e.$sectnum()+" "+e.title:e.title}(),"#<"+e.$class()+"@"+e.$object_id()+" {level: "+e.level+", title: "+r.$inspect()+", blocks: "+e.blocks.$size()+"}>"):o(e,t.find_super_dispatcher(e,"to_s",g,!1),a,n)},g.$$arity=0),t.defs(m,"$generate_id",v=function(n,r){var a,$=i,o=i,l=i,u=i,_=i,d=i,f=i;if($=r.$attributes(),o=s(a=$["$[]"]("idseparator"))?a:"_",l=s(a=$["$[]"]("idprefix"))?a:"_",u=""+l+n.$downcase().$gsub(t.const_get_relative(b,"InvalidSectionIdCharsRx"),o),s(o["$empty?"]()));else if(u=u.$tr_s(o,o),s(u["$end_with?"](o))&&(u=u.$chop()),s(l["$empty?"]()))for(;s(u["$start_with?"](o));)u=u["$[]"](c(1,-1,!1));if(s(r.$catalog()["$[]"]("ids")["$key?"](u))){for(a=[r.$catalog()["$[]"]("ids"),t.const_get_relative(b,"Compliance").$unique_id_start_index()],_=a[0],d=a[1],a;s(_["$key?"](f=""+u+o+d));)d=e(d,1);return f}return u},v.$$arity=2)}(f[0],t.const_get_relative(f,"AbstractBlock"),f)}(r[0],r)},Opal.modules["asciidoctor/stylesheets"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=(t.top,[]),r=t.nil,i=(t.breaker,t.slice,t.module),a=t.klass,$=t.truthy,o=t.hash2,s=t.send;return t.add_stubs(["$join","$new","$chomp","$read","$primary_stylesheet_data","$write","$primary_stylesheet_name","$coderay_stylesheet_data","$coderay_stylesheet_name","$load_pygments","$[]","$sub","$css","$[]=","$-","$pygments_stylesheet_data","$pygments_stylesheet_name","$!","$nil?","$require_library"]),function(n,l){var c,u=c=i(n,"Asciidoctor"),_=(u.$$proto,[u].concat(l));!function(n,i,l){function c(){}var u,_,d,f,p,h,g,v,m,y,b,k,w,x,E=c=a(n,i,"Stylesheets",c),O=E.$$proto,A=[E].concat(l);return O.primary_stylesheet_data=O.coderay_stylesheet_data=O.pygments_stylesheet_data=r,t.const_set(A[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(A[0],"DEFAULT_PYGMENTS_STYLE","default"),t.const_set(A[0],"STYLESHEETS_DATA_PATH",t.const_get_qualified("::","File").$join(t.const_get_relative(A,"DATA_PATH"),"stylesheets")),E.__instance__=E.$new(),t.defs(E,"$instance",u=function(){var t=this;return null==t.__instance__&&(t.__instance__=r),t.__instance__},u.$$arity=0),t.defn(E,"$primary_stylesheet_name",_=function(){return t.const_get_relative(A,"DEFAULT_STYLESHEET_NAME")},_.$$arity=0),t.defn(E,"$primary_stylesheet_data",d=function(){var e;return e=t.const_get_relative([],"JAVASCRIPT_PLATFORM")["$=="]("node")?t.const_get_relative([],"File").$join(__dirname,"css"):"css",($a=E.primary_stylesheet_data)!==!1&&$a!==r&&null!=$a?$a:E.primary_stylesheet_data=t.const_get_relative([],"IO").$read(t.const_get_relative([],"File").$join(e,"asciidoctor.css")).$chomp()},d.$$arity=0),t.defn(E,"$embed_primary_stylesheet",f=function(){var t=this;return"<style>\n"+t.$primary_stylesheet_data()+"\n</style>"},f.$$arity=0),t.defn(E,"$write_primary_stylesheet",p=function(e){var n=this;return null==e&&(e="."),t.const_get_qualified("::","IO").$write(t.const_get_qualified("::","File").$join(e,n.$primary_stylesheet_name()),n.$primary_stylesheet_data())},p.$$arity=-1),t.defn(E,"$coderay_stylesheet_name",h=function(){return"coderay-asciidoctor.css"},h.$$arity=0),t.defn(E,"$coderay_stylesheet_data",g=function(){var e,n=this;return n.coderay_stylesheet_data=$(e=n.coderay_stylesheet_data)?e:t.const_get_qualified("::","IO").$read(t.const_get_qualified("::","File").$join(t.const_get_relative(A,"STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()},g.$$arity=0),t.defn(E,"$embed_coderay_stylesheet",v=function(){var t=this;return"<style>\n"+t.$coderay_stylesheet_data()+"\n</style>"},v.$$arity=0),t.defn(E,"$write_coderay_stylesheet",m=function(e){var n=this;return null==e&&(e="."),t.const_get_qualified("::","IO").$write(t.const_get_qualified("::","File").$join(e,n.$coderay_stylesheet_name()),n.$coderay_stylesheet_data())},m.$$arity=-1),t.defn(E,"$pygments_stylesheet_name",y=function(e){var n;return null==e&&(e=r),"pygments-"+($(n=e)?n:t.const_get_relative(A,"DEFAULT_PYGMENTS_STYLE"))+".css"},y.$$arity=-1),t.defn(E,"$pygments_stylesheet_data",b=function(n){var i,a,l=this,c=r;return null==n&&(n=r),$(l.$load_pygments())?$(i=(l.pygments_stylesheet_data=$(a=l.pygments_stylesheet_data)?a:o([],{}))["$[]"]($(a=n)?a:t.const_get_relative(A,"DEFAULT_PYGMENTS_STYLE")))?i:(c=[$(a=n)?a:t.const_get_relative(A,"DEFAULT_PYGMENTS_STYLE"),t.const_get_qualified("::","Pygments").$css(".listingblock .pygments",o(["classprefix","style"],{classprefix:"tok-",style:$(a=n)?a:t.const_get_relative(A,"DEFAULT_PYGMENTS_STYLE")})).$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")],s(l.pygments_stylesheet_data=$(a=l.pygments_stylesheet_data)?a:o([],{}),"[]=",t.to_a(c)),c[e(c.length,1)]):"/* Pygments styles disabled. Pygments is not available. */"},b.$$arity=-1),t.defn(E,"$embed_pygments_stylesheet",k=function(t){var e=this;return null==t&&(t=r),"<style>\n"+e.$pygments_stylesheet_data(t)+"\n</style>"},k.$$arity=-1),t.defn(E,"$write_pygments_stylesheet",w=function(e,n){var i=this;return null==e&&(e="."),null==n&&(n=r),t.const_get_qualified("::","IO").$write(t.const_get_qualified("::","File").$join(e,i.$pygments_stylesheet_name(n)),i.$pygments_stylesheet_data(n))},w.$$arity=-1),t.defn(E,"$load_pygments",x=function(){var e;return!!$((e=t.const_get_qualified("::","Pygments","skip_raise"))?"constant":r)||t.const_get_relative(A,"Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},x.$$arity=0),r&&"load_pygments"}(_[0],null,_)}(n[0],n)},Opal.modules["asciidoctor/table"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var o=(t.top,[]),s=t.nil,l=(t.breaker,t.slice,t.module),c=t.klass,u=t.hash2,_=t.send,d=t.truthy,f=t.range;return t.add_stubs(["$attr_accessor","$new","$key?","$[]","$>","$to_i","$<","$==","$[]=","$-","$attributes","$round","$*","$/","$to_f","$empty?","$body","$each","$+","$<<","$size","$assign_column_widths","$**","$assign_width","$shift","$style=","$head=","$pop","$foot=","$update_attributes","$parent","$attr_reader","$header_row?","$table","$delete","$!","$rstrip","$start_with?","$slice","$length","$strip","$split","$include?","$readlines","$unshift","$nil?","$apply_subs","$convert","$map","$text","$to_s","$to_set","$cursor","$nested?","$document","$warn","$prev_line_info","$nil_or_empty?","$escape","$columns","$match","$pre_match","$post_match","$chop","$buffer","$end_with?","$gsub","$push_cellspec","$cell_open?","$close_cell","$advance","$take_cellspec","$line_info","$squeeze","$upto","$times","$rowspan","$activate_rowspan","$colspan","$end_of_row?","$!=","$close_row","$rows","$effective_column_visits"]),function(o,p){var h,g=h=l(o,"Asciidoctor"),v=(g.$$proto,[g].concat(p));!function(o,l,f){function p(){}var h,g,v,m,y,b=p=c(o,l,"Table",p),k=b.$$proto,w=[b].concat(f);return k.attributes=k.document=k.has_header_option=k.rows=k.columns=s,function(e,n,r){function i(){}var a,$,o=i=c(e,n,"Rows",i),l=o.$$proto;[o].concat(r);return l.head=l.foot=l.body=s,o.$attr_accessor("head","foot","body"),t.defn(o,"$initialize",a=function(t,e,n){var r=this;return null==t&&(t=[]),null==e&&(e=[]),null==n&&(n=[]),r.head=t,r.foot=e,r.body=n},a.$$arity=-1),t.alias(o,"[]","send"),t.defn(o,"$by_section",$=function(){var t=this;return u(["head","foot","body"],{head:t.head,foot:t.foot,body:t.body})},$.$$arity=0),s&&"by_section"}(w[0],null,w),b.$attr_accessor("columns"),b.$attr_accessor("rows"),b.$attr_accessor("has_header_option"),t.defn(b,"$initialize",h=function($,o){var l,c,u=this,f=h.$$p,p=s,g=s,v=s;return f&&(h.$$p=null),_(u,t.find_super_dispatcher(u,"initialize",h,!1),[$,"table"],null),u.rows=t.const_get_relative(w,"Rows").$new(),u.columns=[],u.has_header_option=o["$key?"]("header-option"),d(p=o["$[]"]("width"))?d(d(l=e(g=p.$to_i(),100))?l:n(g,1))&&(d((l=g["$=="](0))?d(c=p["$=="]("0"))?c:p["$=="]("0%"):g["$=="](0))||(g=100)):g=100,v=["tablepcwidth",g],_(u.attributes,"[]=",t.to_a(v)),v[r(v.length,1)],d(u.document.$attributes()["$key?"]("pagewidth"))&&(d(l=u.attributes["$[]"]("tableabswidth"))?l:(v=["tableabswidth",i(a(u.attributes["$[]"]("tablepcwidth").$to_f(),100),u.document.$attributes()["$[]"]("pagewidth")).$round()],_(u.attributes,"[]=",t.to_a(v)),v[r(v.length,1)])),d(o["$key?"]("rotate-option"))?(v=["orientation","landscape"],_(o,"[]=",t.to_a(v)),v[r(v.length,1)]):s},h.$$arity=2),t.defn(b,"$header_row?",g=function(){var t,e=this;return d(t=e.has_header_option)?e.rows.$body()["$empty?"]():t},g.$$arity=0),t.defn(b,"$create_columns",v=function(e){var n,i=this,a=s,o=s,l=s;return a=[],o=0,_(e,"each",[],(n=function(e){var r=n.$$s||this;return null==e&&(e=s),o=$(o,e["$[]"]("width")),a["$<<"](t.const_get_relative(w,"Column").$new(r,a.$size(),e))},n.$$s=i,n.$$arity=1,n)),d((i.columns=a)["$empty?"]())||(l=["colcount",a.$size()],_(i.attributes,"[]=",t.to_a(l)),l[r(l.length,1)],i.$assign_column_widths(function(){return o["$=="](0)?s:o}())),s},v.$$arity=1),t.defn(b,"$assign_column_widths",m=function(t){var e,n,o=this,l=s,c=s,u=s;return null==t&&(t=s),l=10["$**"](4),c=u=0,d(t)?_(o.columns,"each",[],(e=function(n){e.$$s||this;return null==n&&(n=s),c=$(c,u=n.$assign_width(s,t,l))},e.$$s=o,e.$$arity=1,e)):(u=a(a(i(100,l),o.columns.$size()).$to_i(),l),u.$to_i()["$=="](u)&&(u=u.$to_i()),_(o.columns,"each",[],(n=function(t){n.$$s||this;return null==t&&(t=s),c=$(c,t.$assign_width(u))},n.$$s=o,n.$$arity=1,n))),c["$=="](100)||o.columns["$[]"](-1).$assign_width(a(i($(r(100,c),u),l).$round(),l)),s},m.$$arity=-1),t.defn(b,"$partition_header_footer",y=function(n){var i,a,$=this,o=s,l=s,c=s;return o=["rowcount",$.rows.$body().$size()],_($.attributes,"[]=",t.to_a(o)),o[r(o.length,1)],l=$.rows.$body().$size(),d(d(i=e(l,0))?$.has_header_option:i)&&(c=$.rows.$body().$shift(),l=r(l,1),_(c,"each",[],(a=function(e){a.$$s||this;return null==e&&(e=s),o=[s],_(e,"style=",t.to_a(o)),o[r(o.length,1)]},a.$$s=$,a.$$arity=1,a)),o=[[c]],_($.rows,"head=",t.to_a(o)),o[r(o.length,1)]),d(d(i=e(l,0))?n["$key?"]("footer-option"):i)&&(o=[[$.rows.$body().$pop()]],_($.rows,"foot=",t.to_a(o)),o[r(o.length,1)]),s},y.$$arity=1),s&&"partition_header_footer"}(v[0],t.const_get_relative(v,"AbstractBlock"),v),function(e,n,o){function l(){}var f,p,h=l=c(e,n,"Column",l),g=h.$$proto;[h].concat(o);return g.attributes=s,h.$attr_accessor("style"),t.defn(h,"$initialize",f=function(e,n,i){var a,o=this,l=f.$$p,c=s;return null==i&&(i=u([],{})),l&&(f.$$p=null),_(o,t.find_super_dispatcher(o,"initialize",f,!1),[e,"column"],null),o.style=i["$[]"]("style"),c=["colnumber",$(n,1)],_(i,"[]=",t.to_a(c)),c[r(c.length,1)],d(a=i["$[]"]("width"))?a:(c=["width",1],_(i,"[]=",t.to_a(c)),c[r(c.length,1)]),d(a=i["$[]"]("halign"))?a:(c=["halign","left"],_(i,"[]=",t.to_a(c)),c[r(c.length,1)]),d(a=i["$[]"]("valign"))?a:(c=["valign","top"],_(i,"[]=",t.to_a(c)),c[r(c.length,1)]),o.$update_attributes(i)},f.$$arity=-3),t.alias(h,"table","parent"),t.defn(h,"$assign_width",p=function(e,n,$){var o=this,l=s;return null==n&&(n=s),null==$&&($=1e4),d(n)&&(e=a(i(i(a(o.attributes["$[]"]("width").$to_f(),n),100),$).$to_i(),$),e.$to_i()["$=="](e)&&(e=e.$to_i())),l=["colpcwidth",e],_(o.attributes,"[]=",t.to_a(l)),l[r(l.length,1)],d(o.$parent().$attributes()["$key?"]("tableabswidth"))&&(l=["colabswidth",i(a(e,100),o.$parent().$attributes()["$[]"]("tableabswidth")).$round()],_(o.attributes,"[]=",t.to_a(l)),l[r(l.length,1)]),e},p.$$arity=-2),s&&"assign_width"}(t.const_get_relative(v,"Table"),t.const_get_relative(v,"AbstractNode"),v),function(e,i,a){function $(){}var o,l,f,p,h,g=$=c(e,i,"Cell",$),v=g.$$proto,m=[g].concat(a);return v.document=v.text=v.style=v.inner_document=v.colspan=v.rowspan=v.attributes=s,g.$attr_accessor("style"),g.$attr_accessor("colspan"),g.$attr_accessor("rowspan"),t.alias(g,"column","parent"),g.$attr_reader("inner_document"),t.defn(g,"$initialize",o=function(e,i,a,$){var l,c=this,f=o.$$p,p=s,h=s,g=s,v=s,y=s,b=s,k=s;if(null==a&&(a=u([],{})),null==$&&($=u([],{})),f&&(o.$$p=null),_(c,t.find_super_dispatcher(c,"initialize",o,!1),[e,"cell"],null),d(e)?(p=function(){return d(h=e.$table()["$header_row?"]())?s:e.$attributes()["$[]"]("style")}(),c.$update_attributes(e.$attributes())):h=p=s,d(a)){if(c.colspan=a.$delete("colspan"),c.rowspan=a.$delete("rowspan"),d(d(l=h)?l:a["$key?"]("style")["$!"]())||(p=a["$[]"]("style")),d($["$[]"]("strip_text")))if(d(d(l=p["$=="]("literal"))?l:p["$=="]("verse")))for(i=i.$rstrip();d(i["$start_with?"](t.const_get_relative(m,"EOL")));)i=i.$slice(1,r(i.$length(),1));else i=i.$strip();c.$update_attributes(a)}else c.colspan=s,c.rowspan=s;return p["$=="]("asciidoc")&&(g=c.document.$attributes().$delete("doctitle"),v=i.$split(t.const_get_relative(m,"EOL"),-1),d(v["$empty?"]())||d((y=v["$[]"](0))["$include?"]("::"))&&(b=t.const_get_relative(m,"PreprocessorReader").$new(c.document,[y]).$readlines(),d((l=y["$=="](b["$[]"](0)))?n(b.$size(),2):y["$=="](b["$[]"](0)))||(v.$shift(),d(b["$empty?"]())||_(v,"unshift",t.to_a(b)))),c.inner_document=t.const_get_relative(m,"Document").$new(v,u(["header_footer","parent","cursor"],{header_footer:!1,parent:c.document,cursor:$["$[]"]("cursor")})),d(g["$nil?"]())||(k=["doctitle",g],_(c.document.$attributes(),"[]=",t.to_a(k)),k[r(k.length,1)])),c.text=i,c.style=p},o.$$arity=-3),t.defn(g,"$text",l=function(){var e=this;return e.$apply_subs(e.text,function(){return e.style["$=="]("literal")?t.const_get_relative(m,"BASIC_SUBS"):t.const_get_relative(m,"NORMAL_SUBS")}())},l.$$arity=0),t.defn(g,"$text=",f=function(t){var e=this;return e.text=t},f.$$arity=1),t.defn(g,"$content",p=function(){var e,n=this;return n.style["$=="]("asciidoc")?n.inner_document.$convert():_(n.$text().$split(t.const_get_relative(m,"BlankLineRx")),"map",[],(e=function(n){var r,i=e.$$s||this;return null==i.style&&(i.style=s),null==n&&(n=s),d(d(r=i.style["$!"]())?r:i.style["$=="]("header"))?n:t.const_get_relative(m,"Inline").$new(i.$parent(),"quoted",n,u(["type"],{type:i.style})).$convert()},e.$$s=n,e.$$arity=1,e))},p.$$arity=0),t.defn(g,"$to_s",h=function(){var e,n=this,r=h.$$p,i=s,a=s,$=s;for(r&&(h.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return""+_(n,t.find_super_dispatcher(n,"to_s",h,!1),i,r).$to_s()+" - [text: "+n.text+", colspan: "+(d(e=n.colspan)?e:1)+", rowspan: "+(d(e=n.rowspan)?e:1)+", attributes: "+n.attributes+"]"},h.$$arity=0),s&&"to_s"}(t.const_get_relative(v,"Table"),t.const_get_relative(v,"AbstractNode"),v),function(n,i,a){function o(){}var l,p,h,g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q=o=c(n,i,"ParserContext",o),C=q.$$proto,N=[q].concat(a);return C.delimiter=C.delimiter_re=C.buffer=C.cellspecs=C.cell_open=C.format=C.last_cursor=C.table=C.current_row=C.colcount=C.column_visits=C.active_rowspans=C.linenum=s,t.const_set(N[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),t.const_set(N[0],"DELIMITERS",u(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]})),q.$attr_accessor("table"),q.$attr_accessor("format"),q.$attr_reader("colcount"),q.$attr_accessor("buffer"),q.$attr_reader("delimiter"),q.$attr_reader("delimiter_re"),t.defn(q,"$initialize",l=function(e,n,r){var i,a,$=this,o=s,l=s;return null==r&&(r=u([],{})),$.reader=e,$.table=n,$.last_cursor=e.$cursor(),d(r["$key?"]("format"))?d(t.const_get_relative(N,"FORMATS")["$include?"](o=r["$[]"]("format")))?o["$=="]("tsv")?$.format="csv":d((i=($.format=o)["$=="]("psv"))?n.$document()["$nested?"]():($.format=o)["$=="]("psv"))&&(o="!sv"):($.$warn("asciidoctor: ERROR: "+e.$prev_line_info()+": illegal table format: "+o),i=["psv",function(){return d(n.$document()["$nested?"]())?"!sv":"psv"}()],$.format=i[0],o=i[1],i):(i=["psv",function(){return d(n.$document()["$nested?"]())?"!sv":"psv"}()],$.format=i[0],o=i[1],i),d(r["$key?"]("separator"))?d((l=r["$[]"]("separator"))["$nil_or_empty?"]())?(a=t.const_get_relative(N,"DELIMITERS")["$[]"](o),i=t.to_ary(a),$.delimiter=null==i[0]?s:i[0],$.delimiter_re=null==i[1]?s:i[1],a):l["$=="]("\\t")?(a=t.const_get_relative(N,"DELIMITERS")["$[]"]("tsv"),i=t.to_ary(a),$.delimiter=null==i[0]?s:i[0],$.delimiter_re=null==i[1]?s:i[1],a):(i=[l,new RegExp(t.const_get_qualified("::","Regexp").$escape(l))],$.delimiter=i[0],$.delimiter_re=i[1],i):(a=t.const_get_relative(N,"DELIMITERS")["$[]"](o),i=t.to_ary(a),$.delimiter=null==i[0]?s:i[0],$.delimiter_re=null==i[1]?s:i[1],a),$.colcount=function(){return d(n.$columns()["$empty?"]())?-1:n.$columns().$size()}(),$.buffer="",$.cellspecs=[],$.cell_open=!1,$.active_rowspans=[0],$.column_visits=0,$.current_row=[],$.linenum=-1},l.$$arity=-3),t.defn(q,"$starts_with_delimiter?",p=function(t){var e=this;return t["$start_with?"](e.delimiter)},p.$$arity=1),t.defn(q,"$match_delimiter",h=function(t){var e=this;return e.delimiter_re.$match(t)},h.$$arity=1),t.defn(q,"$skip_past_delimiter",g=function(t){var e=this;return e.buffer=""+e.buffer+t.$pre_match()+e.delimiter,t.$post_match()},g.$$arity=1),t.defn(q,"$skip_past_escaped_delimiter",v=function(t){var e=this;
return e.buffer=""+e.buffer+t.$pre_match().$chop()+e.delimiter,t.$post_match()},v.$$arity=1),t.defn(q,"$buffer_has_unclosed_quotes?",m=function(t){var e,n,r=this,i=s,a=s;return null==t&&(t=s),!!d((i=function(){return d(t)?$(r.$buffer(),t).$strip():r.$buffer().$strip()}())["$start_with?"]('"'))&&(d(d(e=d(n=a=i["$end_with?"]('"'))?i["$end_with?"]('""'):n)?e:i["$start_with?"]('""'))?d(e=(i=i.$gsub('""',""))["$start_with?"]('"'))?i["$end_with?"]('"')["$!"]():e:a["$!"]())},m.$$arity=-1),t.defn(q,"$take_cellspec",y=function(){var t=this;return t.cellspecs.$shift()},y.$$arity=0),t.defn(q,"$push_cellspec",b=function(t){var e,n=this;return null==t&&(t=u([],{})),n.cellspecs["$<<"](d(e=t)?e:u([],{})),s},b.$$arity=-1),t.defn(q,"$keep_cell_open",k=function(){var t=this;return t.cell_open=!0,s},k.$$arity=0),t.defn(q,"$mark_cell_closed",w=function(){var t=this;return t.cell_open=!1,s},w.$$arity=0),t.defn(q,"$cell_open?",x=function(){var t=this;return t.cell_open},x.$$arity=0),t.defn(q,"$cell_closed?",E=function(){var t=this;return t.cell_open["$!"]()},E.$$arity=0),t.defn(q,"$close_open_cell",O=function(t){var e=this;return null==t&&(t=u([],{})),e.$push_cellspec(t),d(e["$cell_open?"]())&&e.$close_cell(!0),e.$advance(),s},O.$$arity=-1),t.defn(q,"$close_cell",A=function(n){try{var i,a,o=this,l=s,c=s,p=s,h=s;return null==n&&(n=!1),o.format["$=="]("psv")?(l=!0,c=o.buffer,o.buffer="",d(p=o.$take_cellspec())?h=d(i=p.$delete("repeatcol"))?i:1:(o.$warn("asciidoctor: ERROR: "+o.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),p=u([],{}),h=1)):(l=!1,c=o.buffer.$strip(),o.buffer="",p=s,h=1,o.format["$=="]("csv")&&d(d(i=c["$empty?"]()["$!"]())?c["$include?"]('"'):i)&&(d(d(i=c["$start_with?"]('"'))?c["$end_with?"]('"'):i)&&(c=c["$[]"](f(1,-1,!0)).$strip()),c=c.$squeeze('"'))),_(1,"upto",[h],(a=function(i){var o,f,g,v,m=a.$$s||this,y=s,b=s,k=s,w=s;return null==m.colcount&&(m.colcount=s),null==m.table&&(m.table=s),null==m.current_row&&(m.current_row=s),null==m.last_cursor&&(m.last_cursor=s),null==m.reader&&(m.reader=s),null==m.column_visits&&(m.column_visits=s),null==m.linenum&&(m.linenum=s),null==i&&(i=s),m.colcount["$=="](-1)?(m.table.$columns()["$<<"](y=t.const_get_qualified(t.const_get_relative(N,"Table"),"Column").$new(m.table,r($(m.table.$columns().$size(),i),1))),d(d(o=d(f=p)?p["$key?"]("colspan"):f)?e(b=r(p["$[]"]("colspan").$to_i(),1),0):o)&&(k=m.table.$columns().$size(),_(b,"times",[],(g=function(e){var n=g.$$s||this;return null==n.table&&(n.table=s),null==e&&(e=s),n.table.$columns()["$<<"](t.const_get_qualified(t.const_get_relative(N,"Table"),"Column").$new(n.table,$(k,e)))},g.$$s=m,g.$$arity=1,g)))):d(y=m.table.$columns()["$[]"](m.current_row.$size()))||(m.$warn("asciidoctor: ERROR: "+m.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),t.ret(s)),w=t.const_get_qualified(t.const_get_relative(N,"Table"),"Cell").$new(y,c,p,u(["cursor","strip_text"],{cursor:m.last_cursor,strip_text:l})),m.last_cursor=m.reader.$cursor(),d(d(o=w.$rowspan()["$!"]())?o:w.$rowspan()["$=="](1))||m.$activate_rowspan(w.$rowspan(),d(o=w.$colspan())?o:1),m.column_visits=$(m.column_visits,d(o=w.$colspan())?o:1),m.current_row["$<<"](w),d(d(o=m["$end_of_row?"]())?d(f=d(v=m.colcount["$!="](-1))?v:e(m.linenum,0))?f:d(v=n)?i["$=="](h):v:o)?m.$close_row():s},a.$$s=o,a.$$arity=1,a)),o.cell_open=!1,s}catch(g){if(g===t.returner)return g.$v;throw g}},A.$$arity=-1),t.defn(q,"$close_row",S=function(){var e,n=this,i=s;return n.table.$rows().$body()["$<<"](n.current_row),n.colcount["$=="](-1)&&(n.colcount=n.column_visits),n.column_visits=0,n.current_row=[],n.active_rowspans.$shift(),d(e=n.active_rowspans["$[]"](0))?e:(i=[0,0],_(n.active_rowspans,"[]=",t.to_a(i)),i[r(i.length,1)]),s},S.$$arity=0),t.defn(q,"$activate_rowspan",R=function(e,n){var i,a=this;return _(1..$upto(r(e,1)),"each",[],(i=function(e){var a,o=i.$$s||this,l=s;return null==o.active_rowspans&&(o.active_rowspans=s),null==e&&(e=s),l=[e,$(d(a=o.active_rowspans["$[]"](e))?a:0,n)],_(o.active_rowspans,"[]=",t.to_a(l)),l[r(l.length,1)]},i.$$s=a,i.$$arity=1,i)),s},R.$$arity=2),t.defn(q,"$end_of_row?",M=function(){var t,e=this;return d(t=e.colcount["$=="](-1))?t:e.$effective_column_visits()["$=="](e.colcount)},M.$$arity=0),t.defn(q,"$effective_column_visits",T=function(){var t=this;return $(t.column_visits,t.active_rowspans["$[]"](0))},T.$$arity=0),t.defn(q,"$advance",I=function(){var t=this;return t.linenum=$(t.linenum,1)},I.$$arity=0),s&&"advance"}(t.const_get_relative(v,"Table"),null,v)}(o[0],o)},Opal.modules["asciidoctor/converter/composite"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=(t.top,[]),r=t.nil,i=(t.breaker,t.slice,t.module),a=t.klass,$=t.send,o=t.truthy,s=t.hash2;return t.add_stubs(["$attr_reader","$each","$compact","$flatten","$respond_to?","$composed","$node_name","$convert","$converter_for","$[]","$find_converter","$[]=","$-","$handles?","$raise"]),function(n,l){var c,u=c=i(n,"Asciidoctor"),_=(u.$$proto,[u].concat(l));!function(n,i,l){function c(){}var u,_,d,f,p=c=a(n,i,"CompositeConverter",c),h=p.$$proto;[p].concat(l);return h.converter_map=h.converters=r,p.$attr_reader("converters"),t.defn(p,"$initialize",u=function(t,e){var n,i,a=this,l=arguments.length,c=l-1;c<0&&(c=0),i=new Array(c);for(var u=1;u<l;u++)i[u-1]=arguments[u];return a.backend=t,$(a.converters=i.$flatten().$compact(),"each",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=r),o(t["$respond_to?"]("composed"))?t.$composed(e):r},n.$$s=a,n.$$arity=1,n)),a.converter_map=s([],{})},u.$$arity=-2),t.defn(p,"$convert",_=function(t,e,n){var i,a=this;return null==e&&(e=r),null==n&&(n=s([],{})),e=o(i=e)?i:t.$node_name(),a.$converter_for(e).$convert(t,e,n)},_.$$arity=-2),t.alias(p,"convert_with_options","convert"),t.defn(p,"$converter_for",d=function(n){var i,a=this,s=r;return o(i=a.converter_map["$[]"](n))?i:(s=[n,a.$find_converter(n)],$(a.converter_map,"[]=",t.to_a(s)),s[e(s.length,1)])},d.$$arity=1),t.defn(p,"$find_converter",f=function(e){try{var n,i=this;return $(i.converters,"each",[],(n=function(i){n.$$s||this;return null==i&&(i=r),o(i["$handles?"](e))?void t.ret(i):r},n.$$s=i,n.$$arity=1,n)),i.$raise("Could not find a converter to handle transform: "+e)}catch(a){if(a===t.returner)return a.$v;throw a}},f.$$arity=1),r&&"find_converter"}(t.const_get_relative(_,"Converter"),t.const_get_qualified(t.const_get_relative(_,"Converter"),"Base"),_)}(n[0],n)},Opal.modules["asciidoctor/converter/html5"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var s=(t.top,[]),l=t.nil,c=(t.breaker,t.slice,t.module),u=t.klass,_=t.send,d=t.hash2,f=t.truthy,p=t.range;return t.add_stubs(["$default=","$-","$==","$[]","$instance","$empty?","$attr","$>=","$safe","$attr?","$<<","$include?","$gsub","$extname","$doctitle","$normalize_web_path","$embed_primary_stylesheet","$read_asset","$normalize_system_path","$===","$coderay_stylesheet_name","$embed_coderay_stylesheet","$pygments_stylesheet_name","$embed_pygments_stylesheet","$docinfo","$id","$sections?","$doctype","$*","$noheader","$outline","$has_header?","$notitle","$title","$header","$sub_macros","$>","$to_i","$each","$downcase","$concat","$content","$footnotes?","$!","$footnotes","$index","$text","$nofooter","$inspect","$!=","$document","$sections","$level","$caption","$captioned_title","$numbered","$<=","$sectnum","$<","$+","$role","$title?","$icon_uri","$compact","$media_uri","$option?","$append_boolean_attribute","$style","$each_with_index","$items","$text?","$blocks?","$chomp","$read_svg_contents","$image_uri","$to_sym","$start_with?","$end_with?","$list_marker_keyword","$parent","$warn","$context","$times","$size","$columns","$by_section","$rows","$colspan","$rowspan","$role?","$unshift","$shift","$split","$nil_or_empty?","$target","$type","$attributes","$catalog","$join","$map","$chop","$read_contents","$sub","$match","$length"]),function(s,h){var g,v=g=c(s,"Asciidoctor"),m=(v.$$proto,[v].concat(h));!function(s,c,h){function g(){}var v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P,L,D,B,j,U,F,H,G,Y,W,K,X,V,J,Z,Q,tt,et,nt,rt,it=g=u(s,c,"Html5Converter",g),at=it.$$proto,$t=[it].concat(h),ot=l;return at.xml_mode=at.void_element_slash=at.stylesheets=l,ot=[["","",!1]],_(t.const_set($t[0],"QUOTE_TAGS",d(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",t.to_a(ot)),ot[e(ot.length,1)],t.const_set($t[0],"SvgPreambleRx",/^.*?(?=<svg\b)/m),t.const_set($t[0],"SvgStartTagRx",/^<svg[^>]*>/),t.const_set($t[0],"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/),t.defn(it,"$initialize",v=function(e,n){var r=this;return null==n&&(n=d([],{})),r.xml_mode=n["$[]"]("htmlsyntax")["$=="]("xml"),r.void_element_slash=function(){return f(r.xml_mode)?"/":l}(),r.stylesheets=t.const_get_relative($t,"Stylesheets").$instance()},v.$$arity=-2),t.defn(it,"$document",m=function(e){var a,$,o,s,c,u=this,h=l,g=l,v=l,m=l,y=l,b=l,k=l,w=l,x=l,E=l,O=l,A=l,S=l,R=l,M=l,T=l,I=l,q=l,C=l,N=l,z=l,P=l,L=l,D=l,B=l;return h=[],g=u.void_element_slash,v="<br"+g+">",f((m=e.$attr("asset-uri-scheme","https"))["$empty?"]())||(m=""+m+":"),y=""+m+"//cdnjs.cloudflare.com/ajax/libs",b=f(a=n(e.$safe(),t.const_get_qualified(t.const_get_relative($t,"SafeMode"),"SECURE")))?a:e["$attr?"]("linkcss"),h["$<<"]("<!DOCTYPE html>"),k=function(){return f(e["$attr?"]("nolang"))?l:' lang="'+e.$attr("lang","en")+'"'}(),h["$<<"]("<html"+function(){return f(u.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':l}()+k+">"),h["$<<"]('<head>\n<meta charset="'+e.$attr("encoding","UTF-8")+'"'+g+'>\n<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+g+'><![endif]-->\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+g+'>\n<meta name="generator" content="Asciidoctor '+e.$attr("asciidoctor-version")+'"'+g+">"),f(e["$attr?"]("app-name"))&&h["$<<"]('<meta name="application-name" content="'+e.$attr("app-name")+'"'+g+">"),f(e["$attr?"]("description"))&&h["$<<"]('<meta name="description" content="'+e.$attr("description")+'"'+g+">"),f(e["$attr?"]("keywords"))&&h["$<<"]('<meta name="keywords" content="'+e.$attr("keywords")+'"'+g+">"),f(e["$attr?"]("authors"))&&h["$<<"]('<meta name="author" content="'+function(){return f((w=e.$attr("authors"))["$include?"]("<"))?w.$gsub(t.const_get_relative($t,"XmlSanitizeRx"),""):w}()+'"'+g+">"),f(e["$attr?"]("copyright"))&&h["$<<"]('<meta name="copyright" content="'+e.$attr("copyright")+'"'+g+">"),f(e["$attr?"]("favicon"))&&(f((x=e.$attr("favicon"))["$empty?"]())?(a=["favicon.ico","image/x-icon"],x=a[0],E=a[1],a):E=function(){return(O=t.const_get_qualified("::","File").$extname(x))["$=="](".ico")?"image/x-icon":"image/"+O["$[]"](p(1,-1,!1))}(),h["$<<"]('<link rel="shortcut icon" type="'+E+'" href="'+x+'">')),h["$<<"]("<title>"+e.$doctitle(d(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),f(t.const_get_relative($t,"DEFAULT_STYLESHEET_KEYS")["$include?"](e.$attr("stylesheet")))?(f(A=e.$attr("webfonts"))&&h["$<<"]('<link rel="stylesheet" href="'+m+"//fonts.googleapis.com/css?family="+function(){return f(A["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":A}()+'"'+g+">"),f(b)?h["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(t.const_get_relative($t,"DEFAULT_STYLESHEET_NAME"),e.$attr("stylesdir",""),!1)+'"'+g+">"):h["$<<"](u.stylesheets.$embed_primary_stylesheet())):f(e["$attr?"]("stylesheet"))&&(f(b)?h["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(e.$attr("stylesheet"),e.$attr("stylesdir",""))+'"'+g+">"):h["$<<"]("<style>\n"+e.$read_asset(e.$normalize_system_path(e.$attr("stylesheet"),e.$attr("stylesdir","")),d(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"}))+"\n</style>")),f(e["$attr?"]("icons","font"))&&(f(e["$attr?"]("iconfont-remote"))?h["$<<"]('<link rel="stylesheet" href="'+e.$attr("iconfont-cdn",""+y+"/font-awesome/4.6.3/css/font-awesome.min.css")+'"'+g+">"):(S=""+e.$attr("iconfont-name","font-awesome")+".css",h["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(S,e.$attr("stylesdir",""),!1)+'"'+g+">"))),R=M=e.$attr("source-highlighter"),"coderay"["$==="](R)?e.$attr("coderay-css","class")["$=="]("class")&&(f(b)?h["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(u.stylesheets.$coderay_stylesheet_name(),e.$attr("stylesdir",""),!1)+'"'+g+">"):h["$<<"](u.stylesheets.$embed_coderay_stylesheet())):"pygments"["$==="](R)&&e.$attr("pygments-css","class")["$=="]("class")&&(T=e.$attr("pygments-style"),f(b)?h["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(u.stylesheets.$pygments_stylesheet_name(T),e.$attr("stylesdir",""),!1)+'"'+g+">"):h["$<<"](u.stylesheets.$embed_pygments_stylesheet(T))),f((I=e.$docinfo())["$empty?"]())||h["$<<"](I),h["$<<"]("</head>"),q=[],f(e.$id())&&q["$<<"]('id="'+e.$id()+'"'),f(f(a=f($=f(o=C=e["$sections?"]())?e["$attr?"]("toc-class"):o)?e["$attr?"]("toc"):$)?e["$attr?"]("toc-placement","auto"):a)?q["$<<"]('class="'+e.$doctype()+" "+e.$attr("toc-class")+" toc-"+e.$attr("toc-position","header")+'"'):q["$<<"]('class="'+e.$doctype()+'"'),f(e["$attr?"]("max-width"))&&q["$<<"]('style="max-width: '+e.$attr("max-width")+';"'),h["$<<"]("<body "+r(q," ")+">"),f(e.$noheader())||(h["$<<"]('<div id="header">'),e.$doctype()["$=="]("manpage")?(h["$<<"]("<h1>"+e.$doctitle()+" Manual Page</h1>"),f(f(a=f($=C)?e["$attr?"]("toc"):$)?e["$attr?"]("toc-placement","auto"):a)&&h["$<<"]('<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+u.$outline(e)+"\n</div>"),h["$<<"]("<h2>"+e.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+e.$attr("manname")+" - "+e.$attr("manpurpose")+"</p>\n</div>")):(f(e["$has_header?"]())&&(f(e.$notitle())||h["$<<"]("<h1>"+e.$header().$title()+"</h1>"),N=[],f(e["$attr?"]("author"))&&(N["$<<"]('<span id="author" class="author">'+e.$attr("author")+"</span>"+v),f(e["$attr?"]("email"))&&N["$<<"]('<span id="email" class="email">'+e.$sub_macros(e.$attr("email"))+"</span>"+v),f(i(z=e.$attr("authorcount").$to_i(),1))&&_(t.Range.$new(2,z,!1),"each",[],(s=function(t){s.$$s||this;return null==t&&(t=l),N["$<<"]('<span id="author'+t+'" class="author">'+e.$attr("author_"+t)+"</span>"+v),f(e["$attr?"]("email_"+t))?N["$<<"]('<span id="email'+t+'" class="email">'+e.$sub_macros(e.$attr("email_"+t))+"</span>"+v):l},s.$$s=u,s.$$arity=1,s))),f(e["$attr?"]("revnumber"))&&N["$<<"]('<span id="revnumber">'+(f(a=e.$attr("version-label"))?a:"").$downcase()+" "+e.$attr("revnumber")+function(){return f(e["$attr?"]("revdate"))?",":""}()+"</span>"),f(e["$attr?"]("revdate"))&&N["$<<"]('<span id="revdate">'+e.$attr("revdate")+"</span>"),f(e["$attr?"]("revremark"))&&N["$<<"](""+v+'<span id="revremark">'+e.$attr("revremark")+"</span>"),f(N["$empty?"]())||(h["$<<"]('<div class="details">'),h.$concat(N),h["$<<"]("</div>"))),f(f(a=f($=C)?e["$attr?"]("toc"):$)?e["$attr?"]("toc-placement","auto"):a)&&h["$<<"]('<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+u.$outline(e)+"\n</div>")),h["$<<"]("</div>")),h["$<<"]('<div id="content">\n'+e.$content()+"\n</div>"),f(f(a=e["$footnotes?"]())?e["$attr?"]("nofootnotes")["$!"]():a)&&(h["$<<"]('<div id="footnotes">\n<hr'+g+">"),_(e.$footnotes(),"each",[],(c=function(t){c.$$s||this;return null==t&&(t=l),h["$<<"]('<div class="footnote" id="_footnote_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")},c.$$s=u,c.$$arity=1,c)),h["$<<"]("</div>")),f(e.$nofooter())||(h["$<<"]('<div id="footer">'),h["$<<"]('<div id="footer-text">'),f(e["$attr?"]("revnumber"))&&h["$<<"](""+e.$attr("version-label")+" "+e.$attr("revnumber")+v),f(f(a=e["$attr?"]("last-update-label"))?e["$attr?"]("reproducible")["$!"]():a)&&h["$<<"](""+e.$attr("last-update-label")+" "+e.$attr("docdatetime")),h["$<<"]("</div>"),h["$<<"]("</div>")),f((I=e.$docinfo("footer"))["$empty?"]())||h["$<<"](I),R=M,"highlightjs"["$==="](R)||"highlight.js"["$==="](R)?(P=e.$attr("highlightjsdir",""+y+"/highlight.js/9.9.0"),h["$<<"]('<link rel="stylesheet" href="'+P+"/styles/"+e.$attr("highlightjs-theme","github")+'.min.css"'+g+">"),h["$<<"]('<script src="'+P+'/highlight.min.js"></script>\n<script>hljs.initHighlighting()</script>')):"prettify"["$==="](R)&&(L=e.$attr("prettifydir",""+y+"/prettify/r298"),h["$<<"]('<link rel="stylesheet" href="'+L+"/"+e.$attr("prettify-theme","prettify")+'.min.css"'+g+">"),h["$<<"]('<script src="'+L+'/prettify.min.js"></script>\n<script>prettyPrint()</script>')),f(e["$attr?"]("stem"))&&(D=e.$attr("eqnums","none"),f(D["$empty?"]())&&(D="AMS"),B=' equationNumbers: { autoNumber: "'+D+'" } ',h["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+t.const_get_relative($t,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+t.const_get_relative($t,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+t.const_get_relative($t,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+B+'}\n});\n</script>\n<script src="'+y+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>')),h["$<<"]("</body>"),h["$<<"]("</html>"),r(h,t.const_get_relative($t,"EOL"))},m.$$arity=1),t.defn(it,"$embedded",y=function(e){var n,i,a,$,o=this,s=l,c=l,u=l;return s=[],e.$doctype()["$=="]("manpage")?(f(e.$notitle())||(c=function(){return f(e.$id())?' id="'+e.$id()+'"':l}(),s["$<<"]("<h1"+c+">"+e.$doctitle()+" Manual Page</h1>")),s["$<<"]("<h2>"+e.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+e.$attr("manname")+" - "+e.$attr("manpurpose")+"</p>\n</div>")):f(f(n=e["$has_header?"]())?e.$notitle()["$!"]():n)&&(c=function(){return f(e.$id())?' id="'+e.$id()+'"':l}(),s["$<<"]("<h1"+c+">"+e.$header().$title()+"</h1>")),f(f(n=f(i=f(a=e["$sections?"]())?e["$attr?"]("toc"):a)?(u=e.$attr("toc-placement"))["$!="]("macro"):i)?u["$!="]("preamble"):n)&&s["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+o.$outline(e)+"\n</div>"),s["$<<"](e.$content()),f(f(n=e["$footnotes?"]())?e["$attr?"]("nofootnotes")["$!"]():n)&&(s["$<<"]('<div id="footnotes">\n<hr'+o.void_element_slash+">"),_(e.$footnotes(),"each",[],($=function(t){$.$$s||this;return null==t&&(t=l),s["$<<"]('<div class="footnote" id="_footnote_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")},$.$$s=o,$.$$arity=1,$)),s["$<<"]("</div>")),r(s,t.const_get_relative($t,"EOL"))},y.$$arity=1),t.defn(it,"$outline",b=function(e,n){var i,o,s=this,c=l,u=l,p=l,h=l;return null==n&&(n=d([],{})),f(e["$sections?"]())?(c=f(i=n["$[]"]("sectnumlevels"))?i:e.$document().$attr("sectnumlevels",3).$to_i(),u=f(i=n["$[]"]("toclevels"))?i:e.$document().$attr("toclevels",2).$to_i(),p=e.$sections(),h=['<ul class="sectlevel'+p["$[]"](0).$level()+'">'],_(p,"each",[],(o=function(t){var e,n=o.$$s||this,r=l,i=l,s=l;return null==t&&(t=l),r=t.$level(),i=f(t.$caption())?t.$captioned_title():f(f(e=t.$numbered())?a(r,c):e)?""+t.$sectnum()+" "+t.$title():t.$title(),f(f(e=$(r,u))?s=n.$outline(t,d(["toclevels","secnumlevels"],{toclevels:u,secnumlevels:c})):e)?(h["$<<"]('<li><a href="#'+t.$id()+'">'+i+"</a>"),h["$<<"](s),h["$<<"]("</li>")):h["$<<"]('<li><a href="#'+t.$id()+'">'+i+"</a></li>")},o.$$s=s,o.$$arity=1,o)),h["$<<"]("</ul>"),r(h,t.const_get_relative($t,"EOL"))):l},b.$$arity=-2),t.defn(it,"$section",k=function(t){var e,n,r=l,i=l,$=l,s=l,c=l,u=l,_=l,d=l,p=l,h=l,g=l;return r=t.$level(),i="h"+o(r,1),$=s=c=u=l,f(t.$id())&&($=' id="'+(_=t.$id())+'"',f((d=t.$document())["$attr?"]("sectanchors"))&&(s='<a class="anchor" href="#'+_+'"></a>'),f(d["$attr?"]("sectlinks"))&&(c='<a class="link" href="#'+_+'">',u="</a>")),r["$=="](0)?"<h1"+$+' class="sect0">'+s+c+t.$title()+u+"</h1>\n"+t.$content():(p=function(){return f(h=t.$role())?' class="sect'+r+" "+h+'"':' class="sect'+r+'"'}(),g=function(){return f(f(e=f(n=t.$numbered())?t.$caption()["$!"]():n)?a(r,t.$document().$attr("sectnumlevels",3).$to_i()):e)?""+t.$sectnum()+" ":l}(),"<div"+p+">\n<"+i+$+">"+s+c+g+t.$captioned_title()+u+"</"+i+">\n"+function(){return r["$=="](1)?'<div class="sectionbody">\n'+t.$content()+"\n</div>":t.$content()}()+"\n</div>")},k.$$arity=1),t.defn(it,"$admonition",w=function(t){var e,n=this,r=l,i=l,a=l,$=l,o=l;return r=function(){return f(t.$id())?' id="'+t.$id()+'"':l}(),i=t.$attr("name"),a=function(){return f(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":l}(),$=function(){return f(t.$document()["$attr?"]("icons"))?f(f(e=t.$document()["$attr?"]("icons","font"))?t["$attr?"]("icon")["$!"]():e)?'<i class="fa icon-'+i+'" title="'+t.$caption()+'"></i>':'<img src="'+t.$icon_uri(i)+'" alt="'+t.$caption()+'"'+n.void_element_slash+">":'<div class="title">'+t.$caption()+"</div>"}(),"<div"+r+' class="admonitionblock '+i+(f(e=o=t.$role())?" "+o:e)+'">\n<table>\n<tr>\n<td class="icon">\n'+$+'\n</td>\n<td class="content">\n'+a+t.$content()+"\n</td>\n</tr>\n</table>\n</div>"},w.$$arity=1),t.defn(it,"$audio",x=function(t){var e,n=this,i=l,a=l,$=l,o=l,s=l,c=l,u=l,_=l;return i=n.xml_mode,a=function(){return f(t.$id())?' id="'+t.$id()+'"':l}(),$=["audioblock",t.$role()].$compact(),o=' class="'+r($," ")+'"',s=function(){return f(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":l}(),c=t.$attr("start",l,!1),u=t.$attr("end",l,!1),_=function(){return f(f(e=c)?e:u)?"#t="+c+function(){return f(u)?",":l}()+u:l}(),"<div"+a+o+">\n"+s+'<div class="content">\n<audio src="'+t.$media_uri(t.$attr("target"))+_+'"'+function(){return f(t["$option?"]("autoplay"))?n.$append_boolean_attribute("autoplay",i):l}()+function(){return f(t["$option?"]("nocontrols"))?l:n.$append_boolean_attribute("controls",i)}()+function(){return f(t["$option?"]("loop"))?n.$append_boolean_attribute("loop",i):l}()+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},x.$$arity=1),t.defn(it,"$colist",E=function(e){var n,i,a=this,$=l,s=l,c=l,u=l,d=l;return $=[],s=function(){return f(e.$id())?' id="'+e.$id()+'"':l}(),c=["colist",e.$style(),e.$role()].$compact(),u=' class="'+r(c," ")+'"',$["$<<"]("<div"+s+u+">"),f(e["$title?"]())&&$["$<<"]('<div class="title">'+e.$title()+"</div>"),f(e.$document()["$attr?"]("icons"))?($["$<<"]("<table>"),d=e.$document()["$attr?"]("icons","font"),_(e.$items(),"each_with_index",[],(n=function(t,r){var i=n.$$s||this,a=l,s=l;return null==i.void_element_slash&&(i.void_element_slash=l),null==t&&(t=l),null==r&&(r=l),a=o(r,1),s=function(){return f(d)?'<i class="conum" data-value="'+a+'"></i><b>'+a+"</b>":'<img src="'+e.$icon_uri("callouts/"+a)+'" alt="'+a+'"'+i.void_element_slash+">"}(),$["$<<"]("<tr>\n<td>"+s+"</td>\n<td>"+t.$text()+"</td>\n</tr>")},n.$$s=a,n.$$arity=2,n)),$["$<<"]("</table>")):($["$<<"]("<ol>"),_(e.$items(),"each",[],(i=function(t){i.$$s||this;return null==t&&(t=l),$["$<<"]("<li>\n<p>"+t.$text()+"</p>\n</li>")},i.$$s=a,i.$$arity=1,i)),$["$<<"]("</ol>")),$["$<<"]("</div>"),r($,t.const_get_relative($t,"EOL"))},E.$$arity=1),t.defn(it,"$dlist",O=function(e){var n,i,a,$,o=this,s=l,c=l,u=l,d=l,p=l,h=l,g=l,v=l;return s=[],c=function(){return f(e.$id())?' id="'+e.$id()+'"':l}(),u=function(){return d=e.$style(),"qanda"["$==="](d)?["qlist","qanda",e.$role()]:"horizontal"["$==="](d)?["hdlist",e.$role()]:["dlist",e.$style(),e.$role()]}().$compact(),p=' class="'+r(u," ")+'"',s["$<<"]("<div"+c+p+">"),f(e["$title?"]())&&s["$<<"]('<div class="title">'+e.$title()+"</div>"),d=e.$style(),"qanda"["$==="](d)?(s["$<<"]("<ol>"),_(e.$items(),"each",[],(n=function(e,r){var i,a=n.$$s||this;return null==e&&(e=l),null==r&&(r=l),s["$<<"]("<li>"),_([].concat(t.to_a(e)),"each",[],(i=function(t){i.$$s||this;return null==t&&(t=l),s["$<<"]("<p><em>"+t.$text()+"</em></p>")},i.$$s=a,i.$$arity=1,i)),f(r)&&(f(r["$text?"]())&&s["$<<"]("<p>"+r.$text()+"</p>"),f(r["$blocks?"]())&&s["$<<"](r.$content())),s["$<<"]("</li>")},n.$$s=o,n.$$arity=2,n)),s["$<<"]("</ol>")):"horizontal"["$==="](d)?(h=o.void_element_slash,s["$<<"]("<table>"),f(f(i=e["$attr?"]("labelwidth"))?i:e["$attr?"]("itemwidth"))&&(s["$<<"]("<colgroup>"),g=function(){return f(e["$attr?"]("labelwidth"))?' style="width: '+e.$attr("labelwidth").$chomp("%")+'%;"':l}(),s["$<<"]("<col"+g+h+">"),g=function(){return f(e["$attr?"]("itemwidth"))?' style="width: '+e.$attr("itemwidth").$chomp("%")+'%;"':l}(),s["$<<"]("<col"+g+h+">"),s["$<<"]("</colgroup>")),_(e.$items(),"each",[],(a=function(n,r){var i,$=a.$$s||this,o=l,c=l;return null==n&&(n=l),null==r&&(r=l),s["$<<"]("<tr>"),s["$<<"]('<td class="hdlist1'+function(){return f(e["$option?"]("strong"))?" strong":l}()+'">'),o=[].concat(t.to_a(n)),c=o["$[]"](-1),_(o,"each",[],(i=function(t){i.$$s||this;return null==t&&(t=l),s["$<<"](t.$text()),f(t["$!="](c))?s["$<<"]("<br"+h+">"):l},i.$$s=$,i.$$arity=1,i)),s["$<<"]("</td>"),s["$<<"]('<td class="hdlist2">'),f(r)&&(f(r["$text?"]())&&s["$<<"]("<p>"+r.$text()+"</p>"),f(r["$blocks?"]())&&s["$<<"](r.$content())),s["$<<"]("</td>"),s["$<<"]("</tr>")},a.$$s=o,a.$$arity=2,a)),s["$<<"]("</table>")):(s["$<<"]("<dl>"),v=function(){return f(e.$style())?l:' class="hdlist1"'}(),_(e.$items(),"each",[],($=function(e,n){var r,i=$.$$s||this;return null==e&&(e=l),null==n&&(n=l),_([].concat(t.to_a(e)),"each",[],(r=function(t){r.$$s||this;return null==t&&(t=l),s["$<<"]("<dt"+v+">"+t.$text()+"</dt>")},r.$$s=i,r.$$arity=1,r)),f(n)?(s["$<<"]("<dd>"),f(n["$text?"]())&&s["$<<"]("<p>"+n.$text()+"</p>"),f(n["$blocks?"]())&&s["$<<"](n.$content()),s["$<<"]("</dd>")):l},$.$$s=o,$.$$arity=2,$)),s["$<<"]("</dl>")),s["$<<"]("</div>"),r(s,t.const_get_relative($t,"EOL"))},O.$$arity=1),t.defn(it,"$example",A=function(t){var e=l,n=l,i=l;return e=function(){return f(t.$id())?' id="'+t.$id()+'"':l}(),n=function(){return f(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":l}(),"<div"+e+' class="'+function(){return f(i=t.$role())?r(["exampleblock",i]," "):"exampleblock"}()+'">\n'+n+'<div class="content">\n'+t.$content()+"\n</div>\n</div>"},A.$$arity=1),t.defn(it,"$floating_title",S=function(t){var e=l,n=l,i=l;return e="h"+o(t.$level(),1),n=function(){return f(t.$id())?' id="'+t.$id()+'"':l}(),i=[t.$style(),t.$role()].$compact(),"<"+e+n+' class="'+r(i," ")+'">'+t.$title()+"</"+e+">"},S.$$arity=1),t.defn(it,"$image",R=function(e){var n,i,a,o=this,s=l,c=l,u=l,_=l,d=l,p=l,h=l,g=l,v=l,m=l,y=l,b=l,k=l,w=l,x=l;return s=e.$attr("target"),c=function(){return f(e["$attr?"]("width"))?' width="'+e.$attr("width")+'"':l}(),u=function(){return f(e["$attr?"]("height"))?' height="'+e.$attr("height")+'"':l}(),f(f(n=f(i=f(a=e["$attr?"]("format","svg",!1))?a:s["$include?"](".svg"))?$(e.$document().$safe(),t.const_get_qualified(t.const_get_relative($t,"SafeMode"),"SECURE")):i)?f(i=_=e["$option?"]("inline"))?i:d=e["$option?"]("interactive"):n)&&(f(_)?p=f(n=o.$read_svg_contents(e,s))?n:'<span class="alt">'+e.$attr("alt")+"</span>":f(d)&&(h=function(){return f(e["$attr?"]("fallback"))?'<img src="'+e.$image_uri(e.$attr("fallback"))+'" alt="'+e.$attr("alt")+'"'+c+u+o.void_element_slash+">":'<span class="alt">'+e.$attr("alt")+"</span>"}(),p='<object type="image/svg+xml" data="'+e.$image_uri(s)+'"'+c+u+">"+h+"</object>")),p=f(n=p)?n:'<img src="'+e.$image_uri(s)+'" alt="'+e.$attr("alt")+'"'+c+u+o.void_element_slash+">",f(e["$attr?"]("link"))&&(f(e["$attr?"]("window"))&&(g=' target="'+(v=e.$attr("window"))+'"'+function(){return f(f(n=v["$=="]("_blank"))?n:e["$option?"]("noopener"))?' rel="noopener"':""}()),p='<a class="image" href="'+e.$attr("link")+'"'+g+">"+p+"</a>"),m=function(){return f(e.$id())?' id="'+e.$id()+'"':l}(),y=["imageblock",e.$role()].$compact(),b=' class="'+r(y," ")+'"',k=[],f(e["$attr?"]("align"))&&k["$<<"]("text-align: "+e.$attr("align")),f(e["$attr?"]("float"))&&k["$<<"]("float: "+e.$attr("float")),w=function(){return f(k["$empty?"]())?l:' style="'+r(k,";")+'"'}(),x=function(){return f(e["$title?"]())?'\n<div class="title">'+e.$captioned_title()+"</div>":l}(),"<div"+m+b+w+'>\n<div class="content">\n'+p+"\n</div>"+x+"\n</div>"},R.$$arity=1),t.defn(it,"$listing",M=function(t){var e,n=l,r=l,i=l,a=l,$=l,o=l,s=l,c=l,u=l,_=l;return n=f(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap"),t.$style()["$=="]("source")?(i=f(r=t.$attr("language",l,!1))?' data-lang="'+r+'"':l,a=t.$document().$attr("source-highlighter"),"coderay"["$==="](a)?$=' class="CodeRay highlight'+function(){return f(n)?" nowrap":l}()+'"':"pygments"["$==="](a)?$=' class="pygments highlight'+function(){return f(n)?" nowrap":l}()+'"':"highlightjs"["$==="](a)||"highlight.js"["$==="](a)?($=' class="highlightjs highlight'+function(){return f(n)?" nowrap":l}()+'"',f(r)&&(i=' class="language-'+r+' hljs"'+i)):"prettify"["$==="](a)?($=' class="prettyprint highlight'+function(){return f(n)?" nowrap":l}()+function(){return f(t["$attr?"]("linenums"))?" linenums":l}()+'"',f(r)&&(i=' class="language-'+r+'"'+i)):"html-pipeline"["$==="](a)?($=function(){return f(r)?' lang="'+r+'"':l}(),i=l):($=' class="highlight'+function(){return f(n)?" nowrap":l}()+'"',f(r)&&(i=' class="language-'+r+'"'+i)),o="<pre"+$+"><code"+i+">",s="</code></pre>"):(o="<pre"+function(){return f(n)?' class="nowrap"':l}()+">",s="</pre>"),c=function(){return f(t.$id())?' id="'+t.$id()+'"':l}(),u=function(){return f(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":l}(),"<div"+c+' class="listingblock'+(f(e=_=t.$role())?" "+_:e)+'">\n'+u+'<div class="content">\n'+o+t.$content()+s+"\n</div>\n</div>"},M.$$arity=1),t.defn(it,"$literal",T=function(t){var e,n=l,r=l,i=l,a=l;return n=function(){return f(t.$id())?' id="'+t.$id()+'"':l}(),r=function(){return f(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":l}(),i=f(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap"),"<div"+n+' class="literalblock'+(f(e=a=t.$role())?" "+a:e)+'">\n'+r+'<div class="content">\n<pre'+function(){return f(i)?' class="nowrap"':l}()+">"+t.$content()+"</pre>\n</div>\n</div>"},T.$$arity=1),t.defn(it,"$stem",I=function(e){var n,i,a=l,$=l,o=l,s=l,c=l,u=l;return a=function(){return f(e.$id())?' id="'+e.$id()+'"':l}(),$=function(){return f(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":l}(),i=t.const_get_relative($t,"BLOCK_MATH_DELIMITERS")["$[]"](e.$style().$to_sym()),n=t.to_ary(i),o=null==n[0]?l:n[0],s=null==n[1]?l:n[1],i,f(f(n=(c=e.$content())["$start_with?"](o))?c["$end_with?"](s):n)||(c=""+o+c+s),"<div"+a+' class="'+function(){return f(u=e.$role())?r(["stemblock",u]," "):"stemblock"}()+'">\n'+$+'<div class="content">\n'+c+"\n</div>\n</div>"},I.$$arity=1),t.defn(it,"$olist",q=function(e){var n,i=this,a=l,$=l,o=l,s=l,c=l,u=l,d=l,p=l;return a=[],$=function(){return f(e.$id())?' id="'+e.$id()+'"':l}(),o=["olist",e.$style(),e.$role()].$compact(),s=' class="'+r(o," ")+'"',a["$<<"]("<div"+$+s+">"),f(e["$title?"]())&&a["$<<"]('<div class="title">'+e.$title()+"</div>"),c=function(){return f(u=e.$list_marker_keyword())?' type="'+u+'"':l}(),d=function(){return f(e["$attr?"]("start"))?' start="'+e.$attr("start")+'"':l;
}(),p=function(){return f(e["$option?"]("reversed"))?i.$append_boolean_attribute("reversed",i.xml_mode):l}(),a["$<<"]('<ol class="'+e.$style()+'"'+c+d+p+">"),_(e.$items(),"each",[],(n=function(t){n.$$s||this;return null==t&&(t=l),a["$<<"]("<li>"),a["$<<"]("<p>"+t.$text()+"</p>"),f(t["$blocks?"]())&&a["$<<"](t.$content()),a["$<<"]("</li>")},n.$$s=i,n.$$arity=1,n)),a["$<<"]("</ol>"),a["$<<"]("</div>"),r(a,t.const_get_relative($t,"EOL"))},q.$$arity=1),t.defn(it,"$open",C=function(t){var e,n,r,a=this,$=l,o=l,s=l,c=l;return($=t.$style())["$=="]("abstract")?f((e=t.$parent()["$=="](t.$document()))?t.$document().$doctype()["$=="]("book"):t.$parent()["$=="](t.$document()))?(a.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(o=function(){return f(t.$id())?' id="'+t.$id()+'"':l}(),s=function(){return f(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":l}(),"<div"+o+' class="quoteblock abstract'+(f(e=c=t.$role())?" "+c:e)+'">\n'+s+"<blockquote>\n"+t.$content()+"\n</blockquote>\n</div>"):f((e=$["$=="]("partintro"))?f(n=f(r=i(t.$level(),0))?r:t.$parent().$context()["$!="]("section"))?n:t.$document().$doctype()["$!="]("book"):$["$=="]("partintro"))?(a.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),""):(o=function(){return f(t.$id())?' id="'+t.$id()+'"':l}(),s=function(){return f(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":l}(),"<div"+o+' class="openblock'+function(){return f(f(e=$)?$["$!="]("open"):e)?" "+$:""}()+(f(e=c=t.$role())?" "+c:e)+'">\n'+s+'<div class="content">\n'+t.$content()+"\n</div>\n</div>")},C.$$arity=1),t.defn(it,"$page_break",N=function(t){return'<div style="page-break-after: always;"></div>'},N.$$arity=1),t.defn(it,"$paragraph",z=function(t){var e=l,n=l;return e=function(){return f(t.$role())?'class="paragraph '+t.$role()+'"':'class="paragraph"'}(),n=function(){return f(t.$id())?'id="'+t.$id()+'" '+e:e}(),f(t["$title?"]())?"<div "+n+'>\n<div class="title">'+t.$title()+"</div>\n<p>"+t.$content()+"</p>\n</div>":"<div "+n+">\n<p>"+t.$content()+"</p>\n</div>"},z.$$arity=1),t.defn(it,"$preamble",P=function(t){var e,n,r=this,i=l,a=l;return a=f(f(e=f(n=(i=t.$document())["$attr?"]("toc-placement","preamble"))?i["$sections?"]():n)?i["$attr?"]("toc"):e)?'\n<div id="toc" class="'+i.$attr("toc-class","toc")+'">\n<div id="toctitle">'+i.$attr("toc-title")+"</div>\n"+r.$outline(i)+"\n</div>":l,'<div id="preamble">\n<div class="sectionbody">\n'+t.$content()+"\n</div>"+a+"\n</div>"},P.$$arity=1),t.defn(it,"$quote",L=function(t){var e,n=this,i=l,a=l,$=l,o=l,s=l,c=l,u=l,_=l,d=l;return i=function(){return f(t.$id())?' id="'+t.$id()+'"':l}(),a=["quoteblock",t.$role()].$compact(),$=' class="'+r(a," ")+'"',o=function(){return f(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":l}(),s=function(){return f(t["$attr?"]("attribution"))?t.$attr("attribution"):l}(),c=function(){return f(t["$attr?"]("citetitle"))?t.$attr("citetitle"):l}(),f(f(e=s)?e:c)?(u=function(){return f(c)?"<cite>"+c+"</cite>":l}(),_=function(){return f(s)?"&#8212; "+s+function(){return f(c)?"<br"+n.void_element_slash+">\n":l}():l}(),d='\n<div class="attribution">\n'+_+u+"\n</div>"):d=l,"<div"+i+$+">"+o+"\n<blockquote>\n"+t.$content()+"\n</blockquote>"+d+"\n</div>"},L.$$arity=1),t.defn(it,"$thematic_break",D=function(t){var e=this;return"<hr"+e.void_element_slash+">"},D.$$arity=1),t.defn(it,"$sidebar",B=function(t){var e=l,n=l,i=l;return e=function(){return f(t.$id())?' id="'+t.$id()+'"':l}(),n=function(){return f(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":l}(),"<div"+e+' class="'+function(){return f(i=t.$role())?r(["sidebarblock",i]," "):"sidebarblock"}()+'">\n<div class="content">\n'+n+t.$content()+"\n</div>\n</div>"},B.$$arity=1),t.defn(it,"$table",j=function(e){var n,a,$,o,s=this,c=l,u=l,d=l,p=l,h=l,g=l,v=l,m=l,y=l;return c=[],u=function(){return f(e.$id())?' id="'+e.$id()+'"':l}(),d=["tableblock","frame-"+e.$attr("frame","all"),"grid-"+e.$attr("grid","all")],p=[],f(f(n=e["$option?"]("autowidth"))?e["$attr?"]("width",l,!1)["$!"]():n)||(f(e["$attr?"]("tablepcwidth",100))?d["$<<"]("spread"):p["$<<"]("width: "+e.$attr("tablepcwidth")+"%;")),f(h=e.$role())&&d["$<<"](h),g=' class="'+r(d," ")+'"',f(e["$attr?"]("float"))&&p["$<<"]("float: "+e.$attr("float")+";"),v=function(){return f(p["$empty?"]())?l:' style="'+r(p," ")+'"'}(),c["$<<"]("<table"+u+g+v+">"),f(e["$title?"]())&&c["$<<"]('<caption class="title">'+e.$captioned_title()+"</caption>"),f(i(e.$attr("rowcount"),0))&&(m=s.void_element_slash,c["$<<"]("<colgroup>"),f(e["$option?"]("autowidth"))?(y="<col"+m+">",_(e.$columns().$size(),"times",[],(a=function(){a.$$s||this;return c["$<<"](y)},a.$$s=s,a.$$arity=0,a))):_(e.$columns(),"each",[],($=function(t){$.$$s||this;return null==t&&(t=l),c["$<<"]('<col style="width: '+t.$attr("colpcwidth")+'%;"'+m+">")},$.$$s=s,$.$$arity=1,$)),c["$<<"]("</colgroup>"),_(e.$rows().$by_section(),"each",[],(o=function(t,n){var i,a=o.$$s||this;return null==t&&(t=l),null==n&&(n=l),f(n["$empty?"]())?l:(c["$<<"]("<t"+t+">"),_(n,"each",[],(i=function(n){var a,$=i.$$s||this;return null==n&&(n=l),c["$<<"]("<tr>"),_(n,"each",[],(a=function(n){var i,$=(a.$$s||this,l),o=l,s=l,u=l,_=l,d=l,p=l;return null==n&&(n=l),t["$=="]("head")?$=n.$text():(o=n.$style(),$="asciidoc"["$==="](o)?"<div>"+n.$content()+"</div>":"verse"["$==="](o)?'<div class="verse">'+n.$text()+"</div>":"literal"["$==="](o)?'<div class="literal"><pre>'+n.$text()+"</pre></div>":function(){return f(($=n.$content())["$empty?"]())?"":'<p class="tableblock">'+r($,'</p>\n<p class="tableblock">')+"</p>"}()),s=function(){return f(f(i=t["$=="]("head"))?i:n.$style()["$=="]("header"))?"th":"td"}(),u=' class="tableblock halign-'+n.$attr("halign")+" valign-"+n.$attr("valign")+'"',_=function(){return f(n.$colspan())?' colspan="'+n.$colspan()+'"':l}(),d=function(){return f(n.$rowspan())?' rowspan="'+n.$rowspan()+'"':l}(),p=function(){return f(e.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+e.$document().$attr("cellbgcolor")+';"':l}(),c["$<<"]("<"+s+u+_+d+p+">"+$+"</"+s+">")},a.$$s=$,a.$$arity=1,a)),c["$<<"]("</tr>")},i.$$s=a,i.$$arity=1,i)),c["$<<"]("</t"+t+">"))},o.$$s=s,o.$$arity=2,o))),c["$<<"]("</table>"),r(c,t.const_get_relative($t,"EOL"))},j.$$arity=1),t.defn(it,"$toc",U=function(t){var e,n,r=this,i=l,a=l,$=l,o=l,s=l,c=l;return f(f(e=f(n=(i=t.$document())["$attr?"]("toc-placement","macro"))?i["$sections?"]():n)?i["$attr?"]("toc"):e)?(f(t.$id())?(a=' id="'+t.$id()+'"',$=' id="'+t.$id()+'title"'):(a=' id="toc"',$=' id="toctitle"'),o=function(){return f(t["$title?"]())?t.$title():i.$attr("toc-title")}(),s=function(){return f(t["$attr?"]("levels"))?t.$attr("levels").$to_i():l}(),c=function(){return f(t["$role?"]())?t.$role():i.$attr("toc-class","toc")}(),"<div"+a+' class="'+c+'">\n<div'+$+' class="title">'+o+"</div>\n"+r.$outline(i,d(["toclevels"],{toclevels:s}))+"\n</div>"):"<!-- toc disabled -->"},U.$$arity=1),t.defn(it,"$ulist",F=function(e){var n,i=this,a=l,$=l,o=l,s=l,c=l,u=l,d=l;return a=[],$=function(){return f(e.$id())?' id="'+e.$id()+'"':l}(),o=["ulist",e.$style(),e.$role()].$compact(),s=l,c=l,f(u=e["$option?"]("checklist"))?(o.$unshift(o.$shift(),"checklist"),d=' class="checklist"',f(e["$option?"]("interactive"))?f(i.xml_mode)?(s='<input type="checkbox" data-item-complete="1" checked="checked"/> ',c='<input type="checkbox" data-item-complete="0"/> '):(s='<input type="checkbox" data-item-complete="1" checked> ',c='<input type="checkbox" data-item-complete="0"> '):f(e.$document()["$attr?"]("icons","font"))?(s='<i class="fa fa-check-square-o"></i> ',c='<i class="fa fa-square-o"></i> '):(s="&#10003; ",c="&#10063; ")):d=function(){return f(e.$style())?' class="'+e.$style()+'"':l}(),a["$<<"]("<div"+$+' class="'+r(o," ")+'">'),f(e["$title?"]())&&a["$<<"]('<div class="title">'+e.$title()+"</div>"),a["$<<"]("<ul"+d+">"),_(e.$items(),"each",[],(n=function(t){var e;n.$$s||this;return null==t&&(t=l),a["$<<"]("<li>"),f(f(e=u)?t["$attr?"]("checkbox"):e)?a["$<<"]("<p>"+function(){return f(t["$attr?"]("checked"))?s:c}()+t.$text()+"</p>"):a["$<<"]("<p>"+t.$text()+"</p>"),f(t["$blocks?"]())&&a["$<<"](t.$content()),a["$<<"]("</li>")},n.$$s=i,n.$$arity=1,n)),a["$<<"]("</ul>"),a["$<<"]("</div>"),r(a,t.const_get_relative($t,"EOL"))},F.$$arity=1),t.defn(it,"$verse",H=function(t){var e,n=this,i=l,a=l,$=l,o=l,s=l,c=l,u=l,_=l,d=l;return i=function(){return f(t.$id())?' id="'+t.$id()+'"':l}(),a=["verseblock",t.$role()].$compact(),$=' class="'+r(a," ")+'"',o=function(){return f(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":l}(),s=function(){return f(t["$attr?"]("attribution"))?t.$attr("attribution"):l}(),c=function(){return f(t["$attr?"]("citetitle"))?t.$attr("citetitle"):l}(),f(f(e=s)?e:c)?(u=function(){return f(c)?"<cite>"+c+"</cite>":l}(),_=function(){return f(s)?"&#8212; "+s+function(){return f(c)?"<br"+n.void_element_slash+">\n":l}():l}(),d='\n<div class="attribution">\n'+_+u+"\n</div>"):d=l,"<div"+i+$+">"+o+'\n<pre class="content">'+t.$content()+"</pre>"+d+"\n</div>"},H.$$arity=1),t.defn(it,"$video",G=function(e){var n,i,a=this,$=l,o=l,s=l,c=l,u=l,_=l,d=l,p=l,h=l,g=l,v=l,m=l,y=l,b=l,k=l,w=l,x=l,E=l,O=l,A=l,S=l,R=l,M=l,T=l,I=l,q=l,C=l,N=l,z=l,P=l,L=l,D=l;return $=a.xml_mode,o=function(){return f(e.$id())?' id="'+e.$id()+'"':l}(),s=["videoblock",e.$role()].$compact(),c=' class="'+r(s," ")+'"',u=function(){return f(e["$title?"]())?'\n<div class="title">'+e.$captioned_title()+"</div>":l}(),_=function(){return f(e["$attr?"]("width"))?' width="'+e.$attr("width")+'"':l}(),d=function(){return f(e["$attr?"]("height"))?' height="'+e.$attr("height")+'"':l}(),function(){return p=e.$attr("poster"),"vimeo"["$==="](p)?(f((h=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(h=""+h+":"),g=function(){return f(e["$attr?"]("start",l,!1))?"#at="+e.$attr("start"):l}(),v="?",m=function(){return f(e["$option?"]("autoplay"))?""+v+"autoplay=1":l}(),f(m)&&(v="&amp;"),y=function(){return f(e["$option?"]("loop"))?""+v+"loop=1":l}(),"<div"+o+c+">"+u+'\n<div class="content">\n<iframe'+_+d+' src="'+h+"//player.vimeo.com/video/"+e.$attr("target")+g+m+y+'" frameborder="0"'+function(){return f(e["$option?"]("nofullscreen"))?l:a.$append_boolean_attribute("allowfullscreen",$)}()+"></iframe>\n</div>\n</div>"):"youtube"["$==="](p)?(f((h=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(h=""+h+":"),b=function(){return f(e["$option?"]("related"))?1:0}(),k=function(){return f(e["$attr?"]("start",l,!1))?"&amp;start="+e.$attr("start"):l}(),w=function(){return f(e["$attr?"]("end",l,!1))?"&amp;end="+e.$attr("end"):l}(),m=function(){return f(e["$option?"]("autoplay"))?"&amp;autoplay=1":l}(),y=function(){return f(e["$option?"]("loop"))?"&amp;loop=1":l}(),x=function(){return f(e["$option?"]("nocontrols"))?"&amp;controls=0":l}(),f(e["$option?"]("nofullscreen"))?(E="&amp;fs=0",O=l):(E=l,O=a.$append_boolean_attribute("allowfullscreen",$)),A=function(){return f(e["$option?"]("modest"))?"&amp;modestbranding=1":l}(),S=function(){return f(e["$attr?"]("theme",l,!1))?"&amp;theme="+e.$attr("theme"):l}(),R=function(){return f(e["$attr?"]("lang"))?"&amp;hl="+e.$attr("lang"):l}(),i=e.$attr("target").$split("/",2),n=t.to_ary(i),M=null==n[0]?l:n[0],T=null==n[1]?l:n[1],i,f(T=f(n=T)?n:e.$attr("list",l,!1))?I="&amp;list="+T:(i=M.$split(",",2),n=t.to_ary(i),M=null==n[0]?l:n[0],q=null==n[1]?l:n[1],i,I=f(q=f(n=q)?n:e.$attr("playlist",l,!1))?"&amp;playlist="+q:function(){return f(y)?"&amp;playlist="+M:l}()),"<div"+o+c+">"+u+'\n<div class="content">\n<iframe'+_+d+' src="'+h+"//www.youtube.com/embed/"+M+"?rel="+b+k+w+m+y+x+I+E+A+S+R+'" frameborder="0"'+O+"></iframe>\n</div>\n</div>"):(C=function(){return f((N=e.$attr("poster",l,!1))["$nil_or_empty?"]())?l:' poster="'+e.$media_uri(N)+'"'}(),z=function(){return f((N=e.$attr("preload",l,!1))["$nil_or_empty?"]())?l:' preload="'+N+'"'}(),P=e.$attr("start",l,!1),L=e.$attr("end",l,!1),D=function(){return f(f(n=P)?n:L)?"#t="+P+function(){return f(L)?",":l}()+L:l}(),"<div"+o+c+">"+u+'\n<div class="content">\n<video src="'+e.$media_uri(e.$attr("target"))+D+'"'+_+d+C+function(){return f(e["$option?"]("autoplay"))?a.$append_boolean_attribute("autoplay",$):l}()+function(){return f(e["$option?"]("nocontrols"))?l:a.$append_boolean_attribute("controls",$)}()+function(){return f(e["$option?"]("loop"))?a.$append_boolean_attribute("loop",$):l}()+z+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")}()},G.$$arity=1),t.defn(it,"$inline_anchor",Y=function(t){var e,n,r=this,i=l,a=l,$=l,o=l,s=l,c=l,u=l;return i=t.$target(),function(){return a=t.$type(),"xref"["$==="](a)?($=f(e=t.$attributes()["$[]"]("refid"))?e:i,o=f(e=f(n=t.$text())?n:t.$document().$catalog()["$[]"]("ids")["$[]"]($))?e:"["+$+"]",'<a href="'+i+'">'+o+"</a>"):"ref"["$==="](a)?'<a id="'+i+'"></a>':"link"["$==="](a)?(s=[],f(t.$id())&&s["$<<"](' id="'+t.$id()+'"'),f(c=t.$role())&&s["$<<"](' class="'+c+'"'),f(t["$attr?"]("title",l,!1))&&s["$<<"](' title="'+t.$attr("title")+'"'),f(t["$attr?"]("window",l,!1))&&s["$<<"](' target="'+(u=t.$attr("window"))+'"'+function(){return f(f(e=u["$=="]("_blank"))?e:t["$option?"]("noopener"))?' rel="noopener"':""}()),'<a href="'+i+'"'+s.$join()+">"+t.$text()+"</a>"):"bibref"["$==="](a)?'<a id="'+i+'"></a>'+t.$text():r.$warn("asciidoctor: WARNING: unknown anchor type: "+t.$type().$inspect())}()},Y.$$arity=1),t.defn(it,"$inline_break",W=function(t){var e=this;return""+t.$text()+"<br"+e.void_element_slash+">"},W.$$arity=1),t.defn(it,"$inline_button",K=function(t){return'<b class="button">'+t.$text()+"</b>"},K.$$arity=1),t.defn(it,"$inline_callout",X=function(t){var e=this,n=l;return f(t.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+t.$text()+'"></i><b>('+t.$text()+")</b>":f(t.$document()["$attr?"]("icons"))?(n=t.$icon_uri("callouts/"+t.$text()),'<img src="'+n+'" alt="'+t.$text()+'"'+e.void_element_slash+">"):'<b class="conum">('+t.$text()+")</b>"},X.$$arity=1),t.defn(it,"$inline_footnote",V=function(t){var e=l,n=l;return f(e=t.$attr("index",l,!1))?t.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</sup>":(n=function(){return f(t.$id())?' id="_footnote_'+t.$id()+'"':l}(),'<sup class="footnote"'+n+'>[<a id="_footnoteref_'+e+'" class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</sup>"):t.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+t.$text()+"]</sup>":l},V.$$arity=1),t.defn(it,"$inline_image",J=function(e){var n,r,i,a,o,s,c=this,u=l,p=l,h=l,g=l,v=l,m=l,y=l,b=l,k=l,w=l,x=l,E=l,O=l;return f((n=(u=e.$type())["$=="]("icon"))?e.$document()["$attr?"]("icons","font"):(u=e.$type())["$=="]("icon"))?(p="fa fa-"+e.$target(),_(d(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],(r=function(t,n){r.$$s||this;return null==t&&(t=l),null==n&&(n=l),f(e["$attr?"](t))?p=""+p+" "+n+e.$attr(t):l},r.$$s=c,r.$$arity=2,r)),h=function(){return f(e["$attr?"]("title"))?' title="'+e.$attr("title")+'"':l}(),g='<i class="'+p+'"'+h+"></i>"):f((n=u["$=="]("icon"))?e.$document()["$attr?"]("icons")["$!"]():u["$=="]("icon"))?g="["+e.$attr("alt")+"]":(v=e.$target(),m=_(["width","height","title"],"map",[],(i=function(t){i.$$s||this;return null==t&&(t=l),f(e["$attr?"](t))?" "+t+'="'+e.$attr(t)+'"':l},i.$$s=c,i.$$arity=1,i)).$join(),f(f(n=f(a=f(o=u["$!="]("icon"))?f(s=e["$attr?"]("format","svg",!1))?s:v["$include?"](".svg"):o)?$(e.$document().$safe(),t.const_get_qualified(t.const_get_relative($t,"SafeMode"),"SECURE")):a)?f(a=y=e["$option?"]("inline"))?a:b=e["$option?"]("interactive"):n)&&(f(y)?g=f(n=c.$read_svg_contents(e,v))?n:'<span class="alt">'+e.$attr("alt")+"</span>":f(b)&&(k=function(){return f(e["$attr?"]("fallback"))?'<img src="'+e.$image_uri(e.$attr("fallback"))+'" alt="'+e.$attr("alt")+'"'+m+c.void_element_slash+">":'<span class="alt">'+e.$attr("alt")+"</span>"}(),g='<object type="image/svg+xml" data="'+e.$image_uri(v)+'"'+m+">"+k+"</object>")),g=f(n=g)?n:'<img src="'+function(){return u["$=="]("icon")?e.$icon_uri(v):e.$image_uri(v)}()+'" alt="'+e.$attr("alt")+'"'+m+c.void_element_slash+">"),f(e["$attr?"]("link"))&&(f(e["$attr?"]("window"))&&(w=' target="'+(x=e.$attr("window"))+'"'+function(){return f(f(n=x["$=="]("_blank"))?n:e["$option?"]("noopener"))?' rel="noopener"':""}()),g='<a class="image" href="'+e.$attr("link")+'"'+w+">"+g+"</a>"),p=function(){return f(E=e.$role())?""+u+" "+E:u}(),O=function(){return f(e["$attr?"]("float"))?' style="float: '+e.$attr("float")+'"':l}(),'<span class="'+p+'"'+O+">"+g+"</span>"},J.$$arity=1),t.defn(it,"$inline_indexterm",Z=function(t){return t.$type()["$=="]("visible")?t.$text():""},Z.$$arity=1),t.defn(it,"$inline_kbd",Q=function(t){var e=l;return(e=t.$attr("keys")).$size()["$=="](1)?"<kbd>"+e["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+r(e,"</kbd>+<kbd>")+"</kbd></span>"},Q.$$arity=1),t.defn(it,"$inline_menu",tt=function(t){var e=l,n=l,i=l,a=l,$=l;return e=function(){return f(t.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> '}(),n="</b>"+e+'<b class="submenu">',i=t.$attr("menu"),f((a=t.$attr("submenus"))["$empty?"]())?f($=t.$attr("menuitem",l,!1))?'<span class="menuseq"><b class="menu">'+i+"</b>"+e+'<b class="menuitem">'+$+"</b></span>":'<b class="menuref">'+i+"</b>":'<span class="menuseq"><b class="menu">'+i+"</b>"+e+'<b class="submenu">'+r(a,n)+"</b>"+e+'<b class="menuitem">'+t.$attr("menuitem")+"</b></span>"},tt.$$arity=1),t.defn(it,"$inline_quoted",et=function(e){var n,r,i=l,a=l,$=l,o=l;return r=t.const_get_relative($t,"QUOTE_TAGS")["$[]"](e.$type()),n=t.to_ary(r),i=null==n[0]?l:n[0],a=null==n[1]?l:n[1],$=null==n[2]?l:n[2],r,o=f(e.$role())?f($)?""+i.$chop()+' class="'+e.$role()+'">'+e.$text()+a:'<span class="'+e.$role()+'">'+i+e.$text()+a+"</span>":""+i+e.$text()+a,f(e.$id())?'<a id="'+e.$id()+'"></a>'+o:o},et.$$arity=1),t.defn(it,"$append_boolean_attribute",nt=function(t,e){return f(e)?" "+t+'="'+t+'"':" "+t},nt.$$arity=2),t.defn(it,"$read_svg_contents",rt=function(e,n){var r,i=this,a=l,$=l,o=l;return f(a=e.$read_contents(n,d(["start","normalize","label"],{start:e.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(f(a["$start_with?"]("<svg"))||(a=a.$sub(t.const_get_relative($t,"SvgPreambleRx"),"")),$=o=l,_(["width","height"],"each",[],(r=function(n){r.$$s||this;return null==n&&(n=l),f(e["$attr?"](n))?(f(o)||(o=($=a.$match(t.const_get_relative($t,"SvgStartTagRx"))["$[]"](0)).$gsub(t.const_get_relative($t,"DimensionAttributeRx"),"")),o=""+o.$chop()+" "+n+'="'+e.$attr(n)+'px">'):l},r.$$s=i,r.$$arity=1,r)),f(o)&&(a=""+o+a["$[]"](t.Range.$new($.$length(),-1,!1)))),a},rt.$$arity=2),l&&"read_svg_contents"}(t.const_get_relative(m,"Converter"),t.const_get_qualified(t.const_get_relative(m,"Converter"),"BuiltIn"),m)}(s[0],s)},Opal.modules["asciidoctor/extensions"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var a=(t.top,[]),$=t.nil,o=(t.breaker,t.slice,t.module),s=t.klass,l=t.truthy,c=t.hash2,u=t.send,_=t.hash;return t.add_stubs(["$[]=","$config","$-","$nil_or_empty?","$name","$grep","$constants","$include","$const_get","$extend","$attr_reader","$merge","$class","$update","$raise","$document","$delete","$new","$[]","$fetch","$attr?","$title=","$==","$key?","$attributes","$generate_id","$title","$id=","$create_block","$===","$has_more_lines?","$next_block","$dup","$<<","$each","$define_method","$unshift","$shift","$send","$empty?","$size","$call","$option","$flatten","$>","$respond_to?","$include?","$to_s","$split","$to_i","$compact","$inspect","$attr_accessor","$to_set","$!","$resolve_regexp","$match?","$method","$register","$+","$values","$groups","$arity","$instance_exec","$to_proc","$activate","$add_document_processor","$any?","$select","$add_syntax_processor","$to_sym","$private","$tr","$join","$map","$capitalize","$instance_variable_get","$instance_variable_set","$resolve_args","$freeze","$process_block_given?","$source_location","$resolve_class","$<","$update_config","$push","$as_symbol","$name=","$pop","$-@","$next_auto_id","$generate_name","$class_for_name","$const_defined?"]),function(a,d){var f,p=f=o(a,"Asciidoctor"),h=(p.$$proto,[p].concat(d));!function(a,d){var f,p=f=o(a,"Extensions"),h=(p.$$proto,[p].concat(d));!function(n,r,i){function a(){}var o,_,d,f,p,h,g,v,m,y=a=s(n,r,"Processor",a),b=y.$$proto,k=[y].concat(i);return b.config=$,function(n,r){var i,a,o,s=(n.$$proto,[n].concat(r));return t.defn(n,"$config",i=function(){var t,e=this;return null==e.config&&(e.config=$),e.config=l(t=e.config)?t:c([],{})},i.$$arity=0),t.defn(n,"$option",a=function(n,r){var i=this,a=$;return a=[n,r],u(i.$config(),"[]=",t.to_a(a)),a[e(a.length,1)]},a.$$arity=2),t.defn(n,"$use_dsl",o=function(){var e=this;return l(e.$name()["$nil_or_empty?"]())?l((t.Module.$$nesting=s,e.$constants()).$grep("DSL"))?e.$include(e.$const_get("DSL")):$:l((t.Module.$$nesting=s,e.$constants()).$grep("DSL"))?e.$extend(e.$const_get("DSL")):$},o.$$arity=0),t.alias(n,"extend_dsl","use_dsl"),t.alias(n,"include_dsl","use_dsl")}(t.get_singleton_class(y),k),y.$attr_reader("config"),t.defn(y,"$initialize",o=function(t){var e=this;return null==t&&(t=c([],{})),e.config=e.$class().$config().$merge(t)},o.$$arity=-1),t.defn(y,"$update_config",_=function(t){var e=this;return e.config.$update(t)},_.$$arity=1),t.defn(y,"$process",d=function(e){var n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];return r.$raise(t.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::Processor subclass must implement #process method")},d.$$arity=-1),t.defn(y,"$create_section",f=function(n,r,i,a){var o,s=$,_=$,d=$,f=$;return null==a&&(a=c([],{})),s=n.$document(),_=i.$delete("id"),d=t.const_get_relative(k,"Section").$new(n,a["$[]"]("level"),a.$fetch("numbered",s["$attr?"]("sectnums")),c(["attributes"],{attributes:i}).$merge(a)),f=[r],u(d,"title=",t.to_a(f)),f[e(f.length,1)],_["$=="](!1)||(f=[(f=["id",l(o=_)?o:function(){return l(s.$attributes()["$key?"]("sectids"))?t.const_get_relative(k,"Section").$generate_id(d.$title(),s):$}()],u(d.$attributes(),"[]=",t.to_a(f)),f[e(f.length,1)])],u(d,"id=",t.to_a(f)),f[e(f.length,1)]),d},f.$$arity=-4),t.defn(y,"$create_block",p=function(e,n,r,i,a){return null==a&&(a=c([],{})),t.const_get_relative(k,"Block").$new(e,n,c(["source","attributes"],{source:r,attributes:i}).$merge(a))},p.$$arity=-5),t.defn(y,"$create_image_block",h=function(t,e,n){var r=this;return null==n&&(n=c([],{})),r.$create_block(t,"image",$,e,n)},h.$$arity=-3),t.defn(y,"$create_inline",g=function(e,n,r,i){return null==i&&(i=c([],{})),t.const_get_relative(k,"Inline").$new(e,n,r,i)},g.$$arity=-4),t.defn(y,"$parse_content",v=function(e,n,r){var i=$,a=$;for(null==r&&(r=$),i=function(){return l(t.const_get_relative(k,"Reader")["$==="](n))?n:t.const_get_relative(k,"Reader").$new(n)}();l(i["$has_more_lines?"]());)a=t.const_get_relative(k,"Parser").$next_block(i,e,function(){return l(r)?r.$dup():c([],{})}()),l(a)&&e["$<<"](a);return e},v.$$arity=-3),u([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],(m=function(e,n,r){var i,a=m.$$s||this;return null==e&&(e=$),null==n&&(n=$),null==r&&(r=$),u(a,"define_method",[e],(i=function(e){var a,$=i.$$s||this,o=arguments.length,s=o-0;s<0&&(s=0),a=new Array(s);for(var l=0;l<o;l++)a[l-0]=arguments[l];return a.$unshift(a.$shift(),r),u($,"send",[n].concat(t.to_a(a)))},i.$$s=a,i.$$arity=-1,i))},m.$$s=y,m.$$arity=3,m))}(h[0],null,h),function(n,r){var i,a,s,c,_=i=o(n,"ProcessorDsl");_.$$proto,[_].concat(r);t.defn(_,"$option",a=function(n,r){var i=this,a=$;return a=[n,r],u(i.$config(),"[]=",t.to_a(a)),a[e(a.length,1)]},a.$$arity=2),t.defn(_,"$process",s=function(e){var n,r,i=this,a=s.$$p,o=a||$;null==i.process_block&&(i.process_block=$);var c=arguments.length,_=c-0;_<0&&(_=0),r=new Array(_);for(var d=0;d<c;d++)r[d-0]=arguments[d];return a&&(s.$$p=null),o!==$?(l(r["$empty?"]())||i.$raise(t.const_get_qualified("::","ArgumentError"),"wrong number of arguments (given "+r.$size()+", expected 0)"),i.process_block=o):l((n=i.process_block,null!=n&&n!==$?"instance-variable":$))?u(i.process_block,"call",t.to_a(r)):i.$raise(t.const_get_qualified("::","NotImplementedError"))},s.$$arity=-1),t.defn(_,"$process_block_given?",c=function(){var t,e=this;return t=e.process_block,null!=t&&t!==$?"instance-variable":$},c.$$arity=0)}(h[0],h),function(r,i){var a,s,_,d,f,p,h=a=o(r,"SyntaxDsl"),g=(h.$$proto,[h].concat(i));h.$include(t.const_get_relative(g,"ProcessorDsl")),t.defn(h,"$named",s=function(e){var n=this;return l(t.const_get_relative(g,"Processor")["$==="](n))?n.name=e:n.$option("name",e)},s.$$arity=1),t.alias(h,"match_name","named"),t.defn(h,"$content_model",_=function(t){var e=this;return e.$option("content_model",t)},_.$$arity=1),t.alias(h,"parse_content_as","content_model"),t.alias(h,"parses_content_as","content_model"),t.defn(h,"$positional_attrs",d=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];return n.$option("pos_attrs",e.$flatten())},d.$$arity=-1),t.alias(h,"name_attributes","positional_attrs"),t.alias(h,"name_positional_attributes","positional_attrs"),t.defn(h,"$default_attrs",f=function(t){var e=this;return e.$option("default_attrs",t)},f.$$arity=1),t.defn(h,"$resolves_attributes",p=function(r){var i,a,o,s,_=this,d=$,f=$,p=$,h=arguments.length,g=h-0;g<0&&(g=0),s=new Array(g);for(var v=0;v<h;v++)s[v-0]=arguments[v];return l(n(s.$size(),1))||l((s=s.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(s=[s]),function(){return d=s,(!0)["$==="](d)?(_.$option("pos_attrs",[]),_.$option("default_attrs",c([],{}))):t.const_get_qualified("::","Array")["$==="](d)?(i=[[],c([],{})],f=i[0],p=i[1],i,u(s,"each",[],(a=function(n){var r,i,o=(a.$$s||this,$),s=$,c=$,_=$;return null==n&&(n=$),l((n=n.$to_s())["$include?"]("="))?(i=n.$split("=",2),r=t.to_ary(i),o=null==r[0]?$:r[0],s=null==r[1]?$:r[1],i,l(o["$include?"](":"))&&(i=o.$split(":",2),r=t.to_ary(i),c=null==r[0]?$:r[0],o=null==r[1]?$:r[1],i,c=function(){return c["$=="]("@")?f.$size():c.$to_i()}(),_=[c,o],u(f,"[]=",t.to_a(_)),_[e(_.length,1)]),_=[o,s],u(p,"[]=",t.to_a(_)),_[e(_.length,1)]):l(n["$include?"](":"))?(i=n.$split(":",2),r=t.to_ary(i),c=null==r[0]?$:r[0],o=null==r[1]?$:r[1],i,c=function(){return c["$=="]("@")?f.$size():c.$to_i()}(),_=[c,o],u(f,"[]=",t.to_a(_)),_[e(_.length,1)]):f["$<<"](n)},a.$$s=_,a.$$arity=1,a)),_.$option("pos_attrs",f.$compact()),_.$option("default_attrs",p)):t.const_get_qualified("::","Hash")["$==="](d)?(i=[[],c([],{})],f=i[0],p=i[1],i,u(s,"each",[],(o=function(n,r){var i,a,s=(o.$$s||this,$),c=$,_=$;return null==n&&(n=$),null==r&&(r=$),l((s=n.$to_s())["$include?"](":"))&&(a=s.$split(":",2),i=t.to_ary(a),c=null==i[0]?$:i[0],s=null==i[1]?$:i[1],a,c=function(){return c["$=="]("@")?f.$size():c.$to_i()}(),_=[c,s],u(f,"[]=",t.to_a(_)),_[e(_.length,1)]),l(r)?(_=[s,r],u(p,"[]=",t.to_a(_)),_[e(_.length,1)]):$},o.$$s=_,o.$$arity=2,o)),_.$option("pos_attrs",f.$compact()),_.$option("default_attrs",p)):_.$raise(t.const_get_qualified("::","ArgumentError"),"unsupported attributes specification for macro: "+s.$inspect())}()},p.$$arity=-1),t.alias(h,"resolve_attributes","resolves_attributes")}(h[0],h),function(e,n,r){function i(){}var a,o=i=s(e,n,"Preprocessor",i);o.$$proto,[o].concat(r);return t.defn(o,"$process",a=function(e,n){var r=this;return r.$raise(t.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::Preprocessor subclass must implement #process method")},a.$$arity=2),$&&"process"}(h[0],t.const_get_relative(h,"Processor"),h),t.const_set(t.const_get_relative(h,"Preprocessor"),"DSL",t.const_get_relative(h,"ProcessorDsl")),function(e,n,r){function i(){}var a,o=i=s(e,n,"TreeProcessor",i);o.$$proto,[o].concat(r);return t.defn(o,"$process",a=function(e){var n=this;return n.$raise(t.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::TreeProcessor subclass must implement #process method")},a.$$arity=1),$&&"process"}(h[0],t.const_get_relative(h,"Processor"),h),t.const_set(t.const_get_relative(h,"TreeProcessor"),"DSL",t.const_get_relative(h,"ProcessorDsl")),t.const_set(h[0],"Treeprocessor",t.const_get_relative(h,"TreeProcessor")),function(e,n,r){function i(){}var a,o=i=s(e,n,"Postprocessor",i);o.$$proto,[o].concat(r);return t.defn(o,"$process",a=function(e,n){var r=this;return r.$raise(t.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::Postprocessor subclass must implement #process method")},a.$$arity=2),$&&"process"}(h[0],t.const_get_relative(h,"Processor"),h),t.const_set(t.const_get_relative(h,"Postprocessor"),"DSL",t.const_get_relative(h,"ProcessorDsl")),function(e,n,r){function i(){}var a,o,l=i=s(e,n,"IncludeProcessor",i);l.$$proto,[l].concat(r);return t.defn(l,"$process",a=function(e,n,r,i){var a=this;return a.$raise(t.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::IncludeProcessor subclass must implement #process method")},a.$$arity=4),t.defn(l,"$handles?",o=function(t){return!0},o.$$arity=1),$&&"handles?"}(h[0],t.const_get_relative(h,"Processor"),h),function(e,n){var r,i,a=r=o(e,"IncludeProcessorDsl"),s=(a.$$proto,[a].concat(n));a.$include(t.const_get_relative(s,"ProcessorDsl")),t.defn(a,"$handles?",i=function(e){var n,r,a=this,o=i.$$p,s=o||$;null==a.handles_block&&(a.handles_block=$);var c=arguments.length,u=c-0;u<0&&(u=0),r=new Array(u);for(var _=0;_<c;_++)r[_-0]=arguments[_];return o&&(i.$$p=null),s!==$?(l(r["$empty?"]())||a.$raise(t.const_get_qualified("::","ArgumentError"),"wrong number of arguments (given "+r.$size()+", expected 0)"),a.handles_block=s):!l((n=a.handles_block,null!=n&&n!==$?"instance-variable":$))||a.handles_block.$call(r["$[]"](0))},i.$$arity=-1)}(h[0],h),t.const_set(t.const_get_relative(h,"IncludeProcessor"),"DSL",t.const_get_relative(h,"IncludeProcessorDsl")),function(n,r,i){function a(){}var o,_,d=a=s(n,r,"DocinfoProcessor",a),f=d.$$proto;[d].concat(i);return f.config=$,d.$attr_accessor("location"),t.defn(d,"$initialize",o=function(n){var r,i=this,a=o.$$p,s=$;return null==n&&(n=c([],{})),a&&(o.$$p=null),u(i,t.find_super_dispatcher(i,"initialize",o,!1),[n],null),l(r=i.config["$[]"]("location"))?r:(s=["location","head"],u(i.config,"[]=",t.to_a(s)),s[e(s.length,1)])},o.$$arity=-1),t.defn(d,"$process",_=function(e){var n=this;return n.$raise(t.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::DocinfoProcessor subclass must implement #process method")},_.$$arity=1),$&&"process"}(h[0],t.const_get_relative(h,"Processor"),h),function(e,n){var r,i,a=r=o(e,"DocinfoProcessorDsl"),$=(a.$$proto,[a].concat(n));a.$include(t.const_get_relative($,"ProcessorDsl")),t.defn(a,"$at_location",i=function(t){var e=this;return e.$option("location",t)},i.$$arity=1)}(h[0],h),t.const_set(t.const_get_relative(h,"DocinfoProcessor"),"DSL",t.const_get_relative(h,"DocinfoProcessorDsl")),function(n,r,i){function a(){}var o,_,d=a=s(n,r,"BlockProcessor",a),f=d.$$proto;[d].concat(i);return f.config=$,d.$attr_accessor("name"),t.defn(d,"$initialize",o=function(n,r){var i,a=this,s=o.$$p,_=$,d=$;return null==n&&(n=$),null==r&&(r=c([],{})),s&&(o.$$p=null),u(a,t.find_super_dispatcher(a,"initialize",o,!1),[r],null),a.name=l(i=n)?i:a.config["$[]"]("name"),_=a.config["$[]"]("contexts"),
t.const_get_qualified("::","NilClass")["$==="](_)?l(i=a.config["$[]"]("contexts"))?i:(d=["contexts",["open","paragraph"].$to_set()],u(a.config,"[]=",t.to_a(d)),d[e(d.length,1)]):t.const_get_qualified("::","Symbol")["$==="](_)?(d=["contexts",[a.config["$[]"]("contexts")].$to_set()],u(a.config,"[]=",t.to_a(d)),d[e(d.length,1)]):(d=["contexts",a.config["$[]"]("contexts").$to_set()],u(a.config,"[]=",t.to_a(d)),d[e(d.length,1)]),l(i=a.config["$[]"]("content_model"))?i:(d=["content_model","compound"],u(a.config,"[]=",t.to_a(d)),d[e(d.length,1)])},o.$$arity=-1),t.defn(d,"$process",_=function(e,n,r){var i=this;return i.$raise(t.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::BlockProcessor subclass must implement #process method")},_.$$arity=3),$&&"process"}(h[0],t.const_get_relative(h,"Processor"),h),function(e,n){var r,i,a=r=o(e,"BlockProcessorDsl"),$=(a.$$proto,[a].concat(n));a.$include(t.const_get_relative($,"SyntaxDsl")),t.defn(a,"$contexts",i=function(t){var e,n=this,r=arguments.length,i=r-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<r;a++)e[a-0]=arguments[a];return n.$option("contexts",e.$flatten())},i.$$arity=-1),t.alias(a,"on_contexts","contexts"),t.alias(a,"on_context","contexts"),t.alias(a,"bound_to","contexts")}(h[0],h),t.const_set(t.const_get_relative(h,"BlockProcessor"),"DSL",t.const_get_relative(h,"BlockProcessorDsl")),function(n,r,i){function a(){}var o,_,d=a=s(n,r,"MacroProcessor",a),f=d.$$proto;[d].concat(i);return f.config=$,d.$attr_accessor("name"),t.defn(d,"$initialize",o=function(n,r){var i,a=this,s=o.$$p,_=$;return null==n&&(n=$),null==r&&(r=c([],{})),s&&(o.$$p=null),u(a,t.find_super_dispatcher(a,"initialize",o,!1),[r],null),a.name=l(i=n)?i:a.config["$[]"]("name"),l(i=a.config["$[]"]("content_model"))?i:(_=["content_model","attributes"],u(a.config,"[]=",t.to_a(_)),_[e(_.length,1)])},o.$$arity=-1),t.defn(d,"$process",_=function(e,n,r){var i=this;return i.$raise(t.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::MacroProcessor subclass must implement #process method")},_.$$arity=3),$&&"process"}(h[0],t.const_get_relative(h,"Processor"),h),function(e,n){var r,i,a=r=o(e,"MacroProcessorDsl"),s=(a.$$proto,[a].concat(n));a.$include(t.const_get_relative(s,"SyntaxDsl")),t.defn(a,"$resolves_attributes",i=function(e){var n,r,a=this,o=i.$$p,s=$,c=$,_=$,d=arguments.length,f=d-0;f<0&&(f=0),r=new Array(f);for(var p=0;p<d;p++)r[p-0]=arguments[p];for(o&&(i.$$p=null),c=0,_=arguments.length,s=new Array(_);c<_;c++)s[c]=arguments[c];return l((n=r.$size()["$=="](1))?r["$[]"](0)["$!"]():r.$size()["$=="](1))?(a.$option("content_model","text"),$):(u(a,t.find_super_dispatcher(a,"resolves_attributes",i,!1),s,o),a.$option("content_model","attributes"))},i.$$arity=-1),t.alias(a,"resolve_attributes","resolves_attributes")}(h[0],h),function(t,e,n){function r(){}var i=r=s(t,e,"BlockMacroProcessor",r);i.$$proto,[i].concat(n);return $}(h[0],t.const_get_relative(h,"MacroProcessor"),h),t.const_set(t.const_get_relative(h,"BlockMacroProcessor"),"DSL",t.const_get_relative(h,"MacroProcessorDsl")),function(n,r,i){function a(){}var o,_,d=a=s(n,r,"InlineMacroProcessor",a),f=d.$$proto,p=[d].concat(i);return f.config=f.name=$,t.class_variable_set(a,"@@rx_cache",c([],{})),t.defn(d,"$regexp",o=function(){var n,r=this,i=$;return l(n=r.config["$[]"]("regexp"))?n:(i=["regexp",r.$resolve_regexp(r.name.$to_s(),r.config["$[]"]("format"))],u(r.config,"[]=",t.to_a(i)),i[e(i.length,1)])},o.$$arity=0),t.defn(d,"$resolve_regexp",_=function(n,r){var i,o,s=this,c=$;return l(t.const_get_relative(p,"MacroNameRx")["$match?"](n))||s.$raise(t.const_get_qualified("::","ArgumentError"),"invalid name for inline macro: "+n),l(i=(null==(o=a.$$cvars["@@rx_cache"])?$:o)["$[]"]([n,r]))?i:(c=[[n,r],new RegExp("\\\\?"+n+":"+function(){return r["$=="]("short")?"(){0}":"(\\S+?)"}()+"\\[(|.*?[^\\\\])\\]")],u(null==(o=a.$$cvars["@@rx_cache"])?$:o,"[]=",t.to_a(c)),c[e(c.length,1)])},_.$$arity=2),$&&"resolve_regexp"}(h[0],t.const_get_relative(h,"MacroProcessor"),h),function(e,n){var r,i,a,$=r=o(e,"InlineMacroProcessorDsl"),s=($.$$proto,[$].concat(n));$.$include(t.const_get_relative(s,"MacroProcessorDsl")),t.defn($,"$with_format",i=function(t){var e=this;return e.$option("format",t)},i.$$arity=1),t.alias($,"using_format","with_format"),t.defn($,"$matches",a=function(t){var e=this;return e.$option("regexp",t)},a.$$arity=1),t.alias($,"match","matches"),t.alias($,"matching","matches")}(h[0],h),t.const_set(t.const_get_relative(h,"InlineMacroProcessor"),"DSL",t.const_get_relative(h,"InlineMacroProcessorDsl")),function(e,n,r){function i(){}var a,o=i=s(e,n,"Extension",i);o.$$proto,[o].concat(r);return o.$attr_reader("kind"),o.$attr_reader("config"),o.$attr_reader("instance"),t.defn(o,"$initialize",a=function(t,e,n){var r=this;return r.kind=t,r.instance=e,r.config=n},a.$$arity=3),$&&"initialize"}(h[0],null,h),function(e,n,r){function i(){}var a,o=i=s(e,n,"ProcessorExtension",i);o.$$proto,[o].concat(r);return o.$attr_reader("process_method"),t.defn(o,"$initialize",a=function(e,n,r){var i,o=this,s=a.$$p;return null==r&&(r=$),s&&(a.$$p=null),u(o,t.find_super_dispatcher(o,"initialize",a,!1),[e,n,n.$config()],null),o.process_method=l(i=r)?i:n.$method("process")},a.$$arity=-3),$&&"initialize"}(h[0],t.const_get_relative(h,"Extension"),h),function(e,n,r){function i(){}var a,o=i=s(e,n,"Group",i),l=(o.$$proto,[o].concat(r));return function(e,n){var r,i=(e.$$proto,[e].concat(n));return t.defn(e,"$register",r=function(e){var n=this;return null==e&&(e=$),t.const_get_relative(i,"Extensions").$register(e,n)},r.$$arity=-1),$&&"register"}(t.get_singleton_class(o),l),t.defn(o,"$activate",a=function(e){var n=this;return n.$raise(t.const_get_qualified("::","NotImplementedError"))},a.$$arity=1),$&&"activate"}(h[0],null,h),function(a,o,_){function d(){}var f,p,h,g,v,m,y,b,k,w,x,E,O,A,S,R,M,T,I,q,C,N,z,P,L,D,B,j,U,F,H,G,Y,W,K=d=s(a,o,"Registry",d),X=K.$$proto,V=[K].concat(_);return X.groups=X.preprocessor_extensions=X.tree_processor_extensions=X.postprocessor_extensions=X.include_processor_extensions=X.docinfo_processor_extensions=X.block_extensions=X.block_macro_extensions=X.inline_macro_extensions=$,K.$attr_reader("document"),K.$attr_reader("groups"),t.defn(K,"$initialize",f=function(t){var e=this;return null==t&&(t=c([],{})),e.groups=t,e.preprocessor_extensions=e.tree_processor_extensions=e.postprocessor_extensions=e.include_processor_extensions=e.docinfo_processor_extensions=$,e.block_extensions=e.block_macro_extensions=e.inline_macro_extensions=$,e.document=$},f.$$arity=-1),t.defn(K,"$activate",p=function(e){var n,i=this;return i.document=e,u(r(t.const_get_relative(V,"Extensions").$groups().$values(),i.groups.$values()),"each",[],(n=function(e){var r=n.$$s||this,i=$;return null==e&&(e=$),function(){return i=e,t.const_get_qualified("::","Proc")["$==="](i)?function(){return i=e.$arity(),(0)["$==="](i)||(-1)["$==="](i)?u(r,"instance_exec",[],e.$to_proc()):1["$==="](i)?e.$call(r):$}():t.const_get_qualified("::","Class")["$==="](i)?e.$new().$activate(r):e.$activate(r)}()},n.$$s=i,n.$$arity=1,n)),i},p.$$arity=1),t.defn(K,"$preprocessor",h=function(t){var e,n=this,r=h.$$p,i=r||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return r&&(h.$$p=null),u(n,"add_document_processor",["preprocessor",e],i.$to_proc())},h.$$arity=-1),t.defn(K,"$preprocessors?",g=function(){var t=this;return t.preprocessor_extensions["$!"]()["$!"]()},g.$$arity=0),t.defn(K,"$preprocessors",v=function(){var t=this;return t.preprocessor_extensions},v.$$arity=0),t.defn(K,"$tree_processor",m=function(t){var e,n=this,r=m.$$p,i=r||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return r&&(m.$$p=null),u(n,"add_document_processor",["tree_processor",e],i.$to_proc())},m.$$arity=-1),t.defn(K,"$tree_processors?",y=function(){var t=this;return t.tree_processor_extensions["$!"]()["$!"]()},y.$$arity=0),t.defn(K,"$tree_processors",b=function(){var t=this;return t.tree_processor_extensions},b.$$arity=0),t.alias(K,"treeprocessor","tree_processor"),t.alias(K,"treeprocessors?","tree_processors?"),t.alias(K,"treeprocessors","tree_processors"),t.defn(K,"$postprocessor",k=function(t){var e,n=this,r=k.$$p,i=r||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return r&&(k.$$p=null),u(n,"add_document_processor",["postprocessor",e],i.$to_proc())},k.$$arity=-1),t.defn(K,"$postprocessors?",w=function(){var t=this;return t.postprocessor_extensions["$!"]()["$!"]()},w.$$arity=0),t.defn(K,"$postprocessors",x=function(){var t=this;return t.postprocessor_extensions},x.$$arity=0),t.defn(K,"$include_processor",E=function(t){var e,n=this,r=E.$$p,i=r||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return r&&(E.$$p=null),u(n,"add_document_processor",["include_processor",e],i.$to_proc())},E.$$arity=-1),t.defn(K,"$include_processors?",O=function(){var t=this;return t.include_processor_extensions["$!"]()["$!"]()},O.$$arity=0),t.defn(K,"$include_processors",A=function(){var t=this;return t.include_processor_extensions},A.$$arity=0),t.defn(K,"$docinfo_processor",S=function(t){var e,n=this,r=S.$$p,i=r||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return r&&(S.$$p=null),u(n,"add_document_processor",["docinfo_processor",e],i.$to_proc())},S.$$arity=-1),t.defn(K,"$docinfo_processors?",R=function(t){var e,n=this;return null==t&&(t=$),!!l(n.docinfo_processor_extensions)&&(!l(t)||u(n.docinfo_processor_extensions,"any?",[],(e=function(n){e.$$s||this;return null==n&&(n=$),n.$config()["$[]"]("location")["$=="](t)},e.$$s=n,e.$$arity=1,e)))},R.$$arity=-1),t.defn(K,"$docinfo_processors",M=function(t){var e,n=this;return null==t&&(t=$),l(n.docinfo_processor_extensions)?l(t)?u(n.docinfo_processor_extensions,"select",[],(e=function(n){e.$$s||this;return null==n&&(n=$),n.$config()["$[]"]("location")["$=="](t)},e.$$s=n,e.$$arity=1,e)):n.docinfo_processor_extensions:$},M.$$arity=-1),t.defn(K,"$block",T=function(t){var e,n=this,r=T.$$p,i=r||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return r&&(T.$$p=null),u(n,"add_syntax_processor",["block",e],i.$to_proc())},T.$$arity=-1),t.defn(K,"$blocks?",I=function(){var t=this;return t.block_extensions["$!"]()["$!"]()},I.$$arity=0),t.defn(K,"$registered_for_block?",q=function(t,e){var n=this,r=$;return!!l(r=n.block_extensions["$[]"](t.$to_sym()))&&(!!l(r.$config()["$[]"]("contexts")["$include?"](e))&&r)},q.$$arity=2),t.defn(K,"$find_block_extension",C=function(t){var e=this;return e.block_extensions["$[]"](t.$to_sym())},C.$$arity=1),t.defn(K,"$block_macro",N=function(t){var e,n=this,r=N.$$p,i=r||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return r&&(N.$$p=null),u(n,"add_syntax_processor",["block_macro",e],i.$to_proc())},N.$$arity=-1),t.defn(K,"$block_macros?",z=function(){var t=this;return t.block_macro_extensions["$!"]()["$!"]()},z.$$arity=0),t.defn(K,"$registered_for_block_macro?",P=function(t){var e=this,n=$;return!!l(n=e.block_macro_extensions["$[]"](t.$to_sym()))&&n},P.$$arity=1),t.defn(K,"$find_block_macro_extension",L=function(t){var e=this;return e.block_macro_extensions["$[]"](t.$to_sym())},L.$$arity=1),t.defn(K,"$inline_macro",D=function(t){var e,n=this,r=D.$$p,i=r||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return r&&(D.$$p=null),u(n,"add_syntax_processor",["inline_macro",e],i.$to_proc())},D.$$arity=-1),t.defn(K,"$inline_macros?",B=function(){var t=this;return t.inline_macro_extensions["$!"]()["$!"]()},B.$$arity=0),t.defn(K,"$registered_for_inline_macro?",j=function(t){var e=this,n=$;return!!l(n=e.inline_macro_extensions["$[]"](t.$to_sym()))&&n},j.$$arity=1),t.defn(K,"$find_inline_macro_extension",U=function(t){var e=this;return e.inline_macro_extensions["$[]"](t.$to_sym())},U.$$arity=1),t.defn(K,"$inline_macros",F=function(){var t=this;return t.inline_macro_extensions.$values()},F.$$arity=0),K.$private(),t.defn(K,"$add_document_processor",H=function(e,n){var r,a,o,s,c=this,_=H.$$p,d=_||$,f=$,p=$,h=$,g=$,v=$,m=$,y=$,b=$,k=$,w=$;return _&&(H.$$p=null),f=e.$to_s().$tr("_"," "),p=u(f.$split(),"map",[],(r=function(t){r.$$s||this;return null==t&&(t=$),t.$capitalize()},r.$$s=c,r.$$arity=1,r)).$join().$to_sym(),h=t.const_get_relative(V,"Extensions").$const_get(p),g=function(){return l((a=t.const_get_qualified("::","AsciidoctorJ","skip_raise"))?"constant":$)?t.const_get_qualified(t.const_get_qualified("::","AsciidoctorJ"),"Extensions").$const_get(p):$}(),v=l(o=c.$instance_variable_get(("@"+e+"_extensions").$to_sym()))?o:c.$instance_variable_set(("@"+e+"_extensions").$to_sym(),[]),m=function(){return d!==$?(y=c.$resolve_args(n,1),b=h.$new(y),l(h.$constants().$grep("DSL"))&&b.$extend(h.$const_get("DSL")),u(b,"instance_exec",[],d.$to_proc()),b.$freeze(),l(b["$process_block_given?"]())||c.$raise(t.const_get_qualified("::","ArgumentError"),"No block specified to process "+f+" extension at "+d.$source_location()),t.const_get_relative(V,"ProcessorExtension").$new(e,b)):(s=c.$resolve_args(n,2),o=t.to_ary(s),b=null==o[0]?$:o[0],y=null==o[1]?$:o[1],s,l(k=t.const_get_relative(V,"Extensions").$resolve_class(b))?(l(l(o=i(k,h))?o:l(s=g)?i(k,g):s)||c.$raise(t.const_get_qualified("::","ArgumentError"),"Invalid type for "+f+" extension: "+b),w=k.$new(y),w.$freeze(),t.const_get_relative(V,"ProcessorExtension").$new(e,w)):l(l(o=h["$==="](b))?o:l(s=g)?g["$==="](b):s)?(b.$update_config(y),b.$freeze(),t.const_get_relative(V,"ProcessorExtension").$new(e,b)):c.$raise(t.const_get_qualified("::","ArgumentError"),"Invalid arguments specified for registering "+f+" extension: "+n))}(),m.$config()["$[]"]("position")["$=="](">>")?v.$unshift(m):v["$<<"](m)},H.$$arity=2),t.defn(K,"$add_syntax_processor",G=function(n,r){var a,o,s,_,d=this,f=G.$$p,p=f||$,h=$,g=$,v=$,m=$,y=$,b=$,k=$,w=$,x=$,E=$,O=$;return f&&(G.$$p=null),h=n.$to_s().$tr("_"," "),g=u(h.$split(),"map",[],(a=function(t){a.$$s||this;return null==t&&(t=$),t.$capitalize()},a.$$s=d,a.$$arity=1,a)).$push("Processor").$join().$to_sym(),v=t.const_get_relative(V,"Extensions").$const_get(g),m=function(){return l((o=t.const_get_qualified("::","AsciidoctorJ","skip_raise"))?"constant":$)?t.const_get_qualified(t.const_get_qualified("::","AsciidoctorJ"),"Extensions").$const_get(g):$}(),y=l(s=d.$instance_variable_get(("@"+n+"_extensions").$to_sym()))?s:d.$instance_variable_set(("@"+n+"_extensions").$to_sym(),c([],{})),p!==$?(_=d.$resolve_args(r,2),s=t.to_ary(_),b=null==s[0]?$:s[0],k=null==s[1]?$:s[1],_,w=v.$new(d.$as_symbol(b),k),l(v.$constants().$grep("DSL"))&&w.$extend(v.$const_get("DSL")),p.$arity()["$=="](1)?t.yield1(p,w):u(w,"instance_exec",[],p.$to_proc()),l(b=d.$as_symbol(w.$name()))||d.$raise(t.const_get_qualified("::","ArgumentError"),"No name specified for "+h+" extension at "+p.$source_location()),l(w["$process_block_given?"]())||d.$raise(t.const_get_qualified("::","NoMethodError"),"No block specified to process "+h+" extension at "+p.$source_location()),w.$freeze(),x=[b,t.const_get_relative(V,"ProcessorExtension").$new(n,w)],u(y,"[]=",t.to_a(x)),x[e(x.length,1)]):(_=d.$resolve_args(r,3),s=t.to_ary(_),w=null==s[0]?$:s[0],b=null==s[1]?$:s[1],k=null==s[2]?$:s[2],_,l(E=t.const_get_relative(V,"Extensions").$resolve_class(w))?(l(l(s=i(E,v))?s:l(_=m)?i(E,m):_)||d.$raise(t.const_get_qualified("::","ArgumentError"),"Class specified for "+h+" extension does not inherit from "+v+": "+w),O=E.$new(d.$as_symbol(b),k),l(b=d.$as_symbol(O.$name()))||d.$raise(t.const_get_qualified("::","ArgumentError"),"No name specified for "+h+" extension: "+w),O.$freeze(),x=[b,t.const_get_relative(V,"ProcessorExtension").$new(n,O)],u(y,"[]=",t.to_a(x)),x[e(x.length,1)]):l(l(s=v["$==="](w))?s:l(_=m)?m["$==="](w):_)?(w.$update_config(k),l(b=function(){return l(b)?(x=[d.$as_symbol(b)],u(w,"name=",t.to_a(x)),x[e(x.length,1)]):d.$as_symbol(w.$name())}())||d.$raise(t.const_get_qualified("::","ArgumentError"),"No name specified for "+h+" extension: "+w),w.$freeze(),x=[b,t.const_get_relative(V,"ProcessorExtension").$new(n,w)],u(y,"[]=",t.to_a(x)),x[e(x.length,1)]):d.$raise(t.const_get_qualified("::","ArgumentError"),"Invalid arguments specified for registering "+h+" extension: "+r))},G.$$arity=2),t.defn(K,"$resolve_args",Y=function(a,o){var s=$,u=$;return s=function(){return l(t.const_get_qualified("::","Hash")["$==="](a["$[]"](-1)))?a.$pop():c([],{})}(),o["$=="](1)?s:(l(n(u=e(e(o,1),a.$size()),0))?a=r(a,t.const_get_qualified("::","Array").$new(u)):l(i(u,0))&&a.$pop(u["$-@"]()),a["$<<"](s),a)},Y.$$arity=2),t.defn(K,"$as_symbol",W=function(t){return l(t)?t.$to_sym():$},W.$$arity=1),$&&"as_symbol"}(h[0],null,h),function(n,i){var a,o,s,d,f,p,h,g,v,m=(n.$$proto,[n].concat(i));return t.defn(n,"$generate_name",a=function(){var t=this;return"extgrp"+t.$next_auto_id()},a.$$arity=0),t.defn(n,"$next_auto_id",o=function(){var t,e=this;return null==e.auto_id&&(e.auto_id=$),e.auto_id=l(t=e.auto_id)?t:-1,e.auto_id=r(e.auto_id,1)},o.$$arity=0),t.defn(n,"$groups",s=function(){var t,e=this;return null==e.groups&&(e.groups=$),e.groups=l(t=e.groups)?t:c([],{})},s.$$arity=0),t.defn(n,"$create",d=function(e){var n,r=this,i=d.$$p,a=i||$;return null==e&&(e=$),i&&(d.$$p=null),a!==$?t.const_get_relative(m,"Registry").$new(_(l(n=e)?n:r.$generate_name(),a)):t.const_get_relative(m,"Registry").$new()},d.$$arity=-1),t.alias(n,"build_registry","create"),t.defn(n,"$register",f=function(n){var r,i,a=this,o=f.$$p,s=o||$,c=$,_=$,d=$,p=$,h=$,g=arguments.length,v=g-0;v<0&&(v=0),i=new Array(v);for(var m=0;m<g;m++)i[m-0]=arguments[m];return o&&(f.$$p=null),c=i.$size(),s!==$?_=s:l(d=i.$pop())?_=l(r=a.$resolve_class(d))?r:d:a.$raise(t.const_get_qualified("::","ArgumentError"),"Extension group to register not specified"),p=l(r=i.$pop())?r:a.$generate_name(),l(i["$empty?"]())||a.$raise(t.const_get_qualified("::","ArgumentError"),"Wrong number of arguments ("+c+" for 1..2)"),h=[p,_],u(a.$groups(),"[]=",t.to_a(h)),h[e(h.length,1)]},f.$$arity=-1),t.defn(n,"$unregister_all",p=function(){var t=this;return t.groups=c([],{}),$},p.$$arity=0),t.defn(n,"$unregister",h=function(t){var e,n,r=this,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var o=0;o<i;o++)n[o-0]=arguments[o];return u(n,"each",[],(e=function(t){var n=e.$$s||this;return null==n.groups&&(n.groups=$),null==t&&(t=$),n.groups.$delete(t.$to_sym())},e.$$s=r,e.$$arity=1,e)),$},h.$$arity=-1),t.defn(n,"$resolve_class",g=function(e){var n=this,r=$;return function(){return r=e,t.const_get_qualified("::","Class")["$==="](r)?e:t.const_get_qualified("::","String")["$==="](r)?n.$class_for_name(e):$}()},g.$$arity=1),t.defn(n,"$class_for_name",v=function(e){var n,r=this,i=$;return i=t.const_get_qualified("::","Object"),u(e.$split("::"),"each",[],(n=function(r){var a,o,s=n.$$s||this;return null==r&&(r=$),l(l(a=r["$empty?"]())?a:l(o=i["$const_defined?"](r))?t.const_get_qualified("::","Module")["$==="](i=i.$const_get(r)):o)?$:s.$raise(t.const_get_qualified("::","NameError"),"Could not resolve class for name: "+e)},n.$$s=r,n.$$arity=1,n)),l(t.const_get_qualified("::","Class")["$==="](i))||r.$raise(t.const_get_qualified("::","NameError"),"Could not resolve class for name: "+e),i},v.$$arity=1),$&&"class_for_name"}(t.get_singleton_class(p),h)}(h[0],h)}(a[0],a)},Opal.modules["asciidoctor/js/postscript"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("asciidoctor/converter/composite"),e.$require("asciidoctor/converter/html5"),e.$require("asciidoctor/extensions")},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var a,$=t.top,o=[],s=t.nil,l=(t.breaker,t.slice,t.truthy),c=t.gvars,u=t.module,_=t.hash2,d=t.send,f=t.hash;return null==c[":"]&&(c[":"]=s),t.add_stubs(["$==","$>=","$require","$unshift","$dirname","$each","$constants","$const_get","$downcase","$to_s","$[]=","$-","$upcase","$[]","$values","$new","$attr_reader","$instance_variable_set","$send","$<<","$define","$expand_path","$join","$home","$pwd","$!","$!=","$default_external","$to_set","$map","$keys","$slice","$merge","$*","$to_a","$dup","$insert","$start","$===","$split","$gsub","$respond_to?","$raise","$ancestors","$class","$path","$utc","$at","$Integer","$mtime","$readlines","$basename","$extname","$index","$strftime","$year","$rewind","$lines","$each_line","$record","$parse","$exception","$message","$set_backtrace","$backtrace","$stack_trace","$stack_trace=","$open","$load","$delete","$key?","$attributes","$outfilesuffix","$safe","$normalize_system_path","$directory?","$mkdir_p","$convert","$write","$<","$attr?","$attr","$uriish?","$include?","$write_primary_stylesheet","$instance","$empty?","$read_asset","$write_coderay_stylesheet","$write_pygments_stylesheet"]),l((a=t.const_get_relative(o,"RUBY_ENGINE","skip_raise"))?"constant":s)||t.const_set(o[0],"RUBY_ENGINE","unknown"),t.const_set(o[0],"RUBY_ENGINE_OPAL",t.const_get_relative(o,"RUBY_ENGINE")["$=="]("opal")),t.const_set(o[0],"RUBY_ENGINE_JRUBY",t.const_get_relative(o,"RUBY_ENGINE")["$=="]("jruby")),t.const_set(o[0],"RUBY_MIN_VERSION_1_9",e(t.const_get_relative(o,"RUBY_VERSION"),"1.9")),t.const_set(o[0],"RUBY_MIN_VERSION_2",e(t.const_get_relative(o,"RUBY_VERSION"),"2")),$.$require("set"),t.const_get_relative(o,"RUBY_ENGINE")["$=="]("opal")&&$.$require("asciidoctor/js"),c[":"].$unshift(t.const_get_relative(o,"File").$dirname("asciidoctor")),function(a,$){var o,c,p,h=o=u(a,"Asciidoctor"),g=(h.$$proto,[h].concat($)),v=s,m=s,y=s;t.const_set(g[0],"RUBY_ENGINE",t.const_get_qualified("::","RUBY_ENGINE")),function(e,r){var i,a,$,o,l,c=i=u(e,"SafeMode"),f=(c.$$proto,[c].concat(r)),p=s;t.const_set(f[0],"UNSAFE",0),t.const_set(f[0],"SAFE",1),t.const_set(f[0],"SERVER",10),t.const_set(f[0],"SECURE",20),p=_([],{}),d((t.Module.$$nesting=f,c.$constants()),"each",[],(a=function(e){var r=a.$$s||this,i=s;return null==e&&(e=s),i=[r.$const_get(e),e.$to_s().$downcase()],d(p,"[]=",t.to_a(i)),i[n(i.length,1)]},a.$$s=c,a.$$arity=1,a)),c.names_by_value=p,t.defs(c,"$value_for_name",$=function(t){var e=this;return e.$const_get(t.$upcase())},$.$$arity=1),t.defs(c,"$name_for_value",o=function(t){var e=this;return null==e.names_by_value&&(e.names_by_value=s),e.names_by_value["$[]"](t)},o.$$arity=1),t.defs(c,"$names",l=function(){var t=this;return null==t.names_by_value&&(t.names_by_value=s),t.names_by_value.$values()},l.$$arity=0)}(g[0],g),function(e,n){var r,i,a=r=u(e,"Compliance"),$=(a.$$proto,[a].concat(n));a.keys=t.const_get_qualified("::","Set").$new(),function(t,e){t.$$proto,[t].concat(e);return t.$attr_reader("keys")}(t.get_singleton_class(a),$),t.defs(a,"$define",i=function(e,n){var r=this;return null==r.keys&&(r.keys=s),r.$instance_variable_set("@"+e,n),function(t,e){t.$$proto,[t].concat(e);return t}(t.get_singleton_class(r),$).$send("attr_accessor",e),r.keys["$<<"](e),s},i.$$arity=2),a.$define("block_terminates_paragraph",!0),a.$define("strict_verbatim_paragraphs",!0),a.$define("underline_style_section_titles",!0),a.$define("unwrap_standalone_preamble",!0),a.$define("attribute_missing","skip"),a.$define("attribute_undefined","drop-line"),a.$define("shorthand_property_syntax",!0),a.$define("unique_id_start_index",2),a.$define("markdown_syntax",!0)}(g[0],g),t.const_set(g[0],"ROOT_PATH",t.const_get_qualified("::","File").$dirname(t.const_get_qualified("::","File").$dirname(t.const_get_qualified("::","File").$expand_path("asciidoctor")))),t.const_set(g[0],"LIB_PATH",t.const_get_qualified("::","File").$join(t.const_get_relative(g,"ROOT_PATH"),"lib")),t.const_set(g[0],"DATA_PATH",t.const_get_qualified("::","File").$join(t.const_get_relative(g,"ROOT_PATH"),"data"));try{t.const_set(g[0],"USER_HOME",t.const_get_qualified("::","Dir").$home())}catch(b){if(!t.rescue(b,[t.const_get_relative(g,"StandardError")]))throw b;try{t.const_set(g[0],"USER_HOME",l(c=t.const_get_qualified("::","ENV")["$[]"]("HOME"))?c:t.const_get_qualified("::","Dir").$pwd())}finally{t.pop_exception()}}t.const_set(g[0],"COERCE_ENCODING",l(c=t.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())?t.const_get_qualified("::","RUBY_MIN_VERSION_1_9"):c),t.const_set(g[0],"FORCE_ENCODING",l(c=t.const_get_relative(g,"COERCE_ENCODING"))?t.const_get_qualified("::","Encoding").$default_external()["$!="](t.const_get_qualified(t.const_get_qualified("::","Encoding"),"UTF_8")):c),t.const_set(g[0],"BOM_BYTES_UTF_8",[239,187,191]),t.const_set(g[0],"BOM_BYTES_UTF_16LE",[255,254]),t.const_set(g[0],"BOM_BYTES_UTF_16BE",[254,255]),t.const_set(g[0],"FORCE_UNICODE_LINE_LENGTH",t.const_get_qualified("::","RUBY_MIN_VERSION_1_9")["$!"]()),t.const_set(g[0],"EOL","\n"),t.const_set(g[0],"NULL","\0"),t.const_set(g[0],"TAB","\t"),t.const_set(g[0],"DEFAULT_DOCTYPE","article"),t.const_set(g[0],"DEFAULT_BACKEND","html5"),t.const_set(g[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),t.const_set(g[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(g[0],"BACKEND_ALIASES",_(["html","docbook"],{html:"html5",docbook:"docbook5"})),t.const_set(g[0],"DEFAULT_PAGE_WIDTHS",_(["docbook"],{docbook:425})),t.const_set(g[0],"DEFAULT_EXTENSIONS",_(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),t.const_set(g[0],"ASCIIDOC_EXTENSIONS",_([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0})),t.const_set(g[0],"SETEXT_SECTION_LEVELS",_(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),t.const_set(g[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),t.const_set(g[0],"ADMONITION_STYLE_LEADERS",["N","T","I","W","C"].$to_set()),t.const_set(g[0],"CALLOUT_LIST_LEADERS",["<","1","2","3","4","5","6","7","8","9","0"].$to_set()),t.const_set(g[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),t.const_set(g[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),t.const_set(g[0],"DELIMITED_BLOCKS",_(["--","----","....","====","****","____",'""',"++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",t.const_get_qualified("::","Set").$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",t.const_get_qualified("::","Set").$new()],",===":["table",t.const_get_qualified("::","Set").$new()],":===":["table",t.const_get_qualified("::","Set").$new()],"!===":["table",t.const_get_qualified("::","Set").$new()],"////":["comment",t.const_get_qualified("::","Set").$new()],"```":["fenced_code",t.const_get_qualified("::","Set").$new()]})),t.const_set(g[0],"DELIMITED_BLOCK_LEADERS",d(t.const_get_relative(g,"DELIMITED_BLOCKS").$keys(),"map",[],(p=function(t){p.$$s||this;return null==t&&(t=s),t.$slice(0,2)},p.$$s=h,p.$$arity=1,p)).$to_set()),t.const_set(g[0],"LAYOUT_BREAK_CHARS",_(["'","<"],{"'":"thematic_break","<":"page_break"})),t.const_set(g[0],"MARKDOWN_THEMATIC_BREAK_CHARS",_(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),t.const_set(g[0],"HYBRID_LAYOUT_BREAK_CHARS",t.const_get_relative(g,"LAYOUT_BREAK_CHARS").$merge(t.const_get_relative(g,"MARKDOWN_THEMATIC_BREAK_CHARS"))),t.const_set(g[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),t.const_set(g[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),t.const_set(g[0],"ORDERED_LIST_KEYWORDS",_(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),t.const_set(g[0],"LIST_CONTINUATION","+"),t.const_set(g[0],"LINE_BREAK"," +"),t.const_set(g[0],"LINE_CONTINUATION"," \\"),t.const_set(g[0],"LINE_CONTINUATION_LEGACY"," +"),t.const_set(g[0],"BLOCK_MATH_DELIMITERS",_(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),t.const_set(g[0],"INLINE_MATH_DELIMITERS",_(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),t.const_set(g[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),t.const_get_relative(g,"RUBY_ENGINE")["$=="]("opal"),t.const_set(g[0],"AuthorInfoLineRx",new RegExp("^("+t.const_get_relative(g,"CG_WORD")+"["+t.const_get_relative(g,"CC_WORD")+"\\-'.]*)(?: +("+t.const_get_relative(g,"CG_WORD")+"["+t.const_get_relative(g,"CC_WORD")+"\\-'.]*))?(?: +("+t.const_get_relative(g,"CG_WORD")+"["+t.const_get_relative(g,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+?)>)?$")),t.const_set(g[0],"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?: *(?!:)(.*?))(?: *(?!^): *(.*))?$/),t.const_set(g[0],"ManpageTitleVolnumRx",/^(.+?) *\( *(.+?) *\)$/),t.const_set(g[0],"ManpageNamePurposeRx",/^(.+?) +- +(.+)$/),t.const_set(g[0],"ConditionalDirectiveRx",/^(\\)?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,+])\S+?)?)\[(.+)?\]$/),t.const_set(g[0],"EvalExpressionRx",/^(.+?) *([=!><]=|[><]) *(.+)$/),t.const_set(g[0],"IncludeDirectiveRx",/^(\\)?include::([^\[][^\[]*)\[(.*)\]$/),t.const_set(g[0],"TagDirectiveRx",/\b(?:tag|(end))::(\S+)\[\](?: -->)?$/),t.const_set(g[0],"AttributeEntryRx",/^:(!?\w.*?):(?:[ \t]+(.*))?$/),t.const_set(g[0],"InvalidAttributeNameCharsRx",/[^\w\-]/),t.const_get_relative(g,"RUBY_ENGINE")["$=="]("opal")&&t.const_set(g[0],"AttributeEntryPassMacroRx",/^pass:([a-z]+(?:,[a-z]+)*)?\[([\S\s]*)\]$/),t.const_set(g[0],"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/),t.const_set(g[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+t.const_get_relative(g,"CC_ALPHA")+"_:]["+t.const_get_relative(g,"CC_WORD")+":.-]*)(?:, *(.+))?)\\]\\]$")),t.const_set(g[0],"BlockAttributeListRx",new RegExp("^\\[(|["+t.const_get_relative(g,"CC_WORD")+".#%{,\"'].*)\\]$")),t.const_set(g[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+t.const_get_relative(g,"CC_WORD")+".#%{,\"'].*|\\[(?:|["+t.const_get_relative(g,"CC_ALPHA")+"_:]["+t.const_get_relative(g,"CC_WORD")+":.-]*(?:, *.+)?)\\])\\]$")),t.const_set(g[0],"BlockTitleRx",/^\.([^ \t.].*)$/),t.const_set(g[0],"AdmonitionParagraphRx",new RegExp("^("+r(t.const_get_relative(g,"ADMONITION_STYLES").$to_a(),"|")+"):[ \\t]+")),t.const_set(g[0],"LiteralParagraphRx",/^([ \t]+.*)$/),t.const_set(g[0],"CommentBlockRx",/^\/{4,}$/),t.const_set(g[0],"CommentLineRx",/^\/\/(?=[^\/]|$)/),t.const_set(g[0],"AtxSectionRx",/^(=={0,5}|#\#{0,5})[ \t]+(.+?)(?:[ \t]+\1)?$/),t.const_set(g[0],"SetextSectionTitleRx",new RegExp("^((?=.*"+t.const_get_relative(g,"CG_WORD")+"+.*)[^.].*?)$")),t.const_set(g[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+t.const_get_relative(g,"CC_ALPHA")+"_:]["+t.const_get_relative(g,"CC_WORD")+":.-]*)(?:, *(.+))?\\]\\]$")),t.const_set(g[0],"InvalidSectionIdCharsRx",new RegExp("&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^"+t.const_get_relative(g,"CC_WORD")+"]+?")),t.const_set(g[0],"FloatingTitleStyleRx",/^(?:float|discrete)\b/),t.const_set(g[0],"AnyListRx",/^(?:[ \t]*(?:-|\*\*{0,4}|\.\.{0,4}|\u2022\u2022{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]|[ \t]*.*?(?::{2,4}|;;)(?:$|[ \t])|<?\d+>[ \t])/),t.const_set(g[0],"UnorderedListRx",/^[ \t]*(-|\*\*{0,4}|\u2022\u2022{0,4})[ \t]+(.*)$/),t.const_set(g[0],"OrderedListRx",/^[ \t]*(\.\.{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]+(.*)$/),t.const_set(g[0],"OrderedListMarkerRxMap",_(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),t.const_set(g[0],"DescriptionListRx",/^(?!\/\/)[ \t]*(.*?)(:{2,4}|;;)(?:[ \t]+(.*))?$/),
t.const_set(g[0],"DescriptionListSiblingRx",_(["::",":::","::::",";;"],{"::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(::)(?:[ \t]+(.*))?$/,":::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(:::)(?:[ \t]+(.*))?$/,"::::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(::::)(?:[ \t]+(.*))?$/,";;":/^(?!\/\/)[ \t]*(.*)(;;)(?:[ \t]+(.*))?$/})),t.const_set(g[0],"CalloutListRx",/^<?(\d+)>[ \t]+(.*)$/),t.const_set(g[0],"CalloutListSniffRx",/^<?\d+>/),t.const_set(g[0],"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/),t.const_set(g[0],"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)"),t.const_set(g[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+t.const_get_relative(g,"CC_EOL")+")")),t.const_set(g[0],"CalloutSourceRx",new RegExp("(?:(?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+t.const_get_relative(g,"CC_EOL")+")")),t.const_set(g[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+t.const_get_relative(g,"CC_EOL")+")"),t.const_set(g[0],"ListRxMap",_(["ulist","olist","dlist","colist"],{ulist:t.const_get_relative(g,"UnorderedListRx"),olist:t.const_get_relative(g,"OrderedListRx"),dlist:t.const_get_relative(g,"DescriptionListRx"),colist:t.const_get_relative(g,"CalloutListRx")})),t.const_set(g[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/),t.const_set(g[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),t.const_set(g[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),t.const_set(g[0],"GenericBlockMacroRx",new RegExp("^("+t.const_get_relative(g,"CG_WORD")+"+)::(|\\S|\\S.*?\\S)\\[(.*)\\]$")),t.const_set(g[0],"MediaBlockMacroRx",/^(image|video|audio)::(\S|\S.*?\S)\[(.*)\]$/),t.const_set(g[0],"TocBlockMacroRx",/^toc::\[(.*)\]$/),t.const_set(g[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+t.const_get_relative(g,"CC_ALPHA")+"_:]["+t.const_get_relative(g,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|anchor:(["+t.const_get_relative(g,"CC_ALPHA")+"_:]["+t.const_get_relative(g,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\]))")),t.const_set(g[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+t.const_get_relative(g,"CC_ALPHA")+"_:]["+t.const_get_relative(g,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+t.const_get_relative(g,"CC_ALPHA")+"_:]["+t.const_get_relative(g,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\])")),t.const_set(g[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+t.const_get_relative(g,"CC_ALPHA")+"_:]["+t.const_get_relative(g,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]\\]")),t.const_set(g[0],"EmailInlineRx",new RegExp("([\\\\>:/])?"+t.const_get_relative(g,"CG_WORD")+"["+t.const_get_relative(g,"CC_WORD")+".%+-]*@"+t.const_get_relative(g,"CG_ALNUM")+"["+t.const_get_relative(g,"CC_ALNUM")+".-]*\\."+t.const_get_relative(g,"CG_ALPHA")+"{2,4}\\b")),t.const_set(g[0],"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+t.const_get_relative(g,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(g[0],"ImageInlineMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[][^\\n\\[]*)\\[(|"+t.const_get_relative(g,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(g[0],"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+t.const_get_relative(g,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+t.const_get_relative(g,"CC_ALL")+"+?)\\)\\)(?!\\)))","m")),t.const_set(g[0],"KbdBtnInlineMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+t.const_get_relative(g,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(g[0],"KbdDelimiterRx",/[+,]/),t.const_set(g[0],"LinkInlineRx",new RegExp("(^|link:|"+t.const_get_relative(g,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*[^\\s.,\\[\\]<])(?:\\[(|"+t.const_get_relative(g,"CC_ALL")+"*?[^\\\\])\\])?","m")),t.const_set(g[0],"LinkInlineMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+t.const_get_relative(g,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(g[0],"MacroNameRx",new RegExp("^"+t.const_get_relative(g,"CG_WORD")+"+$")),t.const_set(g[0],"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z]+)*)?\\[("+t.const_get_relative(g,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(g[0],"MenuInlineMacroRx",new RegExp("\\\\?menu:("+t.const_get_relative(g,"CG_WORD")+"|["+t.const_get_relative(g,"CC_WORD")+"&].*?\\S)\\[ *("+t.const_get_relative(g,"CC_ALL")+"*?[^\\\\])?\\]","m")),t.const_set(g[0],"MenuInlineRx",new RegExp('\\\\?"(['+t.const_get_relative(g,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"')),t.const_set(g[0],"PassInlineRx",f(!1,["+","`",new RegExp("(^|[^"+t.const_get_relative(g,"CC_WORD")+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+t.const_get_relative(g,"CC_ALL")+"*?\\S)\\4)(?!"+t.const_get_relative(g,"CG_WORD")+")","m")],!0,["`",s,new RegExp("(^|[^`"+t.const_get_relative(g,"CC_WORD")+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+t.const_get_relative(g,"CC_ALL")+"*?\\S)\\4)(?![`"+t.const_get_relative(g,"CC_WORD")+"])","m")])),t.const_set(g[0],"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+t.const_get_relative(g,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z]+)*)?\\[(|"+t.const_get_relative(g,"CC_ALL")+"*?[^\\\\])\\])","m")),t.const_set(g[0],"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+t.const_get_relative(g,"CC_WORD")+"#/.:{]"+t.const_get_relative(g,"CC_ALL")+"*?)&gt;&gt;|xref:(["+t.const_get_relative(g,"CC_WORD")+"#/.:{]"+t.const_get_relative(g,"CC_ALL")+"*?)\\[("+t.const_get_relative(g,"CC_ALL")+"*?[^\\\\])?\\])","m")),t.const_get_relative(g,"RUBY_ENGINE")["$=="]("opal")&&t.const_set(g[0],"LineBreakRx",/^(.*) \+$/m),t.const_set(g[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),t.const_set(g[0],"HybridLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),t.const_set(g[0],"BlankLineRx",/\n{2,}/),t.const_set(g[0],"DataDelimiterRx",/[,;]/),t.const_set(g[0],"TrailingDigitsRx",/\d+$/),t.const_set(g[0],"EscapedSpaceRx",/\\([ \t\n])/),t.const_set(g[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),t.const_set(g[0],"SubModifierSniffRx",/[+-]/),t.const_get_relative(g,"RUBY_ENGINE")["$=="]("opal"),t.const_set(g[0],"UriSniffRx",new RegExp("^"+t.const_get_relative(g,"CG_ALPHA")+"["+t.const_get_relative(g,"CC_ALNUM")+".+-]+:/{0,2}")),t.const_set(g[0],"UriTerminatorRx",/[);:]$/),t.const_set(g[0],"XmlSanitizeRx",/<[^>]+?>/),t.const_set(g[0],"INTRINSIC_ATTRIBUTES",_(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"})),v=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+t.const_get_relative(g,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+t.const_get_relative(g,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+t.const_get_relative(g,"CC_ALL")+"*?\\S)\\*(?!"+t.const_get_relative(g,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+t.const_get_relative(g,"CC_WORD")+';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+t.const_get_relative(g,"CC_ALL")+'*?\\S)`"(?!'+t.const_get_relative(g,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+t.const_get_relative(g,"CC_WORD")+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+t.const_get_relative(g,"CC_ALL")+"*?\\S)`'(?!"+t.const_get_relative(g,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+t.const_get_relative(g,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+t.const_get_relative(g,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+t.const_get_relative(g,"CC_ALL")+"*?\\S)`(?!["+t.const_get_relative(g,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+t.const_get_relative(g,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+t.const_get_relative(g,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+t.const_get_relative(g,"CC_ALL")+"*?\\S)_(?!"+t.const_get_relative(g,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+t.const_get_relative(g,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+t.const_get_relative(g,"CC_WORD")+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+t.const_get_relative(g,"CC_ALL")+"*?\\S)#(?!"+t.const_get_relative(g,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]],m=v.$dup(),y=[2,["double","constrained",new RegExp("(^|[^"+t.const_get_relative(g,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+t.const_get_relative(g,"CC_ALL")+"*?\\S)''(?!"+t.const_get_relative(g,"CG_WORD")+")","m")]],d(m,"[]=",t.to_a(y)),y[n(y.length,1)],y=[3,["single","constrained",new RegExp("(^|[^"+t.const_get_relative(g,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+t.const_get_relative(g,"CC_ALL")+"*?\\S)'(?!"+t.const_get_relative(g,"CG_WORD")+")","m")]],d(m,"[]=",t.to_a(y)),y[n(y.length,1)],y=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+t.const_get_relative(g,"CC_ALL")+"+?)\\+\\+","m")]],d(m,"[]=",t.to_a(y)),y[n(y.length,1)],y=[5,["monospaced","constrained",new RegExp("(^|[^"+t.const_get_relative(g,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+t.const_get_relative(g,"CC_ALL")+"*?\\S)\\+(?!"+t.const_get_relative(g,"CG_WORD")+")","m")]],d(m,"[]=",t.to_a(y)),y[n(y.length,1)],m.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+t.const_get_relative(g,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+t.const_get_relative(g,"CC_ALL")+"*?\\S)'(?!"+t.const_get_relative(g,"CG_WORD")+")","m")]),t.const_set(g[0],"QUOTE_SUBS",f(!1,v,!0,m)),v=s,m=s,t.const_set(g[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+t.const_get_relative(g,"CG_WORD")+")\\\\?--(?="+t.const_get_relative(g,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+t.const_get_relative(g,"CG_ALNUM")+")\\\\?'(?="+t.const_get_relative(g,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]),function(a,$){var o,c,u,f,p=(a.$$proto,[a].concat($));return t.defn(a,"$load",o=function(e,i){var a,$,o,c,u,f=this,h=s,g=s,v=s,m=s,y=s,b=s,k=s,w=s,x=s,E=s,O=s,A=s,S=s;null==i&&(i=_([],{}));try{if(i=i.$dup(),l(h=i["$[]"]("timings"))&&h.$start("read"),l((g=i["$[]"]("attributes"))["$!"]())?g=_([],{}):l(l(a=t.const_get_qualified("::","Hash")["$==="](g))?a:l($=t.const_get_qualified("::","RUBY_ENGINE_JRUBY"))?t.const_get_qualified(t.const_get_qualified(t.const_get_qualified("::","Java"),"JavaUtil"),"Map")["$==="](g):$)?g=g.$dup():l(t.const_get_qualified("::","Array")["$==="](g))?(a=[_([],{}),g],g=a[0],v=a[1],a,d(v,"each",[],(o=function(e){var r,i,a=(o.$$s||this,s),$=s,c=s;return null==e&&(e=s),i=e.$split("=",2),r=t.to_ary(i),a=null==r[0]?s:r[0],$=null==r[1]?s:r[1],i,c=[a,l(r=$)?r:""],d(g,"[]=",t.to_a(c)),c[n(c.length,1)]},o.$$s=f,o.$$arity=1,o))):l(t.const_get_qualified("::","String")["$==="](g))?(a=[_([],{}),g.$gsub(t.const_get_relative(p,"SpaceDelimiterRx"),"\\1"+t.const_get_relative(p,"NULL")).$gsub(t.const_get_relative(p,"EscapedSpaceRx"),"\\1").$split(t.const_get_relative(p,"NULL"))],g=a[0],v=a[1],a,d(v,"each",[],(c=function(e){var r,i,a=(c.$$s||this,s),$=s,o=s;return null==e&&(e=s),i=e.$split("=",2),r=t.to_ary(i),a=null==r[0]?s:r[0],$=null==r[1]?s:r[1],i,o=[a,l(r=$)?r:""],d(g,"[]=",t.to_a(o)),o[n(o.length,1)]},c.$$s=f,c.$$arity=1,c))):l(l(a=g["$respond_to?"]("keys"))?g["$respond_to?"]("[]"):a)?g=t.const_get_qualified("::","Hash")["$[]"](d(g.$keys(),"map",[],(u=function(t){u.$$s||this;return null==t&&(t=s),[t,g["$[]"](t)]},u.$$s=f,u.$$arity=1,u))):f.$raise(t.const_get_qualified("::","ArgumentError"),"illegal type for attributes option: "+r(g.$class().$ancestors()," < ")),m=s,l(t.const_get_qualified("::","File")["$==="](e)))y=t.const_get_qualified("::","File").$expand_path(e.$path()),b=function(){return l(t.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?t.const_get_qualified("::","Time").$at(f.$Integer(t.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():e.$mtime()}(),m=e.$readlines(),k=["docfile",y],d(g,"[]=",t.to_a(k)),k[n(k.length,1)],k=["docdir",t.const_get_qualified("::","File").$dirname(y)],d(g,"[]=",t.to_a(k)),k[n(k.length,1)],k=["docname",t.const_get_relative(p,"Helpers").$basename(y,(k=["docfilesuffix",t.const_get_qualified("::","File").$extname(y)],d(g,"[]=",t.to_a(k)),k[n(k.length,1)]))],d(g,"[]=",t.to_a(k)),k[n(k.length,1)],l(w=g["$[]"]("docdate"))?l(a=g["$[]"]("docyear"))?a:(k=["docyear",function(){return w.$index("-")["$=="](4)?w.$slice(0,4):s}()],d(g,"[]=",t.to_a(k)),k[n(k.length,1)]):(k=["docdate",b.$strftime("%Y-%m-%d")],d(g,"[]=",t.to_a(k)),w=k[n(k.length,1)],l(a=g["$[]"]("docyear"))?a:(k=["docyear",b.$year().$to_s()],d(g,"[]=",t.to_a(k)),k[n(k.length,1)])),x=l(a=g["$[]"]("doctime"))?a:(k=["doctime",b.$strftime("%H:%M:%S %Z")],d(g,"[]=",t.to_a(k)),k[n(k.length,1)]),k=["docdatetime",""+w+" "+x],d(g,"[]=",t.to_a(k)),k[n(k.length,1)];else if(l(e["$respond_to?"]("readlines"))){try{e.$rewind()}catch(R){if(!t.rescue(R,[t.const_get_relative(p,"StandardError")]))throw R;try{}finally{t.pop_exception()}}m=e.$readlines()}else l(t.const_get_qualified("::","String")["$==="](e))?m=function(){return l(t.const_get_qualified("::","RUBY_MIN_VERSION_2"))?e.$lines():e.$each_line().$to_a()}():l(t.const_get_qualified("::","Array")["$==="](e))?m=e.$dup():f.$raise(t.const_get_qualified("::","ArgumentError"),"unsupported input type: "+e.$class());return l(h)&&(h.$record("read"),h.$start("parse")),k=["attributes",g],d(i,"[]=",t.to_a(k)),k[n(k.length,1)],E=function(){return i["$[]"]("parse")["$=="](!1)?t.const_get_relative(p,"Document").$new(m,i):t.const_get_relative(p,"Document").$new(m,i).$parse()}(),l(h)&&h.$record("parse"),E}catch(R){if(!t.rescue(R,[t.const_get_relative(p,"StandardError")]))throw R;O=R;try{try{A="asciidoctor: FAILED: "+(l(a=g["$[]"]("docfile"))?a:"<stdin>")+": Failed to load AsciiDoc document",l(O["$respond_to?"]("exception"))?(S=O.$exception(""+A+" - "+O.$message()),S.$set_backtrace(O.$backtrace())):(S=O.$class().$new(A,O),k=[O.$stack_trace()],d(S,"stack_trace=",t.to_a(k)),k[n(k.length,1)])}catch(R){if(!t.rescue(R,[t.const_get_relative(p,"StandardError")]))throw R;try{S=O}finally{t.pop_exception()}}return f.$raise(S)}finally{t.pop_exception()}}},o.$$arity=-2),t.defn(a,"$load_file",c=function(e,n){var r,i=this;return null==n&&(n=_([],{})),d(t.const_get_qualified("::","File"),"open",[e],(r=function(t){var e=r.$$s||this;return null==t&&(t=s),e.$load(t,n)},r.$$s=i,r.$$arity=1,r))},c.$$arity=-2),t.defn(a,"$convert",u=function(r,a){var $,o,c,u,f,h=this,g=s,v=s,m=s,y=s,b=s,k=s,w=s,x=s,E=s,O=s,A=s,S=s,R=s,M=s,T=s,I=s,q=s,C=s,N=s,z=s,P=s,L=s,D=s,B=s,j=s,U=s,F=s;if(null==a&&(a=_([],{})),a=a.$dup(),a.$delete("parse"),g=a.$delete("to_file"),v=a.$delete("to_dir"),m=!!l($=a.$delete("mkdirs"))&&$,y=a["$[]"]("timings"),b=g,(!0)["$==="](b)||s["$==="](b))k=l($=v["$!"]())?t.const_get_qualified("::","File")["$==="](r):$,w=!1,x=v,g=s;else if((!1)["$==="](b))k=!1,w=!1,x=!1,g=s;else{if("/dev/null"["$==="](b))return h.$load(r,a);k=!1,x=function(){return!l(w=g["$respond_to?"]("write"))&&g}()}return l(a["$key?"]("header_footer"))||l(l($=k)?$:x)&&(E=["header_footer",!0],d(a,"[]=",t.to_a(E)),E[n(E.length,1)]),l(k)?(O=t.const_get_qualified("::","File").$expand_path(r.$path()),E=["to_dir",A=t.const_get_qualified("::","File").$dirname(O)],d(a,"[]=",t.to_a(E)),E[n(E.length,1)]):l(x)?l(v)?l(g)?(E=["to_dir",t.const_get_qualified("::","File").$expand_path(t.const_get_qualified("::","File").$join(v,g,".."))],d(a,"[]=",t.to_a(E)),E[n(E.length,1)]):(E=["to_dir",t.const_get_qualified("::","File").$expand_path(v)],d(a,"[]=",t.to_a(E)),E[n(E.length,1)]):l(g)&&(E=["to_dir",t.const_get_qualified("::","File").$expand_path(g,"..")],d(a,"[]=",t.to_a(E)),E[n(E.length,1)]):(E=["to_dir",s],d(a,"[]=",t.to_a(E)),E[n(E.length,1)]),S=h.$load(r,a),l(k)?(R=t.const_get_qualified("::","File").$join(A,""+S.$attributes()["$[]"]("docname")+S.$outfilesuffix()),R["$=="](O)&&h.$raise(t.const_get_qualified("::","IOError"),"input file and output file cannot be the same: "+R)):l(x)?(M=function(){return l(a["$key?"]("base_dir"))?t.const_get_qualified("::","File").$expand_path(a["$[]"]("base_dir")):t.const_get_qualified("::","File").$expand_path(t.const_get_qualified("::","Dir").$pwd())}(),T=function(){return l(e(S.$safe(),t.const_get_qualified(t.const_get_relative(p,"SafeMode"),"SAFE")))?M:s}(),l(v)?(A=S.$normalize_system_path(v,M,T,_(["target_name","recover"],{target_name:"to_dir",recover:!1})),l(g)?(R=S.$normalize_system_path(g,A,s,_(["target_name","recover"],{target_name:"to_dir",recover:!1})),A=t.const_get_qualified("::","File").$dirname(R)):R=t.const_get_qualified("::","File").$join(A,""+S.$attributes()["$[]"]("docname")+S.$outfilesuffix())):l(g)&&(R=S.$normalize_system_path(g,M,T,_(["target_name","recover"],{target_name:"to_dir",recover:!1})),A=t.const_get_qualified("::","File").$dirname(R)),l(l($=t.const_get_qualified("::","File")["$==="](r))?R["$=="](t.const_get_qualified("::","File").$expand_path(r.$path())):$)&&h.$raise(t.const_get_qualified("::","IOError"),"input file and output file cannot be the same: "+R),l(t.const_get_qualified("::","File")["$directory?"](A))||(l(m)?t.const_get_relative(p,"Helpers").$mkdir_p(A):h.$raise(t.const_get_qualified("::","IOError"),"target directory does not exist: "+v))):(R=g,A=s),l(y)&&y.$start("convert"),I=function(){return l(l($=R)?w["$!"]():$)?_(["outfile","outdir"],{outfile:R,outdir:A}):_([],{})}(),q=S.$convert(I),l(y)&&y.$record("convert"),l(R)?(l(y)&&y.$start("write"),S.$write(q,R),l(y)&&y.$record("write"),l(l($=l(o=l(c=l(u=l(f=w["$!"]())?i(S.$safe(),t.const_get_qualified(t.const_get_relative(p,"SafeMode"),"SECURE")):f)?S["$attr?"]("linkcss"):u)?S["$attr?"]("copycss"):c)?S["$attr?"]("basebackend-html"):o)?(l(o=C=S.$attr("stylesdir"))?t.const_get_relative(p,"Helpers")["$uriish?"](C):o)["$!"]():$)&&(N=!1,z=!1,l(P=S.$attr("stylesheet"))&&(l(t.const_get_relative(p,"DEFAULT_STYLESHEET_KEYS")["$include?"](P))?N=!0:l(t.const_get_relative(p,"Helpers")["$uriish?"](P)["$!"]())&&(z=!0)),L=l($=S["$attr?"]("source-highlighter","coderay"))?S.$attr("coderay-css","class")["$=="]("class"):$,D=l($=S["$attr?"]("source-highlighter","pygments"))?S.$attr("pygments-css","class")["$=="]("class"):$,l(l($=l(o=l(c=N)?c:z)?o:L)?$:D)&&(B=S.$normalize_system_path(C,A,function(){return l(e(S.$safe(),t.const_get_qualified(t.const_get_relative(p,"SafeMode"),"SAFE")))?A:s}()),l(m)&&t.const_get_relative(p,"Helpers").$mkdir_p(B),l(N)?t.const_get_relative(p,"Stylesheets").$instance().$write_primary_stylesheet(B):l(z)&&(j=l((j=S.$attr("copycss"))["$empty?"]())?S.$normalize_system_path(P):S.$normalize_system_path(j),U=S.$normalize_system_path(P,B,function(){return l(e(S.$safe(),t.const_get_qualified(t.const_get_relative(p,"SafeMode"),"SAFE")))?A:s}()),l(l($=j["$!="](U))?F=S.$read_asset(j,_(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"})):$)&&t.const_get_qualified("::","IO").$write(U,F)),l(L)?t.const_get_relative(p,"Stylesheets").$instance().$write_coderay_stylesheet(B):l(D)&&t.const_get_relative(p,"Stylesheets").$instance().$write_pygments_stylesheet(B,S.$attr("pygments-style")))),S):q},u.$$arity=-2),t.alias(a,"render","convert"),t.defn(a,"$convert_file",f=function(e,n){var r,i=this;return null==n&&(n=_([],{})),d(t.const_get_qualified("::","File"),"open",[e],(r=function(t){var e=r.$$s||this;return null==t&&(t=s),e.$convert(t,n)},r.$$s=i,r.$$arity=1,r))},f.$$arity=-2),t.alias(a,"render_file","convert_file")}(t.get_singleton_class(h),g),t.const_get_relative(g,"RUBY_ENGINE")["$=="]("opal")&&(h.$require("asciidoctor/version"),h.$require("asciidoctor/timings"))}(o[0],o),$.$require("asciidoctor/core_ext"),$.$require("asciidoctor/helpers"),$.$require("asciidoctor/substitutors"),$.$require("asciidoctor/abstract_node"),$.$require("asciidoctor/abstract_block"),$.$require("asciidoctor/attribute_list"),$.$require("asciidoctor/block"),$.$require("asciidoctor/callouts"),$.$require("asciidoctor/converter"),$.$require("asciidoctor/document"),$.$require("asciidoctor/inline"),$.$require("asciidoctor/list"),$.$require("asciidoctor/parser"),$.$require("asciidoctor/path_resolver"),$.$require("asciidoctor/reader"),$.$require("asciidoctor/section"),$.$require("asciidoctor/stylesheets"),$.$require("asciidoctor/table"),t.const_get_relative(o,"RUBY_ENGINE")["$=="]("opal")?$.$require("asciidoctor/js/postscript"):s}(Opal);var e=function(t){return t&&!t.smap?Opal.hash(t):t},n=function(t){if(t=e(t)){var n=t["$[]"]("attributes");n&&"object"==typeof n&&"Object"===n.constructor.name&&(t=t.$dup(),t["$[]="]("attributes",e(n)))}return t},r=Opal.Asciidoctor.$$class;r.$$proto.convert=function(t,e){"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8"));var r=this.$convert(t,n(e));return r===Opal.nil?"":r},r.$$proto.convertFile=function(t,e){return this.$convert_file(t,n(e))},r.$$proto.load=function(t,e){return"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8")),this.$load(t,n(e))},r.$$proto.loadFile=function(t,e){return this.$load_file(t,n(e))};var i=Opal.Asciidoctor.AbstractBlock;i.$$proto.getTitle=function(){var t=this.$title();return t===Opal.nil?"":t},i.$$proto.getStyle=function(){return this.style},i.$$proto.getCaption=function(){return this.caption},i.$$proto.getLevel=function(){return this.level},i.$$proto.getBlocks=function(){return this.blocks},i.$$proto.getContent=function(){return this.$content()},i.$$proto.convert=function(){return this.$convert()},i.$$proto.findBy=function(t,n){return"undefined"==typeof n&&"function"==typeof t?Opal.send(this,"find_by",null,t):"function"==typeof n?Opal.send(this,"find_by",[e(t)],n):this.$find_by(e(t))},i.$$proto.getLineNumber=function(){var t=this.$lineno();if(t!==Opal.nil)return t};var a=Opal.Asciidoctor.AbstractNode;a.$$proto.getAttributes=function(){for(var t,e={},n=this.attributes,r=0,i=n.$$keys,a=n.$$smap,$=i.length;r<$;r++)t=i[r],e[t]=a[t];return e},a.$$proto.getAttribute=function(t,e,n){var r=this.$attr(t,e,n);if(r!==Opal.nil)return r},a.$$proto.isAttribute=function(t,e,n){var r=this["$attr?"](t,e,n);if(r!==Opal.nil)return r},a.$$proto.setAttribute=function(t,e,n){return"undefined"==typeof n&&(n=!0),this.$set_attr(t,e,n)},a.$$proto.getDocument=function(){return this.$document()},a.$$proto.isInline=function(){return this["$inline?"]()},a.$$proto.isBlock=function(){return this["$block?"]()},a.$$proto.isRole=function(t){return this["$role?"](t)},a.$$proto.getRole=function(){return this.$role()},a.$$proto.hasRole=function(t){return this["$has_role?"](t)},a.$$proto.getRoles=function(){return this.$roles()},a.$$proto.addRole=function(t){return this.$add_role(t)},a.$$proto.removeRole=function(t){return this.$remove_role(t)},a.$$proto.isReftext=function(){return this["$reftext?"]()},a.$$proto.getReftext=function(){return this.$reftext()},a.$$proto.getContext=function(){var t=this.context;return t&&"function"==typeof t.$to_s?t.$to_s():t},a.$$proto.getId=function(){return this.id},a.$$proto.isOption=function(t){return this["$option?"](t)},a.$$proto.setOption=function(t){return this.$set_option(t)},a.$$proto.getIconUri=function(t){return this.$icon_uri(t)},a.$$proto.getMediaUri=function(t,e){return this.$media_uri(t,e)},a.$$proto.getImageUri=function(t,e){return this.$image_uri(t,e)},a.$$proto.getConverter=function(){return this.$converter()},a.$$proto.readContents=function(t,n){return this.$read_contents(t,e(n))},a.$$proto.readAsset=function(t,n){return this.$read_asset(t,e(n))},a.$$proto.normalizeWebPath=function(t,e,n){return this.$normalize_web_path(t,e,n)},a.$$proto.normalizeSystemPath=function(t,n,r,i){return this.$normalize_system_path(t,n,r,e(i))},a.$$proto.normalizeAssetPath=function(t,e,n){return this.$normalize_asset_path(t,e,n)};var $=Opal.Asciidoctor.Document;$.$$proto.getHeader=function(){return this.header},$.$$proto.setAttribute=function(t,e){return this.$set_attribute(t,e)},$.$$proto.removeAttribute=function(t){this.attributes.$delete(t),this.attribute_overrides.$delete(t)},$.$$proto.convert=function(t){var n=this.$convert(e(t));return n===Opal.nil?"":n},$.$$proto.write=function(t,e){return this.$write(t,e)},$.$$proto.getAuthor=function(){return this.$author()},$.$$proto.getSource=function(){return this.$source()},$.$$proto.getSourceLines=function(){return this.$source_lines()},$.$$proto.isNested=function(){return this["$nested?"]()},$.$$proto.hasFootnotes=function(){return this["$footnotes?"]()},$.$$proto.getFootnotes=function(){return this.$footnotes()},$.$$proto.isEmbedded=function(){return this["$embedded?"]()},$.$$proto.hasExtensions=function(){return this["$extensions?"]()},$.$$proto.getDoctype=function(){return this.$doctype()},$.$$proto.getBackend=function(){return this.$backend()},$.$$proto.isBasebackend=function(t){return this["$basebackend?"](t)},$.$$proto.getTitle=function(){return this.$title()},$.$$proto.setTitle=function(t){return this["$title="](t)},$.$$proto.getDocumentTitle=function(t){return this.$doctitle(e(t))},$.$$proto.getDoctitle=function(t){return this.getDocumentTitle(t)},$.$$proto.getRevisionDate=function(){return this.getAttribute("revdate")},$.$$proto.getRevdate=function(){return this.getRevisionDate()},$.$$proto.getRevisionNumber=function(){return this.getAttribute("revnumber")},$.$$proto.getRevisionRemark=function(){return this.getAttribute("revremark")},$.RevisionInfo=function(t,e,n){this.date=t,this.number=e,this.remark=n};var o=$.RevisionInfo;o.prototype.getDate=function(){return this.date},o.prototype.getNumber=function(){return this.number},o.prototype.getRemark=function(){return this.remark},o.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark},$.$$proto.getRevisionInfo=function(){return new $.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},$.$$proto.hasRevisionInfo=function(){var t=this.getRevisionInfo();return!t.isEmpty()},$.$$proto.getNotitle=function(){return this.$notitle()},$.$$proto.getNoheader=function(){return this.$noheader()},$.$$proto.getNofooter=function(){return this.$nofooter()},$.$$proto.hasHeader=function(){return this["$header?"]()},$.$$proto.deleteAttribute=function(t){return this.$delete_attribute(t)},$.$$proto.isAttributeLocked=function(t){return this["$attribute_locked?"](t)},$.$$proto.parse=function(t){return this.$parse(t)},$.$$proto.getDocinfo=function(t,e){return this.$docinfo(t,e)},$.$$proto.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},$.$$proto.counterIncrement=function(t,e){return this.$counter_increment(t,e)},$.$$proto.counter=function(t,e){return this.$counter(t,e)},$.$$proto.getSafe=function(){return this.$safe},$.$$proto.getCompatMode=function(){return this.$compat_mode},$.$$proto.getSourcemap=function(){return this.$sourcemap},$.$$proto.getReferences=function(){return this.$references},$.$$proto.getCounters=function(){return this.$counters},$.$$proto.getCallouts=function(){return this.$callouts},$.$$proto.getBaseDir=function(){return this.$base_dir},$.$$proto.getOptions=function(){return this.$options},$.$$proto.getOutfilesuffix=function(){return this.$outfilesuffix},$.$$proto.getParentDocument=function(){return this.$parent_document},$.$$proto.getReader=function(){return this.$reader},$.$$proto.getConverter=function(){return this.$converter},$.$$proto.getExtensions=function(){return this.$extensions};var s=$.Title;s.$$proto.getMain=function(){return this.main},s.$$proto.getCombined=function(){return this.combined},s.$$proto.getSubtitle=function(){return this.subtitle},s.$$proto.isSanitized=function(){var t=this["$sanitized?"]();return t!==Opal.nil&&t},s.$$proto.hasSubtitle=function(){return this["$subtitle?"]()};var l=Opal.Asciidoctor.Inline;l.$$proto.convert=function(){return this.$convert()},l.$$proto.getText=function(){var t=this.$text();return t===Opal.nil?void 0:t},l.$$proto.getType=function(){return this.$type()},l.$$proto.getTarget=function(){var t=this.$target();return t===Opal.nil?void 0:t};var c=Opal.Asciidoctor.Reader;c.$$proto.pushInclude=function(t,e,n,r,i){return this.$push_include(t,e,n,r,i)},c.$$proto.getCursor=function(){return this.$cursor()},c.$$proto.getLines=function(){return this.$lines()};var u=function(t){return t.$$arity=t.length,t},_=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=_,_.create=function(t,e){return"function"==typeof t&&"undefined"==typeof e?Opal.send(this,"build_registry",null,u(t)):"function"==typeof e?Opal.send(this,"build_registry",[t],u(e)):this.$build_registry()},_.register=function(t,e){return"function"==typeof t&&"undefined"==typeof e?Opal.send(this,"register",null,u(t)):Opal.send(this,"register",[t],u(e))};var d=_.Registry;d.$$proto.block=function(t,e){return"function"==typeof t&&"undefined"==typeof e?Opal.send(this,"block",null,u(t)):Opal.send(this,"block",[t],u(e))},d.$$proto.inlineMacro=function(t,e){return"function"==typeof t&&"undefined"==typeof e?Opal.send(this,"inline_macro",null,u(t)):Opal.send(this,"inline_macro",[t],u(e))},d.$$proto.includeProcessor=function(t){return Opal.send(this,"include_processor",null,u(t))},d.$$proto.blockMacro=function(t,e){return"function"==typeof t&&"undefined"==typeof e?Opal.send(this,"block_macro",null,u(t)):Opal.send(this,"block_macro",[t],u(e))},d.$$proto.treeProcessor=function(t,e){return"function"==typeof t&&"undefined"==typeof e?Opal.send(this,"treeprocessor",null,u(t)):Opal.send(this,"treeprocessor",[t],u(e))},d.$$proto.postprocessor=function(t,e){return"function"==typeof t&&"undefined"==typeof e?Opal.send(this,"postprocessor",null,u(t)):Opal.send(this,"postprocessor",[t],u(e))},d.$$proto.preprocessor=function(t,e){return"function"==typeof t&&"undefined"==typeof e?Opal.send(this,"preprocessor",null,u(t)):Opal.send(this,"preprocessor",[t],u(e))},d.$$proto.docinfoProcessor=function(t,e){return"function"==typeof t&&"undefined"==typeof e?Opal.send(this,"docinfo_processor",null,u(t)):Opal.send(this,"docinfo_processor",[t],u(e))};var f=_.Processor;f.$$proto.process=function(t){return Opal.send(this,"process",null,u(t))},f.$$proto.named=function(t){return this.$named(t)},f.$$proto.createBlock=function(t,n,r,i,a){return this.$create_block(t,n,r,e(i),e(a))},f.$$proto.createInline=function(t,n,r,i){return this.$create_inline(t,n,r,e(i))},f.$$proto.parseContent=function(t,e,n){return this.$parse_content(t,e,n)},f.$$proto.positionalAttributes=function(t){return"function"==typeof this.$positional_attrs?this.$positional_attrs(t):this.$positional_attributes(t)};var p=_.BlockProcessor;p.$$proto.onContext=function(t){return this.$on_context(t)};var h=(_.BlockMacroProcessor,_.IncludeProcessor);h.$$proto.handles=function(t){return Opal.send(this,"handles?",null,u(t))};var g;g="undefined"!=typeof _.TreeProcessor?_.TreeProcessor:_.Treeprocessor;var v=(_.Postprocessor,_.Preprocessor,_.DocinfoProcessor);return v.$$proto.atLocation=function(t){this.$at_location(t)},Opal.Asciidoctor});
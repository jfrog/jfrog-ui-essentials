(("undefined"!==typeof self?self:this)["webpackJsonpjfrog_ui_essentials"]=("undefined"!==typeof self?self:this)["webpackJsonpjfrog_ui_essentials"]||[]).push([[25],{a7c7:function(i,t,n){"use strict";n.r(t);var e=function(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",[n("div",{staticClass:"grid-batch-actions text-right"},i._l(i.actions,(function(t,e){var o;return n("div",{directives:[{name:"jf-tooltip",rawName:"v-jf-tooltip.bind",value:i.isDisabled(t)?t.getDisabledTooltip():"",expression:"isDisabled(action) ? action.getDisabledTooltip() : ''",modifiers:{bind:!0}}],staticClass:"grid-batch-action-wrapper",class:{"more-actions":t===i.MORE_ACTIONS},style:{visibility:t===i.MORE_ACTIONS||-1!==i.visibleActions.indexOf(t)?"inherit":"hidden",opacity:t===i.MORE_ACTIONS||-1!==i.visibleActions.indexOf(t)?1:0},attrs:{"data-action-id":t.name}},[t===i.MORE_ACTIONS||t.visibleWhen&&!t.visibleWhen()?i._e():n("a",{class:(o={disabled:i.isDisabled(t)},o["btn batch-action-"+t.icon]=!0,o),on:{click:function(n){return n.preventDefault(),i.perform(t)}}},[t.img?n("img",{attrs:{src:"images/"+t.icon+".png"}}):i._e(),t.img?i._e():n("i",{class:"icon icon-"+t.icon}),i._v(" "+i._s(t.name)+"\n            ")]),t===i.MORE_ACTIONS?n("div",{staticClass:"more-wrapper"},[n("jf-actions",{attrs:{"parent-controller":i.jfBatchActions,label:"More Actions","init-method":"initActions","show-drop-down-for-one-item":!0}})],1):i._e()])})),0)])},o=[],s=(n("7f7f"),n("ac6a"),n("7514"),n("dd61")),c=n.n(s),r=n("2769"),a=n.n(r),l=n("9380"),h=n.n(l),d={name:"jf-grid-batch-actions",props:["actions","gridApi","gridOptions"],"jf@inject":["$element","$scope","$timeout"],data:function(){return{MORE_ACTIONS:{"@@MORE_ACTIONS@@":"@@MORE_ACTIONS@@"}}},created:function(){var i=this;this.$scope.$watch("jfBatchActions.gridApi",(function(){i.gridApi&&(i.gridApi.selection.on.rowSelectionChanged(i.$scope,(function(t){i.$timeout((function(){return i.updateMoreActions()}))})),i.gridApi.selection.on.rowSelectionChangedBatch(i.$scope,(function(t){i.$timeout((function(){return i.updateMoreActions()}))})))}))},mounted:function(){var i=this;this.$scope.$on("ui-layout.resize",(function(){i.$timeout((function(){return i.calcActionsVisibility()}))})),$(window).on("resize",(function(){i.$timeout((function(){return i.calcActionsVisibility()}))})),this.$scope.$watch("jfBatchActions.actions",(function(){return i.$timeout((function(){return i.calcActionsVisibility()}))})),this.$timeout((function(){return i.calcActionsVisibility()}))},ng1_legacy:{controllerAs:"jfBatchActions"},methods:{perform:function(i){!this.anySelected()||i.disabledWhen&&i.disabledWhen()||i.callback&&i.callback(this.gridApi.selection.getSelectedRows())},anySelected:function(){return this.gridApi&&this.gridApi.selection.getSelectedRows().length>0},isDisabled:function(i){return!this.anySelected()||i.disabledWhen&&i.disabledWhen()},calcActionsVisibility:function(){var i=this;if(this.actions){for(var t=[],n=[],e=115,o=$(this.$element).find(".grid-batch-action-wrapper:not(.more-actions)"),s=$(this.$element).width(),c=0,r=t,l=-1,d=this.actions.indexOf(this.MORE_ACTIONS),u=0;u<o.length;u++){var f=$(o[u]);c+=f.width();var A=f.attr("data-action-id"),p=a()(this.actions,{name:A}),m=this.actions.indexOf(p);if((c>s||this.moreActions&&this.moreActions.length&&c-f.width()+e>s)&&r===t&&(r=n,l=m,t.length&&c-f.width()+e>s)){var b=t.pop();n.push(b),l=this.actions.indexOf(b)}p&&r.push(p)}c<s&&(n=[],t=h()(this.actions,(function(t){return t!==i.MORE_ACTIONS})),l=-1);var g={TEMP:"TEMP"};-1!==d&&this.actions.splice(d,1,g),-1!==l&&this.actions.splice(l,0,this.MORE_ACTIONS);var O=this.actions.indexOf(g);-1!==O&&this.actions.splice(O,1),this.visibleActions=t,this.moreActions=n,this.$timeout((function(){return i.updateMoreActions()}))}},initActions:function(i){this.moreActionsController=i,this.gridOptions&&this.$set(this.gridOptions,"moreActionsController",i),this.updateMoreActions()},updateMoreActions:function(){var i=this;if(this.moreActionsController){var t=h()(this.actions,(function(t){return t!==i.MORE_ACTIONS})).length;this.moreActions.length<t?this.moreActionsController.label="More Actions":this.moreActions.length===t&&(this.moreActionsController.label="Actions");var n={};this.moreActions.forEach((function(t){n[t.name]={title:t.name,icon:"icon-"+t.icon,disabled:i.isDisabled(t)}})),this.moreActionsController.setActionsDictionary(n),this.moreActionsController.setActions(c()(this.moreActions,(function(i){return{name:i.name,visibleWhen:i.visibleWhen,action:i.callback}})))}}}},u=d,f=n("2877"),A=Object(f["a"])(u,e,o,!1,null,"7d485008",null);t["default"]=A.exports}}]);
//# sourceMappingURL=jfrog-ui-essentials.umd.min.jfGridBatchActions.js.map
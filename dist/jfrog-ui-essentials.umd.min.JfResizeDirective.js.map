{"version":3,"sources":["webpack://jfrog-ui-essentials/./src/directives/JfResizeDirective.js"],"names":["attachEvent","document","isIE","navigator","userAgent","match","requestFrame","raf","window","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","fn","setTimeout","cancelFrame","cancel","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","id","resizeListener","e","win","target","srcElement","__resizeRAF__","trigger","__resizeTrigger__","__resizeListeners__","forEach","call","objectLoad","this","contentDocument","defaultView","__resizeElement__","addEventListener","addResizeListener","element","getComputedStyle","position","style","obj","createElement","setAttribute","onload","type","appendChild","data","push","inserted","el","binding","debounce","value","trailing"],"mappings":"gPAKMA,EAAcC,SAASD,YACvBE,EAAOC,UAAUC,UAAUC,MAAM,WACjCC,EAAgB,WAClB,IAAMC,EAAMC,OAAOC,uBAAyBD,OAAOE,0BAA4BF,OAAOG,6BAClF,SAAUC,GAAM,OAAOJ,OAAOK,WAAWD,EAAI,KACjD,OAAO,SAAUA,GAAM,OAAOL,EAAIK,IAHhB,GAMhBE,EAAe,WACjB,IAAMC,EAASP,OAAOQ,sBAAwBR,OAAOS,yBAA2BT,OAAOU,4BACnFV,OAAOW,aACX,OAAO,SAAUC,GAAM,OAAOL,EAAOK,IAHpB,GAMrB,SAASC,EAAeC,GACpB,IAAMC,EAAMD,EAAEE,QAAUF,EAAEG,WACtBF,EAAIG,eAAeZ,EAAYS,EAAIG,eACvCH,EAAIG,cAAgBpB,GAAa,WAC7B,IAAMqB,EAAUJ,EAAIK,kBACpBD,EAAQE,oBAAoBC,SAAQ,SAAUlB,GAC1CA,EAAGmB,KAAKJ,EAASL,SAK7B,SAASU,EAAWV,GAChBW,KAAKC,gBAAgBC,YAAYP,kBAAoBK,KAAKG,kBAC1DH,KAAKC,gBAAgBC,YAAYE,iBAAiB,SAAUhB,GAGhE,IAAMiB,EAAoB,SAAUC,EAAS3B,GACzC,IAAK2B,EAAQV,oBAET,GADAU,EAAQV,oBAAsB,GAC1B7B,EACAuC,EAAQX,kBAAoBW,EAC5BA,EAAQvC,YAAY,WAAYqB,OAE/B,CACyC,UAAtCmB,iBAAiBD,GAASE,WAAsBF,EAAQG,MAAMD,SAAW,YAC7E,IAAIE,EAAMJ,EAAQX,kBAAoB3B,SAAS2C,cAAc,UAC7DD,EAAIE,aAAa,QAAS,wIAC1BF,EAAIP,kBAAoBG,EACxBI,EAAIG,OAASd,EACbW,EAAII,KAAO,YACP7C,GAAMqC,EAAQS,YAAYL,GAC9BA,EAAIM,KAAO,cACN/C,GAAMqC,EAAQS,YAAYL,GAGvCJ,EAAQV,oBAAoBqB,KAAKtC,IAGtB,cACXuC,SAAU,SAAUC,EAAIC,GACpBf,EAAkBc,EAAIE,uBAAS,WACK,mBAAjBD,EAAQE,OACfF,EAAQE,UAEb,IAAM,CAAC,SAAW,EAAOC,UAAU","file":"jfrog-ui-essentials.umd.min.JfResizeDirective.js","sourcesContent":["import { debounce } from \"lodash\";\n\n/*\nReference: http://www.backalleycoder.com/2013/03/18/cross-browser-event-based-element-resize-detection/\n*/\nconst attachEvent = document.attachEvent;\nconst isIE = navigator.userAgent.match(/Trident/);\nconst requestFrame = (function () {\n    const raf = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame ||\n        function (fn) { return window.setTimeout(fn, 20); };\n    return function (fn) { return raf(fn); };\n})();\n\nconst cancelFrame = (function () {\n    const cancel = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame ||\n        window.clearTimeout;\n    return function (id) { return cancel(id); };\n})();\n\nfunction resizeListener(e) {\n    const win = e.target || e.srcElement;\n    if (win.__resizeRAF__) cancelFrame(win.__resizeRAF__);\n    win.__resizeRAF__ = requestFrame(function () {\n        const trigger = win.__resizeTrigger__;\n        trigger.__resizeListeners__.forEach(function (fn) {\n            fn.call(trigger, e);\n        });\n    });\n}\n\nfunction objectLoad(e) {\n    this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\n    this.contentDocument.defaultView.addEventListener('resize', resizeListener);\n}\n\nconst addResizeListener = function (element, fn) {\n    if (!element.__resizeListeners__) {\n        element.__resizeListeners__ = [];\n        if (attachEvent) {\n            element.__resizeTrigger__ = element;\n            element.attachEvent('onresize', resizeListener);\n        }\n        else {\n            if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\n            var obj = element.__resizeTrigger__ = document.createElement('object');\n            obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n            obj.__resizeElement__ = element;\n            obj.onload = objectLoad;\n            obj.type = 'text/html';\n            if (isIE) element.appendChild(obj);\n            obj.data = 'about:blank';\n            if (!isIE) element.appendChild(obj);\n        }\n    }\n    element.__resizeListeners__.push(fn);\n};\n\nexport default {\n    inserted: function (el, binding) {\n        addResizeListener(el, debounce(() => {\n                if (typeof binding.value == 'function') {\n                    binding.value()\n                }\n            }, 1000, {\"leading\": false, trailing: true})\n        )\n    }\n};\n"],"sourceRoot":""}
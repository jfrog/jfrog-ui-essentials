{"version":3,"sources":["webpack://jfrog-ui-essentials/./src/components/JfJsTreeWrapComponent/index.vue?ce7e","webpack://jfrog-ui-essentials/src/components/JfJsTreeWrapComponent/index.vue","webpack://jfrog-ui-essentials/./src/components/JfJsTreeWrapComponent/index.vue?a598","webpack://jfrog-ui-essentials/./src/components/JfJsTreeWrapComponent/index.vue"],"names":[],"mappings":";;;;;;;;;;AAAA,0BAA0B,aAAa,0BAA0B,wBAAwB,2BAA2B,aAAa,0EAA0E,0CAA0C,6BAA6B,kCAAkC,YAAY,iDAAiD,oCAAoC;AACrZ,oCAAoC,aAAa,0BAA0B,wBAAwB,iBAAiB,qCAAqC,sBAAsB,2BAA2B,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkBhN;AACA;AACA,yBADA;AAEA,UACA,UADA,EAEA,YAFA,EAGA,YAHA,CAFA;AAOA,gBACA,QADA,EAEA,IAFA,EAGA,UAHA,EAIA,UAJA,CAPA;AAaA,MAbA,kBAaA;AACA;AACA,GAfA;AAgBA,SAhBA,qBAgBA;AAAA;;AAEA;;AACA;AAEA;AACA,gCACA;AACA,KAHA;AAIA,GAzBA;AA0BA;AAAA;AAAA,GA1BA;AA2BA;AACA,cADA,wBACA;AACA;AACA;AAAA;AAAA,SADA;AAEA;AACA,sCADA;AAEA,6BAFA;AAGA,gCAHA;AAIA;AAJA,SAFA;AAQA,gFACA,UADA,EAEA,UAFA,IAGA;AAXA;AAaA,KAfA;AAgBA,YAhBA,sBAgBA;AAAA;;AACA;AACA;;AACA;AAAA;AAAA;;AACA;AACA,OAJA;AAKA,KAtBA;AAuBA,sBAvBA,gCAuBA;AAAA;;AACA,uEACA,CADA;AAEA;AACA;AAAA;AAAA;AACA,OAFA;AAGA;AACA;AAAA;AAAA;AACA,OAFA;AAGA,KAhCA;AAiCA,aAjCA,uBAiCA;AAAA;;AACA;AACA;;AAEA;AACA,4BACA,2BADA,KAEA;AACA;AAAA;AAAA;;AACA;AACA;AAAA;AAAA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,OAXA;;AAYA;AACA;AAEA;AACA;AACA;AACA,OAFA;AAGA;AACA,KAzDA;AA0DA,UA1DA,oBA0DA;AACA;AACA,KA5DA;AA6DA,iBA7DA,yBA6DA,QA7DA,EA6DA;AAAA;;AACA,yCACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA,uBADA;AAEA,yBAFA;AAGA,yBAHA;AAIA;AAJA;;AAOA;;AAEA;AACA,OAjBA;AAkBA,KAlFA;AAmFA,kBAnFA,0BAmFA,IAnFA,EAmFA;AAAA;;AACA;AACA;;AACA;AACA,OAHA;;AAIA;AACA;;AACA;AACA,OAHA;;AAIA;AAAA;;AACA;;AACA;AACA,uBACA,iCADA,KAGA;AACA;AACA,OARA;;AASA;AAAA;;AACA;;AACA;AACA,sBACA,6CADA,KAGA;AACA;AACA,OARA;AASA,KA9GA;AA+GA,yBA/GA,iCA+GA,QA/GA,EA+GA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,yBACA;AACA;AACA;AACA;;AACA;AACA,OAjBA;;AAkBA;AACA;AACA,KAtIA;AAuIA,WAvIA,qBAuIA;AACA;AACA;AAzIA;AA3BA,G;;ACpB8U,CAAgB,0IAAG,EAAC,C;;;;;ACAlQ;AACvC;AACL;;;AAGpD;AAC6F;AAC7F,gBAAgB,8CAAU;AAC1B,EAAE,wDAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,4G","file":"jfrog-ui-essentials.umd.jfJsTreeWrap.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasData()),expression:\"hasData()\"}],staticClass:\"jf-js-tree-wrap-container\"},[(_vm.treeHeader)?_c('div',{staticClass:\"tree-browser-header\"},[_c('div',{staticClass:\"tree-browser-header-tabs\",domProps:{\"innerHTML\":_vm._s(_vm.treeHeader)}})]):_vm._e(),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tree-element-container\"},[_c('div',[_c('div',{staticClass:\"tree-element\"})])])}]\n\nexport { render, staticRenderFns }","<template>\n\n    <div>\n        <div v-show=\"hasData()\" class=\"jf-js-tree-wrap-container\">\n            <div class=\"tree-browser-header\" v-if=\"treeHeader\">\n                <div class=\"tree-browser-header-tabs\" v-html=\"treeHeader\">\n                </div>\n            </div>\n            <div class=\"tree-element-container\">\n                <div>\n                    <div class=\"tree-element\"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</template>\n\n<script>\n    import map from 'lodash/map';\n    export default {\n        name: 'jf-js-tree-wrap',\n        props: [\n            'treeData',\n            'treeHeader',\n            'checkboxes'\n        ],\n        'jf@inject': [\n            '$scope',\n            '$q',\n            '$element',\n            '$timeout'\n        ],\n        data() {\n            return {};\n        },\n        mounted() {\n\n            /* (NG2VUE) This was moved from created() to mounted() */\n            /* (NG2VUE) Todo: If any other code in created() depends on this, it should also be moved here. */\n\n            this.$scope.$watch('jfJsTreeWrap.treeData', data => {\n                if (data && !this.built)\n                    this.initTree();\n            });\n        },\n        ng1_legacy: { 'controllerAs': 'jfJsTreeWrap' },\n        methods: {\n            treeConfig() {\n                return {\n                    'core': { 'data': {} },\n                    'checkbox': {\n                        'keep_selected_style': false,\n                        'three_state': true,\n                        'tie_selection': false,\n                        'whole_node': false\n                    },\n                    'plugins': this.checkboxes === true || this.checkboxes === undefined ? [\n                        'wholerow',\n                        'checkbox'\n                    ] : []\n                };\n            },\n            initTree() {\n                this.buildTree().then(() => {\n                    this.registerTreeEvents();\n                    this.$emit('on-ready', { jstree: this.jstree() });\n                    this.built = true;\n                });\n            },\n            registerTreeEvents() {\n                $(this.treeElement).on('select_node.jstree', (e, args) => {\n                });\n                $(this.treeElement).on('check_node.jstree', (e, args) => {\n                    this.$timeout(() => this.$emit('on-state-change'));\n                });\n                $(this.treeElement).on('uncheck_node.jstree', (e, args) => {\n                    this.$timeout(() => this.$emit('on-state-change'));\n                });\n            },\n            buildTree() {\n                this.transformedData = this.transformData(this.treeData);\n                let TreeConfig = this.treeConfig();\n\n                TreeConfig.core.data = (obj, cb) => {\n                    if (obj.id === '#')\n                        cb(this.transformedData);\n                    else {\n                        let children = this.$emit('get-children-func', { node: obj.data.originalObject() });\n                        if (children.then) {\n                            children.then(data => cb(this.transformData(data)));\n                        } else {\n                            cb(children ? this.transformData(children) : []);\n                        }\n                    }\n                };\n                this.treeElement = $(this.$element).find('.tree-element');\n                $(this.treeElement).jstree(TreeConfig);\n\n                let defer = this.$q.defer();\n                $(this.treeElement).on('ready.jstree', e => {\n                    defer.resolve();\n                });\n                return defer.promise;\n            },\n            jstree() {\n                return $(this.treeElement).jstree();\n            },\n            transformData(origData) {\n                if (!origData || !origData.length)\n                    return;\n                return map(origData, origItem => {\n                    let item = {};\n                    item.data = { originalObject: () => origItem };\n                    let children = this.$emit('get-children-func', { node: origItem });\n                    item.children = children && (children.length || children.then) ? true : [];\n                    item.text = this.$emit('get-text-func', { node: origItem }) || '';\n                    item.icon = 'jf-tree-no-icon';\n                    item.state = this.getInitialStateFunc ? this.$emit('get-initial-state-func', { node: origItem }) : {\n                        opened: false,\n                        disabled: false,\n                        selected: false,\n                        checked: false\n                    };\n\n                    this.setItemMethods(origItem);\n\n                    return item;\n                });\n            },\n            setItemMethods(item) {\n                item.$isChecked = () => {\n                    let node = this.getTreeNodeByOrigItem(item);\n                    return node ? this.jstree().is_checked(node) : false;\n                };\n                item.$isOpened = () => {\n                    let node = this.getTreeNodeByOrigItem(item);\n                    return node ? this.jstree().is_open(node) : false;\n                };\n                item.$setChecked = (checked = true) => {\n                    let node = this.getTreeNodeByOrigItem(item);\n                    if (node) {\n                        if (checked)\n                            this.jstree().check_node(node);\n                        else\n                            this.jstree().uncheck_node(node);\n                    }\n                };\n                item.$setOpened = (opened = true) => {\n                    let node = this.getTreeNodeByOrigItem(item);\n                    if (node) {\n                        if (opened)\n                            this.jstree().open_node(node, null, false);\n                        else\n                            this.jstree().close_node(node, null, false);\n                    }\n                };\n            },\n            getTreeNodeByOrigItem(origItem) {\n                let treeJSON = this.jstree().get_json();\n                let found;\n                let recursiveFind = arr => {\n                    for (let i = 0; i < arr.length; i++) {\n                        if (arr[i].data.originalObject() === origItem) {\n                            found = arr[i];\n                            break;\n                        }\n                    }\n                    if (!found) {\n                        for (let i = 0; i < arr.length; i++) {\n                            if (arr[i].children && arr[i].children.length) {\n                                found = recursiveFind(arr[i].children);\n                                if (found)\n                                    break;\n                            }\n                        }\n                    }\n                    return found;\n                };\n                recursiveFind(treeJSON);\n                return found;\n            },\n            hasData() {\n                return this.treeData && this.treeData.length;\n            }\n\n        }\n    }\n\n</script>\n\n<style scoped lang=\"less\">\n\n\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=371926b1&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"371926b1\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
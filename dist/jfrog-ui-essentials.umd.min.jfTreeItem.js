(("undefined"!==typeof self?self:this)["webpackJsonpjfrog_ui_essentials"]=("undefined"!==typeof self?self:this)["webpackJsonpjfrog_ui_essentials"]||[]).push([[54],{e9ec:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.refreshHack.count&&e.getClasses().concat(e.getCustomClasses()),style:{height:e.tree.viewPane.itemHeight,"line-height":e.tree.viewPane.itemHeight},on:{click:function(t){return e.onItemClick(t)},dblclick:function(t){return e.onItemDoubleClick()}}},[i("div",{staticClass:"jf-tree-item-container",style:{height:e.tree.viewPane.itemHeight,"line-height":e.tree.viewPane.itemHeight}},[i("jf-tree-indentation",{attrs:{visible:e.tree.api.linesVisible,height:e.tree.viewPane.itemHeight,"lines-backgrounds":e.tree.viewPane.linesBackgrounds,indentation:e.getIndentation()}}),e.data.level>=1&&e.tree.api.linesVisible&&!e.shouldShowExpander()&&!e.data.$pending?i("div",{staticClass:"no-children-line-extension",style:{height:e.tree.viewPane.itemHeight,"background-image":"url('"+e.tree.viewPane.linesBackgrounds["horizontal-line"]+"')"}}):e._e(),e.data.data===e.tree.api.GO_UP_NODE?i("span",{staticClass:"drill-back"},[e._v("  ..")]):e._e(),e.data.data!==e.tree.api.GO_UP_NODE&&(e.shouldShowExpander()||e.data.$pending||0===e.data.level)?i("div",{directives:[{name:"init",rawName:"v-init",value:e.initExpander(),expression:"initExpander()"}],staticClass:"node-expander",style:{height:e.tree.viewPane.itemHeight},on:{click:function(t){e.shouldShowExpander()&&e.toggleExpansion(),t.stopPropagation()}}},[e.shouldShowExpander()?i("div",{staticClass:"action-icon icon icon-addons-arrow-right"}):e._e(),e.data.$pending?i("div",{staticClass:"spinner-msg-local"},[i("div",{staticClass:"icon-hourglass-local"})]):e._e()]):e._e(),e.data.data!==e.tree.api.GO_UP_NODE?i("div",{staticClass:"jf-tree-item-content"},[i("jf-tree-compiled-cell",{attrs:{"item-id":e.itemId,"tree-item":e.jfTreeItem}})],1):e._e()],1)])},n=[],s=(i("4917"),i("7514"),i("ac6a"),i("6747")),r=i.n(s),d=i("dd61"),c=i.n(d),o=i("9380"),l=i.n(o),h={name:"jf-tree-item",props:["data","itemId","tree"],"jf@inject":["$scope","$element","$timeout","AdvancedStringMatch"],data:function(){return{refreshHack:this.tree.refreshHack}},created:function(){this.asm=this.AdvancedStringMatch},mounted:function(){$(this.$el).prop("comp",this),this._watchSelection(),this._watchExpansion(),this._registerEvents(),$(this.$element).prop("ctrl",this)},ng1_legacy:{controllerAs:"jfTreeItem"},methods:{_registerEvents:function(){var e=this;this.tree.api.eventsToRegisterOnNode&&this.tree.api.eventsToRegisterOnNode.forEach((function(t){e.tree.api.JFrogEventBus.registerOnScope(e.$scope,t.event,(function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];t.callback(e.data.data,a)}))}))},initExpander:function(){this._syncExpansionClass(this.isExpanded())},_syncExpansionClass:function(e){var t=$(this.$element).find(".node-expander");e?t.addClass("expanded"):t.removeClass("expanded")},_watchExpansion:function(){var e=this;this.$scope.$watch((function(){return e.isExpanded()}),(function(t){return e._syncExpansionClass(t)})),this.$scope.$watch("jfTreeItem.data",(function(){return e._syncExpansionClass(e.isExpanded())}))},_watchSelection:function(){var e=this,t=function(t,i){t?$(e.$element).addClass(i):$(e.$element).removeClass(i)};this.$scope.$watch((function(){return e.tree.api.$freezedSelected||e.tree.api.$selectedNode}),(function(i){var a=i===e.data.data;t(a,"selected")})),this.$scope.$watch((function(){return e.tree.api.$freezedPreSelected||e.tree.api.$preSelectedNode}),(function(i){var a=i===e.data.data;t(a,"pre-selected")})),this.$scope.$watch("jfTreeItem.data",(function(){var i=(e.tree.api.$freezedPreSelected||e.tree.api.$preSelectedNode)===e.data.data,a=(e.tree.api.$freezedSelected||e.tree.api.$selectedNode)===e.data.data;t(a,"selected"),t(i,"pre-selected")}))},_getTreeContainer:function(){return $(this.tree.$element).find(".jf-tree-container")},isSelected:function(){return this.tree.api._isSelected(this.data)},isPreSelected:function(){return this.tree.api._isPreSelected(this.data)},onItemClick:function(e){"click"===e.type&&(this.data.data===this.tree.api.GO_UP_NODE?this.tree.api.drillUp():(this.tree.api._setSelected(this.data),this.tree.api.fire("item.clicked",this.data.data)))},onItemDoubleClick:function(){this.tree.api.fire("item.dblClicked",this.data.data)},isExpanded:function(){return this.tree.viewPane.isNodeOpen(this.data.data)},toggleExpansion:function(){this.tree.api.toggleExpansion(this.data.data)},isQuickFindMatch:function(){var e=$(this.$element).find(".jf-tree-item-content .node-text");if(e.length){var t=e.text();if(e.unhighlight(),t&&this.tree.api.quickFindTerm){var i=this.asm.match(t,this.tree.api.quickFindTerm);return i.matched&&this.asm.highlight(e,i.segments),i.matched}return!1}},getClasses:function(){var e=["jf-tree-item-vue"];return this.isQuickFindMatch()&&e.push("quick-find-match"),e},getCustomClasses:function(){if(this.data.data&&this.data.data!==this.tree.api.GO_UP_NODE&&this.tree.api.classGetter){var e=this.tree.api.classGetter(this.data.data);return e?r()(e)||(e=[e]):e=[],e}return[]},shouldShowExpander:function(){return this.data.hasChildren&&!this.data.data.$noChildren&&!this.data.$pending},getIndentation:function(){return this.data.data.$indentation||this.createIndentation(),this.data.data.$indentation},createIndentation:function(){if(this.tree.api.linesVisible){for(var e=this.data.pane.$flatItems,t=function(t){if(void 0===t.$isLastChild){var i=t.parent,a=l()(e,{parent:i}),n=a.indexOf(t);t.$isLastChild=-1!==n&&n===a.length-1}return t.$isLastChild},i=[],a=this.data,n=this.data.level-1;n>=0;n--){var s=t(a),r={index:n,background:n===this.data.level-1?s?"last-connection-point":"connection-point":s?"":"vertical-line"};i.push(r),a=a.parent}this.$set(this.data.data,"$indentation",i.reverse())}else this.$set(this.data.data,"$indentation",c()(new Array(this.data.level),(function(e){return{}})))}}},p=h,u=i("2877"),f=Object(u["a"])(p,a,n,!1,null,"12d09ce3",null);t["default"]=f.exports}}]);
//# sourceMappingURL=jfrog-ui-essentials.umd.min.jfTreeItem.js.map
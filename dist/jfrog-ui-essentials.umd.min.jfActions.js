(("undefined"!==typeof self?self:this)["webpackJsonpjfrog_ui_essentials"]=("undefined"!==typeof self?self:this)["webpackJsonpjfrog_ui_essentials"]||[]).push([[10],{"32aa":function(n,t,i){"use strict";i("6d90")},"6d90":function(n,t,i){},f2ca:function(n,t,i){"use strict";i.r(t);var e=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",[i("ul",{directives:[{name:"show",rawName:"v-show",value:n.getActiveActionsCount(),expression:"getActiveActionsCount()"}],staticClass:"list-inline"},[n._l(n.fixedActions,(function(t,e){return i("li",{directives:[{name:"show",rawName:"v-show",value:!t.visibleWhen||t.visibleWhen(),expression:"!actionObj.visibleWhen || actionObj.visibleWhen()"}],key:e,staticClass:"action-button",class:{disabled:t.disabled||t.disabledWhen&&t.disabledWhen()},on:{click:function(i){return n.doAction(t,i)}}},[i("a",{attrs:{href:t.href,download:""}},[i("i",{staticClass:"action-icon icon",class:t.icon}),n._v(" "+n._s(t.title)+"\n            ")])])})),i("li",{directives:[{name:"show",rawName:"v-show",value:n.dynamicActions.length,expression:"dynamicActions.length"}],staticClass:"action-button"},[i("span",{staticClass:"dropdown",class:{open:n.isDropdownOpen}},[i("ul",{staticClass:"dropdown-menu dropdown-menu-right actions-dropdown text-left"},n._l(n.dynamicActions,(function(t,e){return i("li",{directives:[{name:"show",rawName:"v-show",value:(!t.visibleWhen||t.visibleWhen())&&!t.isHidden,expression:"(!actionObj.visibleWhen || actionObj.visibleWhen()) && !actionObj.isHidden"}],key:e,staticClass:"action-item dynamic-action"},[i("a",{staticClass:"action-container",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),n.doAction(t,i)}}},[t.icon?i("span",{staticClass:"action-icon icon",class:t.icon}):n._e(),t.image&&!t.icon?i("span",{staticClass:"action-icon"},[i("img",{attrs:{src:t.image}})]):n._e(),i("span",{staticClass:"action-name"},[n._v(n._s(t.title))])])])})),0),i("a",{staticClass:"dropdown-toggle actions-more",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),n.isDropdownOpen=!n.isDropdownOpen}}},[n._v("\n                    "+n._s(n.int_label)+" "),i("i",{staticClass:"action-icon icon icon-small-arrow-down"})])])])],2)])},s=[],o=(i("ac6a"),i("7f7f"),i("7514"),i("9380")),a=i.n(o),c=i("6cd4"),r=i.n(c),l=i("8a30"),d=i.n(l),u=i("e1f3"),h={name:"jf-actions",props:["label","initMethod","fixedActionsNames","disableMouseOverEvents","showDropDownForOneItem"],data:function(){return{fixedActions:[],dynamicActions:[],isDropdownOpen:!1,anyActionHasAnIcon:!1,actionsList:{actions:[]},int_label:this.label||"Actions",clicked:!1,stayOpened:!1}},computed:{hasSingleVisibleAction:function(){return 1===this.getActiveActionsCount()&&!this.showDropDownForOneItem}},watch:{actionsList:function(n){console.log("in watch for actions"),this._divideActions()},isDropdownOpen:function(n){!n&&this.clicked?(this.isDropdownOpen=!0,this.clicked=!1,this.stayOpened=!0):!n&&this.stayOpened&&(this.stayOpened=!1)}},mounted:function(){var n=this,t=this;if(t.initMethod&&t.$parent[t.initMethod]){t.$parent[t.initMethod](t),this.intervalId=setInterval((function(){t._divideActions()}),2e3),t.$watch("hasSingleVisibleAction",(function(n,i){n!==i&&t._divideActions()}));var i=!1,e=!1,s=t.$element.find(".actions-more"),o=t.$element.find(".action-button");t.disableMouseOverEvents||(s.on("mouseup",(function(){t.stayOpened||(t.clicked=!0)})),s.on("mouseenter",(function(){e=!0,t._toggleDropdown(!0)})),s.on("mouseleave",(function(){e=!1,t.stayOpened||t._toggleDropdown(i)})),o.on("mouseenter",(function(){i=!0,t._toggleDropdown(!0)})),o.on("mouseleave",(function(){i=!1,t.stayOpened||setTimeout((function(){t._toggleDropdown(e||i)}),200)}))),this.showDropdown=function(){n.stayOpened=!0,n.clicked=!0,e=!0,i=!0,n._toggleDropdown(!0)},this.hideDropdown=function(){n.stayOpened=!1,n.clicked=!1,e=!1,i=!1,n._toggleDropdown(!1)}}else console.error("jfActions: Missing init-method attribute")},beforeDestroy:function(){if(clearInterval(this.intervalId),!this.disableMouseOverEvents){var n=this.$element.find(".actions-more"),t=this.$element.find(".action-button");n.off("mouseup"),n.off("mouseenter"),n.off("mouseleave"),t.off("mouseenter"),t.off("mouseleave")}},methods:{setActionsHandler:function(n){this.actionsHandler=n},setCurrentEntity:function(n){this.currentEntity=n},setActionsDictionary:function(n){this.actionsDictionary=n,this._transformActionsData()},setActions:function(n){this.actionsList.actions=n,this._transformActionsData()},doAction:function(n,t){if(n.disabled||n.disabledWhen&&n.disabledWhen())return t.stopPropagation(),void t.preventDefault();"Download"===n.name&&n.xrayShouldValidate&&t.preventDefault(),this.actionsHandler?this.actionsHandler.perform(n,this.currentEntity):n.action&&n.action(this.currentEntity)},getActiveActionsCount:function(){return this.actionsList.actions&&this.actionsList.actions.length?a()(this.actionsList.actions,(function(n){return!n.visibleWhen||n.visibleWhen()})).length:0},_toggleDropdown:function(n){var t=this;setTimeout((function(){t.isDropdownOpen=n}),10)},_transformActionsData:function(){var n=this;this.actionsDictionary&&this.actionsList&&(this.actionsList.actions.forEach((function(t){if(!n.actionsDictionary[t.name])return console.log("Unrecognized action",t.name),!0;var i=u["a"].getInstance(),e=i.Vue;e.util.extend(t,n.actionsDictionary[t.name])})),this._divideActions())},_divideActions:function(){var n=this;this.fixedActions=[],this.dynamicActions=[],this.hasSingleVisibleAction?this.fixedActions.push(this.actionsList.actions.find((function(n){return n.visibleWhen()}))):(r()(this.actionsList.actions,(function(t){d()(n.fixedActionsNames,t.name)?n.fixedActions.push(t):(n.dynamicActions.push(t),n.anyActionHasAnIcon=n.anyActionHasAnIcon||!!t.icon)})),0!==this.fixedActions.length||1!==this.dynamicActions.length||this.showDropDownForOneItem||this.fixedActions.push(this.dynamicActions.pop()))}}},f=h,p=(i("32aa"),i("2877")),m=Object(p["a"])(f,e,s,!1,null,"1fe6b283",null);t["default"]=m.exports}}]);
//# sourceMappingURL=jfrog-ui-essentials.umd.min.jfActions.js.map